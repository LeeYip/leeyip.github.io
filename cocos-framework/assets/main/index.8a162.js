window.__require=function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AdaptCanvas:[function(t,e,n){"use strict";cc._RF.push(e,"2174f+PKGlGH7csvm0koWVs","AdaptCanvas");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),s=t("../../util/Events"),c=cc._decorator,l=c.ccclass,u=(c.property,c.menu),p=c.disallowMultiple;cc.view.setResizeCallback(function(){s.default.emit(a.EventName.RESIZE)});var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){var t=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;cc.winSize.width/cc.winSize.height>t?(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0)},r([s.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([l,s.eventsOnLoad(),p,u("Framework/UI\u7ec4\u4ef6/AdaptCanvas")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AdaptSize:[function(t,e,n){"use strict";cc._RF.push(e,"6c391dfrNBD95q+Uj9I1ejA","AdaptSize");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),s=t("../../util/Events"),c=cc._decorator,l=c.ccclass,u=(c.property,c.menu),p=c.executeInEditMode,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},r([s.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([l,s.eventsOnLoad(),p,u("Framework/UI\u7ec4\u4ef6/AdaptSize")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AnimValueLabel:[function(t,e,n){"use strict";cc._RF.push(e,"93188RmKh1GHJhJYMxNsu+u","AnimValueLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValue"),s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=s.requireComponent,p=s.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.getComponent(cc.Label)),this._label},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.label.string=""+Math.round(this.curValue)},r([c,p,u(cc.Label),l("Framework/UI\u7ec4\u4ef6/AnimValueLabel")],e)}(a.default);n.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValueProgressHP:[function(t,e,n){"use strict";cc._RF.push(e,"c3afeSdbzBJDJZejppXH98u","AnimValueProgressHP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValueProgress"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.requireComponent,h=s.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barShadow=null,e}return i(e,t),e.prototype.setBarShadow=function(t){switch(this.progressBar.mode){case cc.ProgressBar.Mode.HORIZONTAL:this.barShadow.node.width=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.VERTICAL:this.barShadow.node.height=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.FILLED:this.barShadow.fillRange=t}},e.prototype.onAnimStart=function(){this.isAdd||(this.progressBar.progress=this.endValue)},e.prototype.onAnimUpdate=function(){this.isAdd?(this.setBarShadow(this.curValue),this.progressBar.progress=this.curValue):this.setBarShadow(this.curValue)},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"barShadow",void 0),r([c,h,p(cc.ProgressBar),u("Framework/UI\u7ec4\u4ef6/AnimValueProgressHP")],e)}(a.default);n.default=f,cc._RF.pop()},{"./AnimValueProgress":"AnimValueProgress"}],AnimValueProgress:[function(t,e,n){"use strict";cc._RF.push(e,"7f95cXxJPhAJaQaqRBZkHaC","AnimValueProgress");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValue"),s=cc._decorator,c=s.ccclass,l=(s.property,s.menu),u=s.requireComponent,p=s.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._progressBar=null,e}return i(e,t),Object.defineProperty(e.prototype,"progressBar",{get:function(){return this._progressBar||(this._progressBar=this.getComponent(cc.ProgressBar)),this._progressBar},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.progressBar.progress=this.curValue},r([c,p,u(cc.ProgressBar),l("Framework/UI\u7ec4\u4ef6/AnimValueProgress")],e)}(a.default);n.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValue:[function(t,e,n){"use strict";cc._RF.push(e,"cfe49J1R7JHxIqVge927Yqj","AnimValue");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l,u=t("../../util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=p.menu,_=p.executeInEditMode;(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(c||(c={})),function(t){t[t.NONE=0]="NONE",t[t.IN=1]="IN",t[t.OUT=2]="OUT",t[t.IN_OUT=3]="IN_OUT"}(l||(l={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._endValue=0,e._curValue=0,e.animType=c.SPEED,e.speed=1,e.duration=1,e.easingType=l.NONE,e.timeScale=!1,e._tween=null,e._isAdd=!1,e}return i(e,t),Object.defineProperty(e.prototype,"initValue",{get:function(){return this._endValue},set:function(t){this._curValue=t,this._endValue=t,this.setValueImmediately(this._endValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdd",{get:function(){return this._isAdd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this._endValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curValue",{get:function(){return this._curValue},enumerable:!1,configurable:!0}),e.prototype.onAnimStart=function(){},e.prototype.onAnimUpdate=function(){},e.prototype.onAnimComplete=function(){this._animResolve&&(this._animResolve(),this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},e.prototype.setValueImmediately=function(t){this._isAdd=this._endValue-this._curValue>0,this._endValue=t,this._curValue=t,this.onAnimStart(),this.onAnimUpdate(),this.onAnimComplete()},e.prototype.setValue=function(t,e){return void 0===e&&(e=!0),a(this,void 0,Promise,function(){var n=this;return s(this,function(){return e?[2,new Promise(function(e){var o;n._animResolve=e,n._endValue=t,n._isAdd=n._endValue-n._curValue>0,null===(o=n._tween)||void 0===o||o.stop(),n._tween=n.timeScale?new u.Tween(n,u.SCALE_TWEEN):new u.Tween(n);var i=n.animType===c.DURATION?n.duration:Math.abs(n._endValue-n._curValue)/n.speed;switch(n.easingType){case l.IN:n._tween.easing(u.Easing.Quadratic.In);break;case l.OUT:n._tween.easing(u.Easing.Quadratic.Out);break;case l.IN_OUT:n._tween.easing(u.Easing.Quadratic.InOut)}n._tween.to({_curValue:n._endValue},1e3*i).onStart(function(){n.onAnimStart()}).onUpdate(function(){n.onAnimUpdate()}).onComplete(function(){n.onAnimComplete()}).start()})]:(this.setValueImmediately(t),[2])})})},e.prototype.stop=function(){this._animResolve&&(this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},r([f],e.prototype,"_endValue",void 0),r([f],e.prototype,"_curValue",void 0),r([f({tooltip:!1})],e.prototype,"initValue",null),r([f({type:cc.Enum(c),tooltip:!1})],e.prototype,"animType",void 0),r([f({tooltip:!1,visible:function(){return this.animType===c.SPEED}})],e.prototype,"speed",void 0),r([f({tooltip:!1,visible:function(){return this.animType===c.DURATION}})],e.prototype,"duration",void 0),r([f({type:cc.Enum(l),tooltip:!1})],e.prototype,"easingType",void 0),r([f({tooltip:!1})],e.prototype,"timeScale",void 0),r([h,_,d("Framework/UI\u7ec4\u4ef6/AnimValue")],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../util/Tween":"Tween"}],AnimatorAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"ddcbcHQdPFOfY+mAxuSRJ7E","AnimatorAnimation");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),s=cc._decorator,c=s.ccclass,l=(s.property,s.requireComponent),u=s.disallowMultiple,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._animation=null,e._animState=null,e._wrapModeMap=new Map,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&(this._animState=this._animation.play(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=e?cc.WrapMode.Loop:this._wrapModeMap.get(this._animState)))},e.prototype.scaleTime=function(t){this._animState&&(this._animState.speed=t)},r([c,u,l(cc.Animation),p("Framework/Animator/AnimatorAnimation")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorBase:[function(t,e,n){"use strict";cc._RF.push(e,"33dabcEWT5IlqYLTD/ozvjl","AnimatorBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimatorController"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assetRawUrl=null,e.playOnStart=!0,e.autoUpdate=!0,e._hasInit=!1,e._ac=null,e._stateLogicMap=null,e._onStateChangeCall=null,e._animationPlayer=null,e._extraMulti=1,e}return i(e,t),Object.defineProperty(e.prototype,"extraMulti",{get:function(){return this._extraMulti},set:function(t){this._extraMulti!==t&&(this._extraMulti=t,this.updatePlaySpeed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateName",{get:function(){return this._ac.curState.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateMotion",{get:function(){return this._ac.curState.motion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animComplete",{get:function(){return this._ac.animComplete},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.initArgs=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){e&&("function"==typeof e?t._onStateChangeCall=e:"object"==typeof e&&(e instanceof Map?t._stateLogicMap=e:(t._animationPlayer=e,t._animationPlayer.setFinishedCallback(t.onAnimFinished,t))))})},e.prototype.updatePlaySpeed=function(){var t=this._ac.curState.speed*this.extraMulti;this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t)},e.prototype.updateAnimator=function(){if(this.updatePlaySpeed(),this._stateLogicMap){var t=this._stateLogicMap.get(this._ac.curState.name);t&&t.onUpdate()}this._ac.updateAnimator()},e.prototype.update=function(){this._hasInit&&this.autoUpdate&&this.updateAnimator()},e.prototype.manualUpdate=function(){this._hasInit&&!this.autoUpdate&&this.updateAnimator()},e.prototype.initJson=function(t){this._ac=new a.default(this,t),this._ac.changeState(t.defaultState)},e.prototype.onAnimFinished=function(){this._ac.onAnimationComplete()},e.prototype.playAnimation=function(){},e.prototype.scaleTime=function(){},e.prototype.onStateChange=function(t,e){this.playAnimation(e.motion,e.loop);var n=t?t.name:"";if(this._stateLogicMap){var o=this._stateLogicMap.get(n);o&&o.onExit();var i=this._stateLogicMap.get(e.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,e.name)},e.prototype.setBool=function(t,e){this._ac.params.setBool(t,e)},e.prototype.getBool=function(t){return 0!==this._ac.params.getBool(t)},e.prototype.setNumber=function(t,e){this._ac.params.setNumber(t,e)},e.prototype.getNumber=function(t){return this._ac.params.getNumber(t)},e.prototype.setTrigger=function(t){this._ac.params.setTrigger(t)},e.prototype.resetTrigger=function(t){this._ac.params.resetTrigger(t)},e.prototype.autoTrigger=function(t){this._ac.params.autoTrigger(t)},e.prototype.play=function(t){this._hasInit&&this._ac.play(t)},r([l({type:cc.JsonAsset,tooltip:!1})],e.prototype,"assetRawUrl",void 0),r([l({tooltip:!1})],e.prototype,"playOnStart",void 0),r([l({tooltip:!1})],e.prototype,"autoUpdate",void 0),r([c,u(-1e3)],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./AnimatorController":"AnimatorController"}],AnimatorCondition:[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"dee7b/HNztHyqFZucFEjW8S","AnimatorCondition"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicType=n.ParamType=void 0,function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(o=n.ParamType||(n.ParamType={})),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(i=n.LogicType||(n.LogicType={}));var r=function(){function t(t,e){this._ac=null,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=e,this._param=t.param,this._value=t.value,this._logic=t.logic}return t.prototype.getParamName=function(){return this._param},t.prototype.getParamType=function(){return this._ac.params.getParamType(this._param)},t.prototype.check=function(){var t=this.getParamType();if(t===o.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==o.NUMBER)return t===o.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===o.TRIGGER?0!==this._ac.params.getTrigger(this._param):(cc.error("[AnimatorCondition.check] \u9519\u8bef\u7684type: "+t),!1);var e=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return e===this._value;case i.NOTEQUAL:return e!==this._value;case i.GREATER:return e>this._value;case i.LESS:return e<this._value;case i.GREATER_EQUAL:return e>=this._value;case i.LESS_EQUAL:return e<=this._value;default:return!1}},t}();n.default=r,cc._RF.pop()},{}],AnimatorController:[function(t,e,n){"use strict";cc._RF.push(e,"de785Aa4lpFH59CMCV1Eb74","AnimatorController"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorParams"),i=t("./AnimatorState"),r=function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new o.default(e.parameters),this.init(e)}return Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.states.length<=0)cc.error("[AnimatorController.init] \u72b6\u6001\u673ajson\u9519\u8bef");else{this._anyState=new i.default(t.anyState,this);for(var e=0;e<t.states.length;e++){var n=new i.default(t.states[e],this);this._states.set(n.name,n)}}},t.prototype.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},t.prototype.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},t.prototype.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},t.prototype.play=function(t){if(this._states.has(t)){this.animComplete=!1;var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t.prototype.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)cc.error("[AnimatorController.changeState] error: \u72b6\u6001\u5207\u6362\u9012\u5f52\u8c03\u7528\u8d85\u8fc71000\u6b21\uff0ctransition\u8bbe\u7f6e\u53ef\u80fd\u51fa\u9519!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)cc.error("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t}();n.default=r,cc._RF.pop()},{"./AnimatorParams":"AnimatorParams","./AnimatorState":"AnimatorState"}],AnimatorCustomization:[function(t,e,n){"use strict";cc._RF.push(e,"32e01QIrwtP4buKMSAxTJmr","AnimatorCustomization");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),s=cc._decorator,c=s.ccclass,l=s.property,u=(s.requireComponent,s.disallowMultiple),p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playOnStart=!1,e}return i(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,e)},e.prototype.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},r([l({override:!0,visible:!1})],e.prototype,"playOnStart",void 0),r([c,u,p("Framework/Animator/AnimatorCustomization")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorDragonBones:[function(t,e,n){"use strict";cc._RF.push(e,"0592f2y1olA0bK1DdnYDaoE","AnimatorDragonBones");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),s=cc._decorator,c=s.ccclass,l=(s.property,s.requireComponent),u=s.disallowMultiple,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dragonBones=null,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&this._dragonBones.playAnimation(t,e?0:-1)},e.prototype.scaleTime=function(t){this._dragonBones.timeScale=t},r([c,u,l(dragonBones.ArmatureDisplay),p("Framework/Animator/AnimatorDragonBones")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorParams:[function(t,e,n){"use strict";cc._RF.push(e,"47250iiE8tKUZF6tjFUlfMo","AnimatorParams"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),i=function(){function t(t){var e=this;this._paramMap=new Map,t.forEach(function(t){var n={type:t.type,value:t.init};e._paramMap.set(t.param,n)})}return t.prototype.getParamType=function(t){var e=this._paramMap.get(t);return e?e.type:null},t.prototype.setNumber=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.NUMBER&&(n.value=e)},t.prototype.setBool=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.BOOLEAN&&(n.value=e?1:0)},t.prototype.setTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=1)},t.prototype.resetTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=0)},t.prototype.autoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=1)},t.prototype.resetAutoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=0)},t.prototype.resetAllAutoTrigger=function(){this._paramMap.forEach(function(t){t.type===o.ParamType.AUTO_TRIGGER&&(t.value=0)})},t.prototype.getNumber=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.NUMBER?e.value:0},t.prototype.getBool=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.BOOLEAN?e.value:0},t.prototype.getTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.TRIGGER?e.value:0},t.prototype.getAutoTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.AUTO_TRIGGER?e.value:0},t}();n.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AnimatorSpineSecondary:[function(t,e,n){"use strict";cc._RF.push(e,"2488934/SlBPY9ngsu8UqWo","AnimatorSpineSecondary");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimatorSpine"),s=t("./core/AnimatorBase"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.requireComponent,h=c.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackIndex=1,e._main=null,e._spine=null,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(this.trackIndex,t,e):this._spine.clearTrack(this.trackIndex)},r([u({tooltip:!1})],e.prototype,"trackIndex",void 0),r([l,p(sp.Skeleton),h("Framework/Animator/AnimatorSpineSecondary")],e)}(s.default);n.default=f,cc._RF.pop()},{"./AnimatorSpine":"AnimatorSpine","./core/AnimatorBase":"AnimatorBase"}],AnimatorSpine:[function(t,e,n){"use strict";cc._RF.push(e,"8f224eiAodM8YIcjrZ0B9zN","AnimatorSpine");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),s=cc._decorator,c=s.ccclass,l=(s.property,s.requireComponent),u=s.disallowMultiple,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach(function(e,n){e?n.call(e,t):n(t)}),this._secondaryListenerMap.forEach(function(e,n){t.trackIndex===e.trackIndex&&n.call(e,t)})},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(0,t,e):this._spine.clearTrack(0)},e.prototype.scaleTime=function(t){this._spine.timeScale=t},e.prototype.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},e.prototype.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},e.prototype.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},e.prototype.clearCompleteListener=function(){this._completeListenerMap.clear},r([c,u,l(sp.Skeleton),p("Framework/Animator/AnimatorSpine")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorStateLogic:[function(t,e,n){"use strict";cc._RF.push(e,"67f80RtpchPbbZr6OYBU8NI","AnimatorStateLogic"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.onEntry=function(){},t.prototype.onUpdate=function(){},t.prototype.onExit=function(){},t}();n.default=o,cc._RF.pop()},{}],AnimatorState:[function(t,e,n){"use strict";cc._RF.push(e,"c1d25xIgn5M3ZaxWIV1n5ii","AnimatorState"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorTransition"),i=function(){function t(t,e){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=e;for(var n=0;n<t.transitions.length;n++){var i=new o.default(t.transitions[n],e);i.isValid()&&this._transitions.push(i)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motion",{get:function(){return this._motion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},enumerable:!1,configurable:!0}),t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var e=this._transitions[t];if(e&&e.check())return void e.doTrans()}},t}();n.default=i,cc._RF.pop()},{"./AnimatorTransition":"AnimatorTransition"}],AnimatorTransition:[function(t,e,n){"use strict";cc._RF.push(e,"34b08BDtkZDiLlsqDHQh7XT","AnimatorTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),i=function(){function t(t,e){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=e;for(var n=0;n<t.conditions.length;n++){var i=new o.default(t.conditions[n],e);this._conditions.push(i)}}return t.prototype.isValid=function(){return this._hasExitTime||this._conditions.length>0},t.prototype.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},t.prototype.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var e=this._conditions[t].getParamType(),n=this._conditions[t].getParamName();e===o.ParamType.TRIGGER?this._ac.params.resetTrigger(n):e===o.ParamType.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(n)}this._ac.changeState(this._toStateName)},t}();n.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"ed9cbEOGDVGSIJOKhzlTwEi","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SfxType=void 0;var o,i=t("./Tween");(function(t){t[t.NORMAL=0]="NORMAL",t[t.UI=1]="UI"})(o=n.SfxType||(n.SfxType={}));var r=function(){function t(){}return Object.defineProperty(t,"bgmVolume",{get:function(){return this._bgmVolume},set:function(t){var e=this;this._bgmVolume!==t&&(this._bgmVolume=cc.misc.clampf(t,0,1),this._bgmMap.forEach(function(t){cc.audioEngine.setVolume(t.id,e._bgmVolume*t.volume)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxVolume",{get:function(){return this._sfxVolume},set:function(t){var e=this;this._sfxVolume!==t&&(this._sfxVolume=cc.misc.clampf(t,0,1),this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmOff",{get:function(){return this._bgmOff},set:function(t){var e=this;this._bgmOff!==t&&(this._bgmOff=t,this._bgmOff&&(this._bgmMap.forEach(function(t){e.stop(t)}),this._bgmMap.clear()))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxOff",{get:function(){return this._sfxOff},set:function(t){var e=this;this._sfxOff!==t&&(this._sfxOff=t,this._sfxOff&&(this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0})))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmPause",{get:function(){return this._bgmPause},set:function(t){var e=this;this.bgmOff||this._bgmPause===t||(this._bgmPause=t,this._bgmMap.forEach(function(t){var n,o;e._bgmPause?(null===(n=t.tween)||void 0===n||n.pause(),cc.audioEngine.pause(t.id)):(null===(o=t.tween)||void 0===o||o.resume(),cc.audioEngine.resume(t.id))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxPause",{get:function(){return this._sfxPause},set:function(t){this.sfxOff||this._sfxPause===t||(this._sfxPause=t,this._sfxPause?this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.pause(),cc.audioEngine.pause(t.id)})}):this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.resume(),cc.audioEngine.resume(t.id)})}))},enumerable:!1,configurable:!0}),t.volumeFade=function(t,e,n,o,r){var a,s=this;null===(a=t.tween)||void 0===a||a.stop(),t.volume=n,cc.audioEngine.setVolume(t.id,t.volume*this.bgmVolume),t.tween=new i.Tween(t).to({volume:o},1e3*e).onUpdate(function(){cc.audioEngine.setVolume(t.id,t.volume*s.bgmVolume)}).onComplete(function(){t.tween=null,r&&r()}).start()},t.stop=function(t){t.tween&&(t.tween.stop(),t.tween=null),cc.audioEngine.stop(t.id)},t.play=function(t,e,n){void 0===n&&(n=null);var o=t instanceof cc.AudioClip?{clip:t}:t;return o.hasOwnProperty("loop")||(o.loop=!1),o.hasOwnProperty("fadeDuration")||(o.fadeDuration=0),o.hasOwnProperty("finishCall")||(o.finishCall=null),n?(n.id=cc.audioEngine.play(o.clip,o.loop,e),n.volume=1,n.tween&&(n.tween.stop(),n.tween=null)):n={id:cc.audioEngine.play(o.clip,o.loop,e),volume:1,tween:null},o.finishCall&&cc.audioEngine.setFinishCallback(n.id,o.finishCall),o.fadeDuration>0&&this.volumeFade(n,o.fadeDuration,0,1),n},t.playBgm=function(t){var e=t instanceof cc.AudioClip?t:t.clip;if(!this.bgmOff&&e){var n=this._bgmMap.get(e);void 0===n?(n=this.play(t,this.bgmVolume),this._bgmMap.set(e,n)):(this.stop(n),this.play(t,this.bgmVolume,n))}},t.playSfx=function(t,e){void 0===e&&(e=o.NORMAL);var n=t instanceof cc.AudioClip?t:t.clip;if(!this.sfxOff&&n){var i=e===o.NORMAL?this._normalSfxMap.get(n):this._uiSfxMap.get(n),r=null;if(void 0===i)i=this.setSfxData(n,e),r=this.play(t,this.sfxVolume),i.audioList.push(r);else{for(;i.audioList.length>0&&cc.audioEngine.getState(i.audioList[0].id)!==cc.audioEngine.AudioState.PLAYING;)this.stop(i.audioList.shift());for(;i.overStop&&i.audioList.length>=i.maxNum;)this.stop(i.audioList.shift());i.audioList.length<i.maxNum&&(r=this.play(t,this.sfxVolume),i.audioList.push(r))}}},t.setSfxData=function(t,e,n,i){if(void 0===e&&(e=o.NORMAL),void 0===n&&(n=8),void 0===i&&(i=!1),t){n=Math.max(n,1);var r=e===o.NORMAL?this._normalSfxMap:this._uiSfxMap,a=r.get(t);return void 0===a?(a={audioList:[],maxNum:n,overStop:i},r.set(t,a)):(a.maxNum=n,a.overStop=i),a}},t.stopBgm=function(t,e){var n=this;if(void 0===t&&(t=null),void 0===e&&(e=0),!this.bgmOff)if(t){var o=this._bgmMap.get(t);if(void 0===o)return;e<=0?(this.stop(o),this._bgmMap.delete(t)):this.volumeFade(o,e,1,0,function(){n.stop(o),n._bgmMap.delete(t)})}else e<=0?(this._bgmMap.forEach(function(t){n.stop(t)}),this._bgmMap.clear()):this._bgmMap.forEach(function(t,o){n.volumeFade(t,e,1,0,function(){n.stop(t),n._bgmMap.delete(o)})})},t.stopSfx=function(t,e){var n=this;if(void 0===t&&(t=null),void 0===e&&(e=o.NORMAL),!this.sfxOff)if(t){var i=e===o.NORMAL?this._normalSfxMap.get(t):this._uiSfxMap.get(t);if(void 0===i||i.audioList.length<=0)return;i.audioList.forEach(function(t){n.stop(t)}),i.audioList.length=0}else this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){n.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){n.stop(t)}),t.audioList.length=0})},t.stopAll=function(){this.stopBgm(),this.stopSfx()},t.pauseAll=function(){this.bgmPause=!0,this.sfxPause=!0},t.resumeAll=function(){this.bgmPause=!1,this.sfxPause=!1},t.uncacheAll=function(){this.stopAll(),this._bgmMap.clear(),this._normalSfxMap.clear(),this._uiSfxMap.clear(),cc.audioEngine.uncacheAll()},t._bgmMap=new Map,t._normalSfxMap=new Map,t._uiSfxMap=new Map,t._bgmVolume=1,t._sfxVolume=1,t._bgmOff=!1,t._sfxOff=!1,t._bgmPause=!1,t._sfxPause=!1,t}();n.default=r,cc._RF.pop()},{"./Tween":"Tween"}],ButtonChildGray:[function(t,e,n){"use strict";cc._RF.push(e,"19687AwHRhAjoLcsGZTr1YH","ButtonChildGray");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),s=t("../../util/Tool"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,h=c.requireComponent,f=c.executeInEditMode,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.relatedNodes=[],e.normalMaterial=null,e.grayMaterial=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=this;if(t===a.ButtonState.DISABLED){this.grayMaterial||(this.grayMaterial=cc.Material.getBuiltinMaterial("2d-gray-sprite"));var n=function(t){var n=t.getComponent(cc.RenderComponent);n&&(n instanceof cc.Sprite||n instanceof cc.Label)&&n.setMaterial(0,e.grayMaterial)};s.default.nodeRecursive(this.node.children,n),s.default.nodeRecursive(this.relatedNodes,n)}else this.normalMaterial||(this.normalMaterial=cc.Material.getBuiltinMaterial("2d-sprite")),n=function(t){var n=t.getComponent(cc.RenderComponent);n&&(n instanceof cc.Sprite||n instanceof cc.Label)&&n.setMaterial(0,e.normalMaterial)},s.default.nodeRecursive(this.node.children,n),s.default.nodeRecursive(this.relatedNodes,n)},r([u({type:cc.Node,tooltip:!1})],e.prototype,"relatedNodes",void 0),r([u(cc.Material)],e.prototype,"normalMaterial",void 0),r([u(cc.Material)],e.prototype,"grayMaterial",void 0),r([l,f,h(cc.Button),p("Framework/UI\u7ec4\u4ef6/ButtonChildGray")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack","../../util/Tool":"Tool"}],ButtonChildPos:[function(t,e,n){"use strict";cc._RF.push(e,"1c34dZFfsxBlZKPpElUos3w","ButtonChildPos");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=cc.v2(0,0),e.pressed=cc.v2(0,0),e.hover=cc.v2(0,0),e.disabled=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=cc.v2(0,0);switch(t){case a.ButtonState.NORMAL:e=this.normal;break;case a.ButtonState.PRESSED:e=this.pressed;break;case a.ButtonState.HOVER:e=this.hover;break;case a.ButtonState.DISABLED:e=this.disabled}this.node.children.forEach(function(t){t.setPosition(e)})},r([l({tooltip:!1})],e.prototype,"normal",void 0),r([l({tooltip:!1})],e.prototype,"pressed",void 0),r([l({tooltip:!1})],e.prototype,"hover",void 0),r([l({tooltip:!1})],e.prototype,"disabled",void 0),r([c,p(cc.Button),u("Framework/UI\u7ec4\u4ef6/ButtonChildPos")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack"}],ButtonHack:[function(t,e,n){"use strict";var o;cc._RF.push(e,"2aaa36JkjVLWItbzIIr6kKk","ButtonHack"),Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonState=n.ButtonHackEvent=void 0,function(t){t.STATE_CHANGE="ButtonHackEvent-STATE_CHANGE"}(o=n.ButtonHackEvent||(n.ButtonHackEvent={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.HOVER=1]="HOVER",t[t.PRESSED=2]="PRESSED",t[t.DISABLED=3]="DISABLED"}(n.ButtonState||(n.ButtonState={})),cc.Button.prototype._applyTransition=function(t){var e=this.transition;e===cc.Button.Transition.COLOR?this._updateColorTransition(t):e===cc.Button.Transition.SPRITE?this._updateSpriteTransition(t):e===cc.Button.Transition.SCALE&&this._updateScaleTransition(t),this.node.emit(o.STATE_CHANGE,t)},cc._RF.pop()},{}],ButtonSingle:[function(t,e,n){"use strict";cc._RF.push(e,"0dd4fIEsu5H8YHrLixEwxNu","ButtonSingle");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.requireComponent;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.GROUP1=1]="GROUP1",t[t.GROUP2=2]="GROUP2"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=a.DEFAULT,e._button=null,e}var n;return i(e,t),n=e,Object.defineProperty(e,"groupMap",{get:function(){return null===this._groupMap&&(this._groupMap=new Map),this._groupMap},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._button=this.getComponent(cc.Button);var t=n.groupMap.get(this.buttonGroup);void 0===t&&(t={lock:!1,buttonSet:new Set},n.groupMap.set(this.buttonGroup,t)),t.buttonSet.add(this._button),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onDestroy=function(){var t=n.groupMap.get(this.buttonGroup);void 0!==t?(t.buttonSet.delete(this._button),this.unlock(t)):cc.error("[ButtonSingle.onDestroy] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.onTouchStart=function(){var t=this,e=n.groupMap.get(this.buttonGroup);void 0!==e?e.lock||(e.lock=!0,e.buttonSet.forEach(function(e){e.enabled=e===t._button})):cc.error("[ButtonSingle.onTouchStart] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.onTouchEnd=function(){var t=n.groupMap.get(this.buttonGroup);void 0!==t?this.unlock(t):cc.error("[ButtonSingle.onTouchEnd] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.unlock=function(t){t.lock&&this._button.enabled&&(t.lock=!1,t.buttonSet.forEach(function(t){t.enabled=!0}))},e._groupMap=null,r([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"buttonGroup",void 0),n=r([c,p(cc.Button),u("Framework/UI\u7ec4\u4ef6/ButtonSingle")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],CircleList:[function(t,e,n){"use strict";cc._RF.push(e,"47957NchK9M3pnXr5DdUH/B","CircleList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("../../util/Res"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.requireComponent,h=c.disallowMultiple,f=c.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.PREFAB,e.templatePrefab=null,e.templateNode=null,e._firstDirty=!1,e._refreshDirty=!1,e._curIdx=0,e._midIdx=2,e._dataLen=0,e._refreshCall=null,e._target=null,e._pageView=null,e}return i(e,t),Object.defineProperty(e.prototype,"pageView",{get:function(){return this._pageView||(this._pageView=this.getComponent(cc.PageView)),this._pageView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.pageView.content.parent},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.node.on("scroll-ended",this.onScrollEnd,this)},e.prototype.lateUpdate=function(){0!==this.pageView.getPages().length&&(this._firstDirty&&(this._firstDirty=!1,this.pageView.setContentPosition(cc.v2(-this.view.width/2-this._midIdx*this.view.width,0)),this.pageView.setCurrentPageIndex(this._midIdx)),this._refreshDirty&&(this._refreshDirty=!1,this.refresh()))},e.prototype.onInit=function(t,e,n,o){if(this._dataLen=t,this._curIdx=cc.misc.clampf(e,0,this._dataLen-1),this._refreshCall=n,this._target=o,this._firstDirty=!0,this._refreshDirty=!0,0===this.pageView.getPages().length){for(var i=this.templateType===a.PREFAB?this.templatePrefab:this.templateNode,r=0;r<5;r++){var c=s.default.instantiate(i,this.node);c.active=!0,c.setPosition(0,0),this.pageView.addPage(c)}this.pageView.content.getComponent(cc.Layout).updateLayout()}},e.prototype.resetData=function(t,e){void 0===e&&(e=null),this._dataLen=t,this._curIdx=cc.misc.clampf(null===e?this._curIdx:e,0,this._dataLen-1),this._refreshDirty=!0},e.prototype.setCurIdx=function(t){this._curIdx=t,this._refreshDirty=!0},e.prototype.onScrollEnd=function(){var t=this.pageView.getCurrentPageIndex();if(t!==this._midIdx){for(this.pageView.setContentPosition(cc.v2(-this.view.width/2-this._midIdx*this.view.width,0)),this.pageView.setCurrentPageIndex(this._midIdx),this._curIdx+=t-this._midIdx;this._curIdx<0;)this._curIdx+=this._dataLen;for(;this._curIdx>this._dataLen-1;)this._curIdx-=this._dataLen;this._refreshDirty=!0}},e.prototype.refresh=function(){var t=this;this.pageView.content.children.forEach(function(e,n){for(var o=t._curIdx-(t._midIdx-n);o<0;)o+=t._dataLen;for(;o>t._dataLen-1;)o-=t._dataLen;t._refreshCall&&t._refreshCall.call(t._target,e,o,o===t._curIdx)})},e.ITEM_REFRESH="circleList-itemRefresh",r([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),r([u({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===a.PREFAB}})],e.prototype,"templatePrefab",void 0),r([u({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===a.NODE}})],e.prototype,"templateNode",void 0),r([l,h,p(cc.PageView),f("Framework/UI\u7ec4\u4ef6/CircleList")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],Decorator:[function(t,e,n){"use strict";cc._RF.push(e,"194e1Q1HWRNm4uMrCVIQinW","Decorator");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Tool"),a=function(){function t(){}return t.queue=function(t,e,n){var r=n.value,a=new Map,s=function(){return o(this,void 0,Promise,function(){var t,e,n,o,c,l,u;return i(this,function(i){switch(i.label){case 0:if(void 0===(t=a.get(this)))return cc.error("[Decorator.queue] error: queue is undefined"),[2];if(0===t.length)return a.delete(this),[2];e=t[0],n=e[0],o=e[1],c=e[2],i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,r.apply(this,c)];case 2:return l=i.sent(),n(l),[3,5];case 3:return u=i.sent(),o(u),[3,5];case 4:return t.shift(),s.apply(this),[7];case 5:return[2]}})})};n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise(function(n,o){var i=a.get(t);void 0===i&&(i=[],a.set(t,i)),i.push([n,o,e]),1===i.length&&s.apply(t)})}},t.lock=function(t){return void 0===t&&(t=0),function(e,n,o){var i=o.value,a=new Set;o.value=function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!a.has(this)){a.add(this);var s=i.apply(this,n);return s instanceof Promise?new Promise(function(n,o){s.then(function(o){r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),n(o)},function(n){r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),o(n)})}):(r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),s)}}}},t}();n.default=a,cc._RF.pop()},{"./Tool":"Tool"}],DialogBase:[function(t,e,n){"use strict";cc._RF.push(e,"9b83e2KZopKTb+TLQZNTspz","DialogBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),t("../../util/EditorTool");var a=t("../../util/Tool"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.disallowMultiple,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dlgAnim=null,e.openClip=null,e.closeClip=null,e._resolveList=[],e._prefabUrl="",e}return i(e,t),Object.defineProperty(e.prototype,"prefabUrl",{get:function(){return this._prefabUrl},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.dlgAnim&&(this.openClip&&this.dlgAnim.addClip(this.openClip),this.closeClip&&this.dlgAnim.addClip(this.closeClip),this.dlgAnim.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this))},e.prototype.resetInEditor=function(){},e.prototype.onAnimFinished=function(){this.dlgAnim.currentClip===this.closeClip&&this.close()},e.prototype.playOpen=function(){this.dlgAnim&&this.openClip&&this.dlgAnim.play(this.openClip.name)},e.prototype.playClose=function(){if(this.dlgAnim&&this.closeClip){if(this.dlgAnim.getAnimationState(this.closeClip.name).isPlaying)return;this.dlgAnim.play(this.closeClip.name)}else this.close()},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){this._resolveList.forEach(function(t){t()}),this.node.removeFromParent(),this.node.destroy()},e.prototype.onClickClose=function(){this.playClose()},e.prototype.addResolve=function(t){a.default.arrayAdd(this._resolveList,t)},e.pUrl="",r([l(cc.Animation)],e.prototype,"dlgAnim",void 0),r([l({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.dlgAnim}})],e.prototype,"openClip",void 0),r([l({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.dlgAnim}})],e.prototype,"closeClip",void 0),r([c,u,p("Framework/\u57fa\u7840\u7ec4\u4ef6/DialogBase")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../util/EditorTool":"EditorTool","../../util/Tool":"Tool"}],DlgAnimValue:[function(t,e,n){"use strict";cc._RF.push(e,"f8bbd20CvBM+YVVlrbCIugX","DlgAnimValue");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/ui/AnimValueLabel"),c=t("../../common/cmpt/ui/AnimValueProgress"),l=t("../../common/cmpt/ui/AnimValueProgressHP"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animLab=null,e.animProgress=null,e.animHP=null,e}return i(e,t),e.prototype.onClickLabAdd=function(){this.animLab.setValue(this.animLab.endValue+10)},e.prototype.onClickLabSub=function(){this.animLab.setValue(this.animLab.endValue-10)},e.prototype.onClickProgressAdd=function(){this.animProgress.setValue(Math.min(1,this.animProgress.endValue+.2))},e.prototype.onClickProgressSub=function(){this.animProgress.setValue(Math.max(0,this.animProgress.endValue-.2))},e.prototype.onClickHPAdd=function(){this.animHP.setValue(Math.min(1,this.animHP.endValue+.2))},e.prototype.onClickHPSub=function(){this.animHP.setValue(Math.max(0,this.animHP.endValue-.2))},e.pUrl="DlgAnimValue",r([h(s.default)],e.prototype,"animLab",void 0),r([h(c.default)],e.prototype,"animProgress",void 0),r([h(l.default)],e.prototype,"animHP",void 0),r([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/AnimValueLabel":"AnimValueLabel","../../common/cmpt/ui/AnimValueProgress":"AnimValueProgress","../../common/cmpt/ui/AnimValueProgressHP":"AnimValueProgressHP"}],DlgAudio:[function(t,e,n){"use strict";cc._RF.push(e,"58e95qc0K1MS5+q6wLEV5xB","DlgAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/const/Url"),c=t("../../common/util/AudioManager"),l=t("../../common/util/Res"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.volumeSlider=null,e}return i(e,t),e.prototype.onDestroy=function(){c.default.stopAll()},e.prototype.open=function(){this.onSlide()},e.prototype.onSlide=function(){c.default.bgmVolume=this.volumeSlider.progress,c.default.sfxVolume=this.volumeSlider.progress},e.prototype.onClickBgm1FadeIn=function(){c.default.playBgm({clip:l.default.get(s.ResUrl.AUDIO.BGM1,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgm1OutBgm2In=function(){c.default.stopBgm(l.default.get(s.ResUrl.AUDIO.BGM1,cc.AudioClip),5),c.default.playBgm({clip:l.default.get(s.ResUrl.AUDIO.BGM2,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgmFadeOut=function(){c.default.stopBgm(l.default.get(s.ResUrl.AUDIO.BGM1,cc.AudioClip),5),c.default.stopBgm(l.default.get(s.ResUrl.AUDIO.BGM2,cc.AudioClip),5)},e.prototype.onClickSfx1=function(){c.default.setSfxData(l.default.get(s.ResUrl.AUDIO.SFX1,cc.AudioClip),c.SfxType.NORMAL,1,!1),c.default.playSfx(l.default.get(s.ResUrl.AUDIO.SFX1,cc.AudioClip),c.SfxType.NORMAL)},e.prototype.onClickSfx2=function(){c.default.setSfxData(l.default.get(s.ResUrl.AUDIO.SFX2,cc.AudioClip),c.SfxType.NORMAL,5,!1),c.default.playSfx(l.default.get(s.ResUrl.AUDIO.SFX2,cc.AudioClip),c.SfxType.NORMAL)},e.pUrl="DlgAudio",r([h(cc.Slider)],e.prototype,"volumeSlider",void 0),r([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/Url":"Url","../../common/util/AudioManager":"AudioManager","../../common/util/Res":"Res"}],DlgCircleList:[function(t,e,n){"use strict";cc._RF.push(e,"298ddGXoaxJPJV39/DCb+z+","DlgCircleList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/ui/CircleList"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e}return i(e,t),e.prototype.open=function(){this.list.onInit(10,5,this.refreshItem,this)},e.prototype.refreshItem=function(t,e,n){var o={0:cc.color(255,200,200),1:cc.color(200,255,200),2:cc.color(200,200,255),3:cc.color(100,200,255),4:cc.color(200,100,255),5:cc.color(200,100,155),6:cc.color(100,150,105),7:cc.color(100,250,255),8:cc.color(200,150,255),9:cc.color(105,100,100)};t.color=o[e],t.getChildByName("lab").getComponent(cc.Label).string=e+(n?"-cur":"")},e.pUrl="DlgCircleList",r([u(s.default)],e.prototype,"list",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/CircleList":"CircleList"}],DlgEvents:[function(t,e,n){"use strict";cc._RF.push(e,"e89a2frv1FFnIYqxWPPQ4aK","DlgEvents");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/cmpt/base/DialogBase"),l=t("../../common/const/EventName"),u=t("../../common/util/Events"),p=t("../../common/util/Tool"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab1=null,e}return i(e,t),e.prototype.onClickEmit=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,u.default.emitAsync(l.EventName.EVENT_TEST1,"\u89e6\u53d1\u4e86\u4e8b\u4ef61\uff0c\u8bf7\u7b49\u5f85\u4e8b\u4ef62")];case 1:return t.sent(),u.default.emit(l.EventName.EVENT_TEST2,"\u89e6\u53d1\u4e86\u4e8b\u4ef62"),[2]}})})},e.prototype.eventTest1=function(t){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.lab1.string=t,[4,p.default.waitCmpt(this,1)];case 1:return e.sent(),[2]}})})},e.prototype.eventTest2=function(t){this.lab1.string=t},e.pUrl="DlgEvents",r([d(cc.Label)],e.prototype,"lab1",void 0),r([u.preloadEvent(l.EventName.EVENT_TEST1)],e.prototype,"eventTest1",null),r([u.preloadEvent(l.EventName.EVENT_TEST2)],e.prototype,"eventTest2",null),r([f,u.eventsOnEnable()],e)}(c.default);n.default=_,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tool":"Tool"}],DlgI18N:[function(t,e,n){"use strict";cc._RF.push(e,"a9171RouStMtpX2jd36HPxf","DlgI18N");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../i18n/I18n"),c=t("../../i18n/LocalizedLabel"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text1=null,e.text2=null,e}return i(e,t),e.prototype.open=function(){this.text1.setOption({num:10}),this.text2.setOption(10,"---")},e.prototype.onClickZh=function(){s.default.switch(s.LangType.ZH)},e.prototype.onClickEn=function(){s.default.switch(s.LangType.EN)},e.pUrl="DlgI18N",r([p(c.default)],e.prototype,"text1",void 0),r([p(c.default)],e.prototype,"text2",void 0),r([u],e)}(a.default);n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../i18n/I18n":"I18n","../../i18n/LocalizedLabel":"LocalizedLabel"}],DlgLayer:[function(t,e,n){"use strict";cc._RF.push(e,"4ec76yKbilLcJyDdXnzkwAH","DlgLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/cmpt/base/DialogBase"),l=t("../../common/cmpt/base/Layer"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.open=function(){},e.prototype.onClockAwait=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,l.default.inst.openUniDialogAsync("layer/DlgLayer2")];case 1:return t.sent(),[4,l.default.inst.waitCloseDialog("layer/DlgLayer2")];case 2:return t.sent(),[4,l.default.inst.openUniDialogAsync("layer/DlgLayer3")];case 3:return t.sent(),[2]}})})},e.prototype.onClickTipUnique=function(){l.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u552f\u4e00\u63d0\u793a",unique:!0,end:cc.v2(0,100)})},e.prototype.onClickTip=function(){l.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u666e\u901a\u63d0\u793a",end:cc.v2(0,100),duration:0})},e.pUrl="layer/DlgLayer",r([p],e)}(c.default));n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Layer":"Layer"}],DlgMultiTexture:[function(t,e,n){"use strict";cc._RF.push(e,"19593ehMPtLsoeEdjduLcNZ","DlgMultiTexture");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/cmpt/base/DialogBase"),l=t("../../common/cmpt/ui/MultiSprite/MultiTextureManager"),u=t("../../common/const/Url"),p=t("../../common/util/Res"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item1=null,e.item2=null,e}return i(e,t),e.prototype.open=function(){return a(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(i){switch(i.label){case 0:return t=[u.ResUrl.ATLAS.EN,u.ResUrl.ATLAS.ZH],[4,p.default.load(t[0],cc.SpriteAtlas)];case 1:return e=i.sent(),l.MultiTextureManager.setTexture(0,e.getTexture()),n=p.default.instantiate(this.item1),this.node.getChildByName("bg").addChild(n),n.setPosition(0,0),o=p.default.instantiate(this.item2),this.node.getChildByName("bg").addChild(o),o.setPosition(0,0),[4,p.default.load(t[1],cc.SpriteAtlas)];case 2:return e=i.sent(),l.MultiTextureManager.setTexture(1,e.getTexture()),n=p.default.instantiate(this.item1),this.node.getChildByName("bg").addChild(n),n.setPosition(10,10),o=p.default.instantiate(this.item2),this.node.getChildByName("bg").addChild(o),o.setPosition(10,10),[2]}})})},e.pUrl="DlgMultiTexture",r([d(cc.Node)],e.prototype,"item1",void 0),r([d(cc.Node)],e.prototype,"item2",void 0),r([f],e)}(c.default);n.default=_,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/MultiSprite/MultiTextureManager":"MultiTextureManager","../../common/const/Url":"Url","../../common/util/Res":"Res"}],DlgShader:[function(t,e,n){"use strict";cc._RF.push(e,"21c0dRZWaBCla5UnByvFBHD","DlgShader");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/base/Timer"),c=t("../../common/cmpt/shader/ShaderFill"),l=t("../../common/cmpt/shader/ShaderTile"),u=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tile=null,e.fill=null,e._tween=null,e._sx=2,e}return i(e,t),e.prototype.open=function(){var t=this;this._tween=new u.Tween(this.fill,u.SCALE_TWEEN).to({fillPhase:[1,0]},1e3).repeat(1e3).easing(u.Easing.Quadratic.In).onUpdate(function(){t.fill.updateShader()}).start()},e.prototype.update=function(){this.tile.scale.x+=s.default.scaleDt*this._sx,this.tile.scale.x>=10?this._sx=-2:this.tile.scale.x<=1&&(this._sx=2),this.tile.offset.x-=5*s.default.scaleDt,this.tile.updateShader()},e.pUrl="DlgShader",r([f(l.default)],e.prototype,"tile",void 0),r([f(c.default)],e.prototype,"fill",void 0),r([h],e)}(a.default);n.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/cmpt/shader/ShaderFill":"ShaderFill","../../common/cmpt/shader/ShaderTile":"ShaderTile","../../common/util/Tween":"Tween"}],DlgShake:[function(t,e,n){"use strict";cc._RF.push(e,"bd6c4Iq8qRDJKuuv1WVfEB5","DlgShake");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/ui/ShakeNode"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shake=null,e}return i(e,t),e.prototype.onClickShake=function(){this.shake.shake(1)},e.pUrl="DlgShake",r([u(s.default)],e.prototype,"shake",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/ShakeNode":"ShakeNode"}],DlgTimer:[function(t,e,n){"use strict";cc._RF.push(e,"9b543Kex11AiqArfFrv2+Ru","DlgTimer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/base/Timer"),c=t("../../common/const/EventName"),l=t("../../common/util/Events"),u=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slider=null,e.move1=null,e.move2=null,e.move3=null,e._dir=1,e._tween=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),l.default.targetOn(this)},e.prototype.onDestroy=function(){var t;null===(t=this._tween)||void 0===t||t.stop(),l.default.targetOff(this)},e.prototype.update=function(){this.move2.x+=300*s.default.scaleDt*this._dir,this._dir>0&&this.move2.x>500?this._dir=-1:this._dir<0&&this.move2.x<-500&&(this._dir=1)},e.prototype.open=function(){this.slider.progress=s.default.timeScale,this.slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.slider.progress)/100,this.eventTimeScale(),this._tween=new u.Tween(this.move3,u.SCALE_TWEEN).to({x:[300,-300],y:[300,-300]},2e3).repeat(1e3).start()},e.prototype.onSlide=function(){this.slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.slider.progress)/100,s.default.timeScale=this.slider.progress},e.prototype.eventTimeScale=function(){this.move1.getComponent(cc.Animation).getAnimationState("move").speed=s.default.timeScale},e.pUrl="DlgTimer",r([f(cc.Slider)],e.prototype,"slider",void 0),r([f(cc.Node)],e.prototype,"move1",void 0),r([f(cc.Node)],e.prototype,"move2",void 0),r([f(cc.Node)],e.prototype,"move3",void 0),r([l.preloadEvent(c.EventName.TIME_SCALE)],e.prototype,"eventTimeScale",null),r([h],e)}(a.default);n.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tween":"Tween"}],DlgVirtualList:[function(t,e,n){"use strict";cc._RF.push(e,"eb01cTRb7xNToN1S9Cs/qlr","DlgVirtualList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),s=t("../../common/cmpt/ui/VirtualList"),c=t("../../common/util/Tool"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e.rndLab=null,e._rnd=0,e}return i(e,t),e.prototype.open=function(){for(var t=0;t<50;t++)this.list.push({num:c.default.randInt(0,1e3)});this._rnd=c.default.randInt(0,this.list.argsArr.length),this.rndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.prototype.onClickAdd=function(){this.list.push({num:c.default.randInt(0,1e3)})},e.prototype.onClickDelete=function(){this.list.splice(0,1)},e.prototype.onClickScroll=function(){this.list.scrollItemToView(this._rnd,cc.v2(0,1),cc.v2(0,1),.5,!0),this._rnd=c.default.randInt(0,this.list.argsArr.length),this.rndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.pUrl="DlgVirtualList",r([p(s.default)],e.prototype,"list",void 0),r([p(cc.Label)],e.prototype,"rndLab",void 0),r([u],e)}(a.default);n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/VirtualList":"VirtualList","../../common/util/Tool":"Tool"}],EditorTool:[function(t,e,n){"use strict";cc._RF.push(e,"50fe9qyZR5LgYuxXN3oK78x","EditorTool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.load=function(){return new Promise(function(t){t(null)})},t}();n.default=o,cc._RF.pop()},{}],En:[function(t,e,n){"use strict";cc._RF.push(e,"e1a79yRjpZFiZ8ShC5YIRcu","En"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={lang:"English",text1:"number: %{num}",text2:"param1: %{arg1}, param2: %{arg2}"},cc._RF.pop()},{}],EventName:[function(t,e,n){"use strict";cc._RF.push(e,"52bf65jN2xMY6Ig2aroKkQw","EventName"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventName=void 0,function(t){t[t.RESIZE=0]="RESIZE",t[t.UPDATE_LOCALIZED_CMPT=1]="UPDATE_LOCALIZED_CMPT",t[t.GAME_PAUSE=2]="GAME_PAUSE",t[t.GAME_RESUME=3]="GAME_RESUME",t[t.TIME_SCALE=4]="TIME_SCALE",t[t.CAMERA_MOVE=5]="CAMERA_MOVE",t[t.EVENT_TEST1=6]="EVENT_TEST1",t[t.EVENT_TEST2=7]="EVENT_TEST2"}(n.EventName||(n.EventName={})),cc._RF.pop()},{}],Events:[function(t,e,n){"use strict";cc._RF.push(e,"aae4cQnarlFE4m+zeU7vd7m","Events");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.preloadEvent=n.eventsOnEnable=n.eventsOnLoad=void 0;var r=t("../const/EventName");function a(t,e,n,o){void 0===o&&(o=!0);var i=t.prototype[e],r=t.prototype[n];t.prototype[e]=function(){s.targetOn(this,o),i&&i.call(this)},t.prototype[n]=function(){s.targetOff(this),r&&r.call(this)}}n.eventsOnLoad=function(t){return void 0===t&&(t=!0),function(e){a(e,"onLoad","onDestroy",t)}},n.eventsOnEnable=function(t){return void 0===t&&(t=!0),function(e){a(e,"onEnable","onDisable",t)}},n.preloadEvent=function(t,e){return void 0===e&&(e=!1),function(n,o){var i=s.classMap.get(n.constructor);if(void 0===i)i=[],s.classMap.set(n.constructor,i);else if(i.find(function(e){return e.event===t&&e.funcName===o}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u8f7d\u5165");i.push({event:t,funcName:o,once:e})}};var s=function(){function t(){}return t.targetOn=function(t,e){var n=this;if(void 0===e&&(e=!0),e)this.classMap.forEach(function(e,o){if(t instanceof o)for(var i=0;i<e.length;i++){var r=e[i];n.on(r.event,t[r.funcName],t,r.once)}});else{var o=this.classMap.get(t.constructor);if(o)for(var i=0;i<o.length;i++){var r=o[i];this.on(r.event,t[r.funcName],t,r.once)}}},t.on=function(t,e,n,o){if(void 0===o&&(o=!1),e&&n){var i=this._eventsMap.get(t),a=[];if(void 0===i)(i=new Map).set(n,a),this._eventsMap.set(t,i);else if(void 0===(a=i.get(n)))a=[],i.set(n,a);else if(a.find(function(t){return t.cb===e}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u6ce8\u518c");var s={cb:e,once:o};a.push(s)}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.once=function(t,e,n){this.on(t,e,n,!0)},t.off=function(t,e,n){if(e&&n){var o=this._eventsMap.get(t);if(void 0!==o){var i=o.get(n);if(void 0!==i){var a=i.findIndex(function(t){return t.cb===e});a<0?cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u4ee5\u8be5listener\u6ce8\u518c\u8be5\u4e8b\u4ef6"):(i.splice(a,1),i.length<=0&&(o.delete(n),o.size<=0&&this._eventsMap.delete(t)))}else cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.targetOff=function(t){var e=this;t?this._eventsMap.forEach(function(n,o){n.delete(t),n.size<=0&&e._eventsMap.delete(o)}):cc.error("event: "+t+" target\u4e0d\u80fd\u4e3a\u7a7a")},t.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this._eventsMap.get(t);if(void 0!==o){var i,a=[],s=[];for(o.forEach(function(t,e){for(i=0;i<t.length;i++){var n=t[i];a.push({cb:n.cb,target:e}),n.once&&s.push({cb:n.cb,target:e})}}),i=0;i<s.length;i++){var c=s[i];this.off(t,c.cb,c.target)}for(i=0;i<a.length;i++)(c=a[i]).cb.apply(c.target,e)}else cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")},t.emitAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,Promise,function(){var n,o,a,s,c,l;return i(this,function(i){switch(i.label){case 0:if(void 0===(n=this._eventsMap.get(t)))return cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6"),[2];for(a=[],s=[],n.forEach(function(t,e){for(o=0;o<t.length;o++){var n=t[o];a.push({cb:n.cb,target:e}),n.once&&s.push({cb:n.cb,target:e})}}),o=0;o<s.length;o++)l=s[o],this.off(t,l.cb,l.target);for(c=[],o=0;o<a.length;o++)l=a[o],c.push(l.cb.apply(l.target,e));return[4,Promise.all(c)];case 1:return i.sent(),[2]}})})},t.classMap=new Map,t._eventsMap=new Map,t}();n.default=s,cc._RF.pop()},{"../const/EventName":"EventName"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"1ee18MAKgRPz4Ig/89N8gDX","Game");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../common/cmpt/base/Layer"),l=t("../../common/const/Url"),u=t("../../common/util/Events"),p=t("../../common/util/Res"),h=t("../dialog/DlgAnimValue"),f=t("../dialog/DlgAudio"),d=t("../dialog/DlgCircleList"),_=t("../dialog/DlgEvents"),y=t("../dialog/DlgI18N"),m=t("../dialog/DlgLayer"),g=t("../dialog/DlgMultiTexture"),v=t("../dialog/DlgShader"),b=t("../dialog/DlgShake"),O=t("../dialog/DlgTimer"),w=t("../dialog/DlgVirtualList"),A=cc._decorator,T=A.ccclass,P=(A.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickHome=function(){c.default.inst.enterHome()},e.prototype.onClickTimer=function(){c.default.inst.openUniDialogAsync(O.default.pUrl)},e.prototype.onClickLayer=function(){c.default.inst.openUniDialogAsync(m.default.pUrl)},e.prototype.onClickShader=function(){c.default.inst.openUniDialogAsync(v.default.pUrl)},e.prototype.onClickAnimValue=function(){c.default.inst.openUniDialogAsync(h.default.pUrl)},e.prototype.onClickButton=function(){c.default.inst.openUniDialogAsync("DlgButton")},e.prototype.onClickShake=function(){c.default.inst.openUniDialogAsync(b.default.pUrl)},e.prototype.onClickVirtualList=function(){c.default.inst.openUniDialogAsync(w.default.pUrl)},e.prototype.onClickCircleList=function(){c.default.inst.openUniDialogAsync(d.default.pUrl)},e.prototype.onClickAudio=function(){return a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return c.default.inst.openUniDialogAsync(f.default.pUrl),c.default.inst.showLoading(),[4,p.default.loadDir(l.DirUrl.AUDIO,cc.AudioClip)];case 1:return t.sent(),c.default.inst.hideLoading(),[2]}})})},e.prototype.onClickI18N=function(){c.default.inst.openUniDialogAsync(y.default.pUrl)},e.prototype.onClickEvent=function(){c.default.inst.openUniDialogAsync(_.default.pUrl)},e.prototype.onClickMultiTexture=function(){c.default.inst.openUniDialogAsync(g.default.pUrl)},r([T,u.eventsOnLoad()],e)}(cc.Component));n.default=P,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer","../../common/const/Url":"Url","../../common/util/Events":"Events","../../common/util/Res":"Res","../dialog/DlgAnimValue":"DlgAnimValue","../dialog/DlgAudio":"DlgAudio","../dialog/DlgCircleList":"DlgCircleList","../dialog/DlgEvents":"DlgEvents","../dialog/DlgI18N":"DlgI18N","../dialog/DlgLayer":"DlgLayer","../dialog/DlgMultiTexture":"DlgMultiTexture","../dialog/DlgShader":"DlgShader","../dialog/DlgShake":"DlgShake","../dialog/DlgTimer":"DlgTimer","../dialog/DlgVirtualList":"DlgVirtualList"}],Home:[function(t,e,n){"use strict";cc._RF.push(e,"1d227cGCflICZGjBQkLC7vS","Home");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickGame=function(){a.default.inst.enterGame()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer"}],I18n:[function(t,e,n){"use strict";cc._RF.push(e,"a24383d1j1FRbXaBkcPctfn","I18n"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangType=void 0;var o,i=t("../common/const/EventName"),r=t("../common/util/Events"),a=t("./config/En"),s=t("./config/Zh");(function(t){t.NONE="",t.ZH="zh",t.EN="en"})(o=n.LangType||(n.LangType={}));var c=function(){function t(){}return Object.defineProperty(t,"curLang",{get:function(){return this._curLang},enumerable:!1,configurable:!0}),t.init=function(t){if(void 0===t&&(t=o.NONE),!this._init){this._init=!0;var e=t||cc.sys.language;this.switch(e)}},t.switch=function(t){if(this._curLang!==t){switch(this._curLang=t,t){case o.ZH:this._phrases=s.default;break;case o.EN:this._phrases=a.default;break;default:this._curLang=o.EN,this._phrases=a.default}this.updateLocalizedCmpt()}},t.updateLocalizedCmpt=function(){r.default.emit(i.EventName.UPDATE_LOCALIZED_CMPT)},t.getKeyByValue=function(t){if(!this._phrases)return cc.error("[I18n.getKeyByValue] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";for(var e in this._phrases)if(this._phrases[e]===t)return e;return""},t.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._phrases)return cc.error("[I18n.getText] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";if(!t)return"";var o=this._phrases.hasOwnProperty(t)?this._phrases[t]:t;if(1===e.length&&"[object Object]"===Object.prototype.toString.call(e[0])){for(var i in e[0])if(e[0].hasOwnProperty(i)){var r=new RegExp("%{"+i+"}","g");o=o.replace(r,""+e[0][i])}}else e.forEach(function(t){o=o.replace(/%\{.*?\}/,""+t)});return o},t._init=!1,t._phrases=null,t._curLang=o.NONE,t}();n.default=c,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./config/En":"En","./config/Zh":"Zh"}],Layer:[function(t,e,n){"use strict";cc._RF.push(e,"a6e48AvPltFQqwiI4zAsMqx","Layer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../../const/Url"),u=t("../../util/Res"),p=t("../../util/Tool"),h=t("./DialogBase"),f=t("./Tip"),d=cc._decorator,_=d.ccclass,y=d.property,m=d.disallowMultiple,g=d.menu,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainLayer=null,e.dialogLayer=null,e.loadingLayer=null,e.tipLayer=null,e._loadingCount=0,e._tipPool=[],e._tipTexts=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.hideLoading()},e.prototype.onDestroy=function(){n.inst=null},e.prototype.getNameByUrl=function(t){return t.substring(t.lastIndexOf("/")+1,t.length)},e.prototype.enterHome=function(){return a(this,void 0,Promise,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return this.showLoading(),[4,u.default.load(l.ResUrl.PREFAB.HOME,cc.Prefab)];case 1:return t=n.sent(),this.hideLoading(),t?(this.mainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=u.default.instantiate(t)).setPosition(0,0),this.mainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterHome] can not find home prefab: "+l.ResUrl.PREFAB.HOME),[2])}})})},e.prototype.enterGame=function(){return a(this,void 0,Promise,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return this.showLoading(),[4,u.default.load(l.ResUrl.PREFAB.GAME,cc.Prefab)];case 1:return t=n.sent(),this.hideLoading(),t?(this.mainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=u.default.instantiate(t)).setPosition(0,0),this.mainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterGame] can not find game prefab: "+l.ResUrl.PREFAB.GAME),[2])}})})},e.prototype.getDialog=function(t){for(var e=0;e<this.dialogLayer.childrenCount;e++){var n=this.dialogLayer.children[e].getComponent(h.default);if(n&&n.prefabUrl===t)return n}return null},e.prototype.openDialog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=u.default.get(l.DirUrl.PREFAB_DIALOG+t,cc.Prefab);if(o){var i=u.default.instantiate(o);this.dialogLayer.addChild(i),i.setPosition(0,0);var r=i.getComponent(h.default);r&&(r._prefabUrl=t,r.playOpen(),r.open.apply(r,e))}else cc.error("[Layer.openDialog] can not find dialog prefab: "+(l.DirUrl.PREFAB_DIALOG+t))},e.prototype.openUniDialog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.getDialog(t)||this.openDialog.apply(this,c([t],e))},e.prototype.openDialogAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,Promise,function(){var n,o,i;return s(this,function(r){switch(r.label){case 0:return this.showLoading(),[4,u.default.load(l.DirUrl.PREFAB_DIALOG+t,cc.Prefab)];case 1:return n=r.sent(),this.hideLoading(),n?(o=u.default.instantiate(n),this.dialogLayer.addChild(o),o.setPosition(0,0),(i=o.getComponent(h.default))&&(i._prefabUrl=t,i.playOpen(),i.open.apply(i,e)),[2]):(cc.error("[Layer.openDialogAsync] can not find dialog prefab: "+(l.DirUrl.PREFAB_DIALOG+t)),[2])}})})},e.prototype.openUniDialogAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,Promise,function(){return s(this,function(n){switch(n.label){case 0:return this.getDialog(t)?[2]:[4,this.openDialogAsync.apply(this,c([t],e))];case 1:return n.sent(),[2]}})})},e.prototype.closeDialog=function(t,e){void 0===e&&(e=!1);var n=this.getDialog(t);n&&(e?n.playClose():n.close())},e.prototype.closeDialogs=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);for(var n=this.dialogLayer.childrenCount-1;n>=0;n--){var o=this.dialogLayer.children[n].getComponent(h.default);o&&(t&&o.prefabUrl!==t||(e?o.playClose():o.close()))}},e.prototype.waitCloseDialog=function(t){return a(this,void 0,Promise,function(){var e;return s(this,function(n){switch(n.label){case 0:return(e=this.getDialog(t))?[4,new Promise(function(t){e.addResolve(t)})]:[2];case 1:return[2,n.sent()]}})})},e.prototype.waitCloseDialogs=function(t){return a(this,void 0,Promise,function(){var e,n,o,i;return s(this,function(r){switch(r.label){case 0:for(e=[],n=function(n){var i=o.dialogLayer.children[n].getComponent(h.default);if(!i)return"continue";i.prefabUrl===t&&e.push(new Promise(function(t){i.addResolve(t)}))},o=this,i=0;i<this.dialogLayer.childrenCount;i++)n(i);return[4,Promise.all(e)];case 1:return[2,r.sent()]}})})},e.prototype.showTip=function(t){var e;return a(this,void 0,Promise,function(){var n,o,i,r,a,c,h,d=this;return s(this,function(s){switch(s.label){case 0:return n=null,(n="string"==typeof t?{text:t}:t).hasOwnProperty("unique")||(n.unique=!1),n.hasOwnProperty("duration")||(n.duration=1),n.hasOwnProperty("fade")||(n.fade=.5),n.hasOwnProperty("start")||(n.start=cc.v2(0,0)),n.hasOwnProperty("end")||(n.end=cc.v2(0,0)),n.unique&&p.default.arrayHas(this._tipTexts,n.text)?[2]:(this._tipTexts.push(n.text),o=null,this._tipPool.length>0?(o=this._tipPool.shift(),[3,3]):[3,1]);case 1:return[4,u.default.load(l.ResUrl.PREFAB.TIP,cc.Prefab)];case 2:if(!(i=s.sent()))return cc.error("[Layer.showTip] can not load prefab: "+l.ResUrl.PREFAB.TIP),[2];o=u.default.instantiate(i),this.tipLayer.addChild(o),s.label=3;case 3:return r=cc.delayTime(n.duration),a=cc.fadeOut(n.fade),c=cc.moveTo(n.fade,n.end),h=cc.callFunc(function(){o.active=!1,d._tipPool.push(o),p.default.arrayDelete(d._tipTexts,n.text)}),o.active=!0,o.opacity=255,o.setPosition(n.start),o.setSiblingIndex(this.tipLayer.childrenCount-1),o.runAction(cc.sequence(r,cc.spawn(a,c),h)),null===(e=o.getComponent(f.default))||void 0===e||e.init(n.text),[2]}})})},e.prototype.clearTips=function(){this._tipPool.length=0,this._tipTexts.length=0,this.tipLayer.destroyAllChildren()},e.prototype.showLoading=function(){if(this._loadingCount++,!this.loadingLayer.active){this.loadingLayer.active=!0;var t=this.loadingLayer.getChildByName("content");t&&(t.active=!1,this.unscheduleAllCallbacks(),p.default.waitCmpt(this,.5).then(function(){t.active=!0}))}},e.prototype.hideLoading=function(){this._loadingCount--,this._loadingCount<=0&&(this._loadingCount=0,this.loadingLayer.active=!1,this.unscheduleAllCallbacks())},e.inst=null,r([y(cc.Node)],e.prototype,"mainLayer",void 0),r([y(cc.Node)],e.prototype,"dialogLayer",void 0),r([y(cc.Node)],e.prototype,"loadingLayer",void 0),r([y(cc.Node)],e.prototype,"tipLayer",void 0),n=r([_,m,g("Framework/\u57fa\u7840\u7ec4\u4ef6/Layer")],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../const/Url":"Url","../../util/Res":"Res","../../util/Tool":"Tool","./DialogBase":"DialogBase","./Tip":"Tip"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"ca68f5rj5BCUbm7bNFCItUo","ListItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/ui/VirtualItem"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab=null,e}return i(e,t),e.prototype.onRefresh=function(t){this.lab.string="idx: "+this.dataIdx,cc.log("[ListItem.onRefresh] idx: "+this.dataIdx+", args.num: "+t.num)},e.prototype.onRefreshOthers=function(){},r([l(cc.Label)],e.prototype,"lab",void 0),r([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../../common/cmpt/ui/VirtualItem":"VirtualItem"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"102e7zRjoBIIaR3Sun9XFVJ","LocalizedLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../common/const/EventName"),c=t("../common/util/Events"),l=t("./I18n"),u=cc._decorator,p=u.ccclass,h=u.property,f=u.executeInEditMode,d=u.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textKey="",e._option=[],e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"textKey",{get:function(){return this._textKey},set:function(t){this._textKey=t,this.updateLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.node.getComponent(cc.Label)||this.node.getComponent(cc.RichText),this._label)?this._label:(cc.error("Failed to update localized label, label component is invalid!"),null)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{l.default.init(),this.updateLabel()}catch(t){cc.error(t)}},e.prototype.update=function(){},e.prototype.updateLabel=function(){var t=this._option instanceof Array?l.default.getText.apply(l.default,a([this._textKey],this._option)):l.default.getText(this._textKey,this._option);t&&(this.label.string=t)},e.prototype.setTextKeyAndOption=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._textKey=t,this.setOption.apply(this,e)},e.prototype.setOption=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1===t.length&&"[object Object]"===Object.prototype.toString.call(t[0])?this._option=t[0]:this._option=t,this.updateLabel()},e.prototype.clear=function(){this.label.string="",this.textKey=""},r([h(cc.String)],e.prototype,"_textKey",void 0),r([h({type:cc.String,tooltip:"i18n key"})],e.prototype,"textKey",null),r([c.preloadEvent(s.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateLabel",null),r([p,c.eventsOnLoad(),f,d("Framework/I18N/LocalizedLabel")],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./I18n":"I18n"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"80273mEm6FKI6l1JI2ok2rH","LocalizedSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../common/cmpt/ui/ResSprite"),s=t("../common/const/EventName"),c=t("../common/util/Events"),l=t("./I18n"),u=cc._decorator,p=u.ccclass,h=u.menu,f=u.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sprite=null,e._imageKey="",e}return i(e,t),Object.defineProperty(e.prototype,"imageKey",{get:function(){return this._imageKey},set:function(t){this._imageKey!==t&&(this._imageKey=t,this.updateSprite())},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{l.default.init(),this._sprite=this.getComponent(a.default),this._sprite.spriteFrame&&(this.imageKey=this._sprite.spriteFrame.name)}catch(t){cc.error(t)}},e.prototype.updateSprite=function(){if(this.imageKey){var t="";switch(l.default.curLang){case l.LangType.ZH:t="textures/localizedImage/zh/";break;case l.LangType.EN:t="textures/localizedImage/en/";break;default:return}t+=this.imageKey,this._sprite.setSpriteFrame(t)}},r([c.preloadEvent(s.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateSprite",null),r([p,c.eventsOnLoad(),f(a.default),h("Framework/I18N/LocalizedSprite")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../common/cmpt/ui/ResSprite":"ResSprite","../common/const/EventName":"EventName","../common/util/Events":"Events","./I18n":"I18n"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"eef8c5qJslOQ71iswi/FuxY","Main");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),s=t("../../common/util/Res"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dcLab=null,e}return i(e,t),e.prototype.start=function(){a.default.inst.enterHome(),this.schedule(function(){s.default.releaseAll()},60)},e.prototype.lateUpdate=function(){this.dcLab.string="DrawCall: "+cc.renderer.drawCalls},r([u(cc.Label)],e.prototype,"dcLab",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer","../../common/util/Res":"Res"}],MultiAssembleBarFilled:[function(t,e,n){"use strict";cc._RF.push(e,"0d306+qdllOJo+T76peVXVI","MultiAssembleBarFilled");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateRenderData=function(t){var e=t._spriteFrame;if(this.packToDynamicAtlas(t,e),t._vertsDirty){var n=t._fillStart,o=t._fillRange;o<0&&(n+=o,o=-o),o=(o=(o=n+o)>1?1:o)<0?0:o;var i=(n=(n=n>1?1:n)<0?0:n)+(o=(o-=n)<0?0:o);i=i>1?1:i,this.updateUVs(t,n,i),this.updateVerts(t,n,i),this.updateTextureIdx(t),t._vertsDirty=!1}},e.prototype.updateUVs=function(t,e,n){var o,i,r,a,s,c,l,u,p,h,f=t._spriteFrame,d=f._texture.width,_=f._texture.height,y=f._rect;f._rotated?(o=y.x/d,i=(y.y+y.width)/_,r=s=o,l=p=(y.x+y.height)/d,c=h=i,a=u=y.y/_):(o=y.x/d,i=(y.y+y.height)/_,r=l=o,s=p=(y.x+y.width)/d,a=c=i,u=h=y.y/_);var m=this._renderData.vDatas[0],g=this.uvOffset,v=this.floatsPerVert;switch(t._fillType){case cc.Sprite.FillType.HORIZONTAL:m[g]=r+(s-r)*e,m[g+1]=a+(c-a)*e,m[g+v]=r+(s-r)*n,m[g+v+1]=a+(c-a)*n,m[g+2*v]=l+(p-l)*e,m[g+2*v+1]=u+(h-u)*e,m[g+3*v]=l+(p-l)*n,m[g+3*v+1]=u+(h-u)*n;break;case cc.Sprite.FillType.VERTICAL:m[g]=r+(l-r)*e,m[g+1]=a+(u-a)*e,m[g+v]=s+(p-s)*e,m[g+v+1]=c+(h-c)*e,m[g+2*v]=r+(l-r)*n,m[g+2*v+1]=a+(u-a)*n,m[g+3*v]=s+(p-s)*n,m[g+3*v+1]=c+(h-c)*n;break;default:cc.errorID(2626)}},e.prototype.updateVerts=function(t,e,n){var o,i=t.node,r=i.width,a=i.height,s=i.anchorX*r,c=i.anchorY*a,l=-s,u=-c,p=r-s,h=a-c;switch(t._fillType){case cc.Sprite.FillType.HORIZONTAL:o=l+(p-l)*n,l+=(p-l)*e,p=o;break;case cc.Sprite.FillType.VERTICAL:o=u+(h-u)*n,u+=(h-u)*e,h=o;break;default:cc.errorID(2626)}var f=this._local;f[0]=l,f[1]=u,f[2]=p,f[3]=h,this.updateWorldVerts(t)},e}(t("./MultiAssemble").default);n.default=r,cc._RF.pop()},{"./MultiAssemble":"MultiAssemble"}],MultiAssembleRadialFilled:[function(t,e,n){"use strict";cc._RF.push(e,"37463cgERBLhI8K7rCWzz1m","MultiAssembleRadialFilled");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("./MultiAssemble"),a=2*Math.PI,s=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],c=[0,0,0,0],l=[0,0,0,0,0,0,0,0],u=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],p=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],h=cc.v2(0,0),f=[];function d(t,e,n,o,i,r,a){var s,c,l=Math.sin(r),u=Math.cos(r);if(0!==Math.cos(r)){if(s=l/u,(t-i.x)*u>0){var p=i.y+s*(t-i.x);a[0].x=t,a[0].y=p}if((e-i.x)*u>0){var h=i.y+s*(e-i.x);a[2].x=e,a[2].y=h}}if(0!==Math.sin(r)){if(c=u/l,(o-i.y)*l>0){var f=i.x+c*(o-i.y);a[3].x=f,a[3].y=o}if((n-i.y)*l>0){var d=i.x+c*(n-i.y);a[1].x=d,a[1].y=n}}}function _(t){var e=t.node,n=e.width,o=e.height,i=e.anchorX*n,r=e.anchorY*o,a=-i,l=-r,u=n-i,p=o-r,d=c;d[0]=a,d[1]=l,d[2]=u,d[3]=p;var _=t._fillCenter,y=h.x=Math.min(Math.max(0,_.x),1)*(u-a)+a,m=h.y=Math.min(Math.max(0,_.y),1)*(p-l)+l;s[0].x=s[3].x=a,s[1].x=s[2].x=u,s[0].y=s[1].y=l,s[2].y=s[3].y=p,f.length=0,y!==d[0]&&(f[0]=[3,0]),y!==d[2]&&(f[2]=[1,2]),m!==d[1]&&(f[1]=[0,1]),m!==d[3]&&(f[3]=[2,3])}function y(t,e){var n,o;if(n=e.x-t.x,o=e.y-t.y,0!==n||0!==o){if(0===n)return o>0?.5*Math.PI:1.5*Math.PI;var i=Math.atan(o/n);return n<0&&(i+=Math.PI),i}}var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initData=function(){this._renderData.createFlexData(0,4,6,this.getVfmt()),this.updateIndices()},e.prototype.updateRenderData=function(t){var e,n,o,i,r,s,f,y,m,g=t.spriteFrame;if(this.packToDynamicAtlas(t,g),t._vertsDirty){var v=t._fillStart,b=t._fillRange;for(b<0&&(v+=b,b=-b);v>=1;)v-=1;for(;v<0;)v+=1;v*=a,b*=a,_(t),s=(e=g)._texture.width,f=e._texture.height,y=e._rect,m=l,e._rotated?(n=y.x/s,o=(y.x+y.height)/s,i=y.y/f,r=(y.y+y.width)/f,m[0]=m[2]=n,m[4]=m[6]=o,m[3]=m[7]=r,m[1]=m[5]=i):(n=y.x/s,o=(y.x+y.width)/s,i=y.y/f,r=(y.y+y.height)/f,m[0]=m[4]=n,m[2]=m[6]=o,m[1]=m[3]=r,m[5]=m[7]=i),d(c[0],c[2],c[1],c[3],h,v,u),d(c[0],c[2],c[1],c[3],h,v+b,p),this.updateVerts(t,v,b),this.updateTextureIdx(t),t._vertsDirty=!1}},e.prototype.updateVerts=function(t,e,n){var o=e+n,i=this._local;i.length=0;for(var r=0,c=3*this.floatsPerVert,l=0;l<4;++l){var d=f[l];if(d)if(n>=a)i.length=r+c,this._generateTriangle(i,r,h,s[d[0]],s[d[1]]),r+=c;else{var _=y(h,s[d[0]]),m=y(h,s[d[1]]);m<_&&(m+=a),_-=a,m-=a;for(var g=0;g<3;++g)_>=o||(_>=e?(i.length=r+c,m>=o?this._generateTriangle(i,r,h,s[d[0]],p[l]):this._generateTriangle(i,r,h,s[d[0]],s[d[1]]),r+=c):m<=e||(m<=o?(i.length=r+c,this._generateTriangle(i,r,h,u[l],s[d[1]]),r+=c):(i.length=r+c,this._generateTriangle(i,r,h,u[l],p[l]),r+=c))),_+=a,m+=a}}this.allocWorldVerts(t),this.updateWorldVerts(t)},e.prototype.allocWorldVerts=function(t){var e=t.node._color._val,n=this._renderData,o=this.floatsPerVert,i=this._local,r=i.length/o;this.verticesCount=this.indicesCount=r;var a=n._flexBuffer;a.reserve(r,r)&&this.updateIndices(),a.used(this.verticesCount,this.indicesCount);for(var s=n.vDatas[0],c=n.uintVDatas[0],l=this.uvOffset,u=0;u<i.length;u+=o){var p=u+l;s[p]=i[p],s[p+1]=i[p+1],c[p+2]=e}},e.prototype.updateIndices=function(){for(var t=this._renderData.iDatas[0],e=0;e<t.length;e++)t[e]=e},e.prototype.updateWorldVerts=function(t){for(var e=t.node._worldMatrix.m,n=e[0],o=e[1],i=e[4],r=e[5],a=e[12],s=e[13],c=this._local,l=this._renderData.vDatas[0],u=this.floatsPerVert,p=0;p<c.length;p+=u){var h=c[p],f=c[p+1];l[p]=h*n+f*i+a,l[p+1]=h*o+f*r+s}},e.prototype._generateTriangle=function(t,e,n,o,i){var r=c,a=r[0],s=r[1],l=r[2],u=r[3],p=this.floatsPerVert;t[e]=n.x,t[e+1]=n.y,t[e+p]=o.x,t[e+p+1]=o.y,t[e+2*p]=i.x,t[e+2*p+1]=i.y;var h,f,d=this.uvOffset;h=(n.x-a)/(l-a),f=(n.y-s)/(u-s),this._generateUV(h,f,t,e+d),h=(o.x-a)/(l-a),f=(o.y-s)/(u-s),this._generateUV(h,f,t,e+p+d),h=(i.x-a)/(l-a),f=(i.y-s)/(u-s),this._generateUV(h,f,t,e+2*p+d)},e.prototype._generateUV=function(t,e,n,o){var i=l[0]+(l[2]-l[0])*t,r=l[4]+(l[6]-l[4])*t,a=l[1]+(l[3]-l[1])*t,s=l[5]+(l[7]-l[5])*t;n[o]=i+(r-i)*e,n[o+1]=a+(s-a)*e},e}(r.default);n.default=m,cc._RF.pop()},{"./MultiAssemble":"MultiAssemble"}],MultiAssembleSimple:[function(t,e,n){"use strict";cc._RF.push(e,"aa9e0lVvBJP9I4EFlhtYCJc","MultiAssembleSimple");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateRenderData=function(t){this.packToDynamicAtlas(t,t._spriteFrame),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateUVs=function(t){for(var e=t._spriteFrame.uv,n=this.uvOffset,o=this.floatsPerVert,i=this._renderData.vDatas[0],r=0;r<4;r++){var a=2*r,s=o*r+n;i[s]=e[a],i[s+1]=e[a+1]}},e.prototype.updateVerts=function(t){var e,n,o,i,r=t.node,a=r.width,s=r.height,c=r.anchorX*a,l=r.anchorY*s;if(t.trim)e=-c,n=-l,o=a-c,i=s-l;else{var u=t.spriteFrame,p=u._originalSize.width,h=u._originalSize.height,f=u._rect.width,d=u._rect.height,_=u._offset,y=a/p,m=s/h,g=_.x+(p-f)/2,v=_.x-(p-f)/2;e=g*y-c,n=(_.y+(h-d)/2)*m-l,o=a+v*y-c,i=s+(_.y-(h-d)/2)*m-l}var b=this._local;b[0]=e,b[1]=n,b[2]=o,b[3]=i,this.updateWorldVerts(t)},e}(t("./MultiAssemble").default);n.default=r,cc._RF.pop()},{"./MultiAssemble":"MultiAssemble"}],MultiAssembleSliced:[function(t,e,n){"use strict";cc._RF.push(e,"0f3a2cHs8tKfqzmBuX9KEnV","MultiAssembleSliced");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initData=function(){if(this.verticesCount=16,this.indicesCount=54,!(this._renderData.meshCount>0)){this._renderData.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var t=this._renderData.iDatas[0],e=0,n=0;n<3;++n)for(var o=0;o<3;++o){var i=4*n+o;t[e++]=i,t[e++]=i+1,t[e++]=i+4,t[e++]=i+1,t[e++]=i+5,t[e++]=i+4}}},e.prototype.initLocal=function(){this._local=[],this._local.length=8},e.prototype.updateRenderData=function(t){var e=t._spriteFrame;this.packToDynamicAtlas(t,e),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateVerts=function(t){var e=t.node,n=e.width,o=e.height,i=e.anchorX*n,r=e.anchorY*o,a=t.spriteFrame,s=a.insetLeft,c=a.insetRight,l=a.insetTop,u=a.insetBottom,p=n-s-c,h=o-l-u,f=n/(s+c),d=o/(l+u);f=isNaN(f)||f>1?1:f,d=isNaN(d)||d>1?1:d,p=p<0?0:p,h=h<0?0:h;var _=this._local;_[0]=-i,_[1]=-r,_[2]=s*f-i,_[3]=u*d-r,_[4]=_[2]+p,_[5]=_[3]+h,_[6]=n-i,_[7]=o-r,this.updateWorldVerts(t)},e.prototype.updateUVs=function(t){for(var e=this._renderData.vDatas[0],n=t.spriteFrame.uvSliced,o=this.uvOffset,i=this.floatsPerVert,r=0;r<4;++r)for(var a=0;a<4;++a){var s=4*r+a,c=n[s],l=s*i;e[l+o]=c.u,e[l+o+1]=c.v}},e.prototype.updateWorldVerts=function(t){for(var e=t.node._worldMatrix.m,n=e[0],o=e[1],i=e[4],r=e[5],a=e[12],s=e[13],c=this._local,l=this._renderData.vDatas[0],u=this.floatsPerVert,p=0;p<4;++p)for(var h=c[2*p+1],f=0;f<4;++f){var d=c[2*f],_=(4*p+f)*u;l[_]=d*n+h*i+a,l[_+1]=d*o+h*r+s}},e}(t("./MultiAssemble").default);n.default=r,cc._RF.pop()},{"./MultiAssemble":"MultiAssemble"}],MultiAssembleTiled:[function(t,e,n){"use strict";cc._RF.push(e,"825c0CUhQhLHIOj5ulatGUZ","MultiAssembleTiled");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentWidth=0,e.contentHeight=0,e.rectWidth=0,e.rectHeight=0,e.hRepeat=0,e.vRepeat=0,e.row=0,e.col=0,e.sizableWidth=0,e.sizableHeight=0,e}return i(e,t),e.prototype.initData=function(){this.verticesCount=0,this.contentWidth=0,this.contentHeight=0,this.rectWidth=0,this.rectHeight=0,this.hRepeat=0,this.vRepeat=0,this.row=0,this.col=0,this._renderData.meshCount>0||(this._renderData.createFlexData(0,4,6,this.getVfmt()),this._updateIndices())},e.prototype.initLocal=function(){this._local={x:[],y:[]}},e.prototype._updateIndices=function(){for(var t=this._renderData.iDatas[0],e=0,n=0,o=t.length;e<o;e+=6,n+=4)t[e]=n,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n+1,t[e+4]=n+3,t[e+5]=n+2},e.prototype.updateRenderData=function(t){var e=t._spriteFrame;this.packToDynamicAtlas(t,e);var n=t.node,o=this.contentWidth=Math.abs(n.width),i=this.contentHeight=Math.abs(n.height),r=e._rect,a=e.insetLeft,s=e.insetRight,c=r.width-a-s,l=e.insetTop,u=e.insetBottom,p=r.height-l-u;this.sizableWidth=o-a-s,this.sizableHeight=i-l-u,this.sizableWidth=this.sizableWidth>0?this.sizableWidth:0,this.sizableHeight=this.sizableHeight>0?this.sizableHeight:0;var h=this.hRepeat=0===c?this.sizableWidth:this.sizableWidth/c,f=this.vRepeat=0===p?this.sizableHeight:this.sizableHeight/p,d=(this.row=Math.ceil(f+2))*(this.col=Math.ceil(h+2));this.verticesCount=4*d,this.indicesCount=6*d;var _=this._renderData._flexBuffer;_.reserve(this.verticesCount,this.indicesCount)&&(this._updateIndices(),this.updateColor(t)),_.used(this.verticesCount,this.indicesCount),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateVerts=function(t){var e=t._spriteFrame,n=e._rect,o=t.node,i=o.anchorX*o.width,r=o.anchorY*o.height,a=this.row,s=this.col,c=this.contentWidth,l=this.contentHeight,u=this._local,p=u.x,h=u.y;p.length=h.length=0;var f,d,_=e.insetLeft,y=e.insetRight,m=n.width-_-y,g=e.insetTop,v=e.insetBottom,b=n.height-g-v,O=o.width/(_+y)>1?1:o.width/(_+y),w=o.height/(g+v)>1?1:o.height/(g+v);f=m>0?Math.floor(1e3*this.sizableWidth)/1e3%m==0?m:this.sizableWidth%m:this.sizableWidth,d=b>0?Math.floor(1e3*this.sizableHeight)/1e3%b==0?b:this.sizableHeight%b:this.sizableHeight;for(var A=0;A<=s;A++)0===A?p[A]=-i:A>0&&A<s?p[A]=1===A?_*O+Math.min(m,this.sizableWidth)-i:m>0?A===s-1?_+f+m*(A-2)-i:_+Math.min(m,this.sizableWidth)+m*(A-2)-i:_+this.sizableWidth-i:A===s&&(p[A]=Math.min(_+this.sizableWidth+y,c)-i);for(A=0;A<=a;A++)0===A?h[A]=-r:A>0&&A<a?h[A]=1===A?v*w+Math.min(b,this.sizableHeight)-r:b>0?A===a-1?v+d+(A-2)*b-r:v+Math.min(b,this.sizableHeight)+(A-2)*b-r:v+this.sizableHeight-r:A===a&&(h[A]=Math.min(v+this.sizableHeight+g,l)-r);this.updateWorldVerts(t)},e.prototype.updateWorldVerts=function(t){for(var e,n,o,i,r=this._renderData,a=this._local,s=a.x,c=a.y,l=r.vDatas[0],u=this.row,p=this.col,h=t.node._worldMatrix.m,f=h[0],d=h[1],_=h[4],y=h[5],m=h[12],g=h[13],v=this.floatsPerVert,b=0,O=0,w=u;O<w;++O){o=c[O],i=c[O+1];for(var A=0,T=p;A<T;++A)e=s[A],n=s[A+1],l[b]=e*f+o*_+m,l[b+1]=e*d+o*y+g,l[b+=v]=n*f+o*_+m,l[b+1]=n*d+o*y+g,l[b+=v]=e*f+i*_+m,l[b+1]=e*d+i*y+g,l[b+=v]=n*f+i*_+m,l[b+1]=n*d+i*y+g,b+=v}},e.prototype.updateUVs=function(t){var e=this._renderData.vDatas[0];if(e)for(var n=t._spriteFrame,o=n._rect,i=n.insetLeft,r=n.insetRight,a=o.width-i-r,s=n.insetTop,c=n.insetBottom,l=o.height-s-c,u=this.row,p=this.col,h=this.hRepeat,f=this.vRepeat,d=0,_=0,y=t.spriteFrame.uv,m=t.spriteFrame.uvSliced,g=t.spriteFrame._rotated,v=this.floatsPerVert,b=this.uvOffset,O=[],w=[],A=0,T=u;A<T;++A){_=this.sizableHeight>l?this.sizableHeight>=A*l?1:f%1:f;for(var P=0,x=p;P<x;++P)d=this.sizableWidth>a?this.sizableWidth>=P*a?1:h%1:h,g?(0===A?(O[0]=m[0].u,O[1]=m[0].u,O[2]=m[4].u+(m[8].u-m[4].u)*_):A<u-1?(O[0]=m[4].u,O[1]=m[4].u,O[2]=m[4].u+(m[8].u-m[4].u)*_):A===u-1&&(O[0]=m[8].u,O[1]=m[8].u,O[2]=m[12].u),0===P?(w[0]=m[0].v,w[1]=m[1].v+(m[2].v-m[1].v)*d,w[2]=m[0].v):P<p-1?(w[0]=m[1].v,w[1]=m[1].v+(m[2].v-m[1].v)*d,w[2]=m[1].v):P===p-1&&(w[0]=m[2].v,w[1]=m[3].v,w[2]=m[2].v),O[3]=O[2],w[3]=w[1]):(0===P?(O[0]=m[0].u,O[1]=m[1].u+(m[2].u-m[1].u)*d,O[2]=y[0]):P<p-1?(O[0]=m[1].u,O[1]=m[1].u+(m[2].u-m[1].u)*d,O[2]=m[1].u):P===p-1&&(O[0]=m[2].u,O[1]=m[3].u,O[2]=m[2].u),0===A?(w[0]=m[0].v,w[1]=m[0].v,w[2]=m[4].v+(m[8].v-m[4].v)*_):A<u-1?(w[0]=m[4].v,w[1]=m[4].v,w[2]=m[4].v+(m[8].v-m[4].v)*_):A===u-1&&(w[0]=m[8].v,w[1]=m[8].v,w[2]=m[12].v),O[3]=O[1],w[3]=w[2]),e[b]=O[0],e[b+1]=w[0],e[b+=v]=O[1],e[b+1]=w[1],e[b+=v]=O[2],e[b+1]=w[2],e[b+=v]=O[3],e[b+1]=w[3],b+=v}},e}(t("./MultiAssemble").default);n.default=r,cc._RF.pop()},{"./MultiAssemble":"MultiAssemble"}],MultiAssemble:[function(t,e,n){"use strict";cc._RF.push(e,"ac3d4pn45pPbIIUTWTJWqn4","MultiAssemble");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=cc.gfx,a=new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_COLOR,type:r.ATTR_TYPE_UINT8,num:4,normalize:!0},{name:"a_texture_idx",type:r.ATTR_TYPE_FLOAT32,num:1}]),s=function(t){function e(){var e=t.call(this)||this;return e.floatsPerVert=6,e.verticesCount=4,e.indicesCount=6,e.uvOffset=2,e.colorOffset=4,e.textureIdxOffset=5,e._renderData=null,e._local=[],e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return i(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],n=e.length/6,o=0,i=0;o<n;o++){var r=4*o;e[i++]=r,e[i++]=r+1,e[i++]=r+2,e[i++]=r+1,e[i++]=r+3,e[i++]=r+2}},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.getVfmt=function(){return a},e.prototype.updateColor=function(t,e){var n=this._renderData.uintVDatas[0];if(n){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,i=this.colorOffset,r=n.length;i<r;i+=o)n[i]=e}},e.prototype.updateTextureIdx=function(t){for(var e=this._renderData.vDatas[0],n=0;n<this.verticesCount;n++)e[this.floatsPerVert*n+this.textureIdxOffset]=t.textureIdx},e.prototype.updateWorldVerts=function(t){var e=this._local,n=this._renderData.vDatas[0],o=t.node._worldMatrix.m,i=o[0],r=o[1],a=o[4],s=o[5],c=o[12],l=o[13],u=e[0],p=e[2],h=e[1],f=e[3],d=this.floatsPerVert,_=0;if(1===i&&0===r&&0===a&&1===s)n[_]=u+c,n[_+1]=h+l,n[_+=d]=p+c,n[_+1]=h+l,n[_+=d]=u+c,n[_+1]=f+l,n[_+=d]=p+c,n[_+1]=f+l;else{var y=i*u,m=i*p,g=r*u,v=r*p,b=a*h,O=a*f,w=s*h,A=s*f;n[_]=y+b+c,n[_+1]=g+w+l,n[_+=d]=m+b+c,n[_+1]=v+w+l,n[_+=d]=y+O+c,n[_+1]=g+A+l,n[_+=d]=m+O+c,n[_+1]=v+A+l}},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var n=this._renderData,o=n.vDatas[0],i=n.iDatas[0],r=this.getBuffer(e),a=r.request(this.verticesCount,this.indicesCount),s=a.byteOffset>>2,c=r._vData;o.length+s>c.length?c.set(o.subarray(0,c.length-s),s):c.set(o,s);for(var l=r._iData,u=a.indiceOffset,p=a.vertexOffset,h=0,f=i.length;h<f;h++)l[u++]=p+i[h]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var n=cc.dynamicAtlasManager.insertSpriteFrame(e);n&&e._setDynamicAtlasFrame(n)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);n.default=s,cc._RF.pop()},{}],MultiSprite:[function(t,e,n){"use strict";cc._RF.push(e,"c922bwmEw5OV4VVCBcsN/cG","MultiSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../util/EditorTool"),s=t("./assemble/MultiAssembleBarFilled"),c=t("./assemble/MultiAssembleRadialFilled"),l=t("./assemble/MultiAssembleSimple"),u=t("./assemble/MultiAssembleSliced"),p=t("./assemble/MultiAssembleTiled"),h=t("./MultiTextureIdx"),f=t("./MultiTextureManager"),d=cc._decorator,_=d.ccclass,y=(d.property,d.requireComponent),m=d.menu,g=d.inspector,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._multiTextureIdx=null,e}return i(e,t),Object.defineProperty(e.prototype,"multiTextureIdx",{get:function(){return this._multiTextureIdx||(this._multiTextureIdx=this.getComponent(h.default)),this._multiTextureIdx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textureIdx",{get:function(){return this.multiTextureIdx.textureIdx},set:function(t){this.multiTextureIdx.textureIdx=t},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){var t=this;a.default.load("res/shader/materials/multiTexture.mtl").then(function(e){e&&t.setMaterial(0,e)})},e.prototype.onLoad=function(){var e;null===(e=t.prototype.onLoad)||void 0===e||e.call(this),f.MultiTextureManager.addSprite(this)},e.prototype.onDestroy=function(){var e;null===(e=t.prototype.onDestroy)||void 0===e||e.call(this),f.MultiTextureManager.removeSprite(this)},e.prototype._updateMaterial=function(){var t=null;this.spriteFrame&&(t=this.spriteFrame.getTexture(),this.updateTextuerIdx());var e=this.getMaterial(0);if(e){var n=t&&t.getImpl();e.name.indexOf("multiTexture")>=0?(f.MultiTextureManager.init(e._material),e.getProperty("texture"+this.textureIdx,0)!==n&&e.setProperty("texture"+this.textureIdx,t)):e.getProperty("texture",0)!==n&&e.setProperty("texture",t)}cc.BlendFunc.prototype._updateMaterial.call(this)},e.prototype.updateTextuerIdx=function(){if(this.spriteFrame){var t=this.spriteFrame.getTexture(),e=f.MultiTextureManager.getIdx(t);e>=0&&(this.textureIdx=e)}},r([_,y(h.default),m("Framework/UI\u7ec4\u4ef6/MultiSprite"),g("packages://inspector/inspectors/comps/sprite.js")],e)}(cc.Sprite);n.default=v,cc.Assembler.register(v,{getConstructor:function(t){var e=l.default;switch(t.type){case cc.Sprite.Type.SLICED:e=u.default;break;case cc.Sprite.Type.TILED:e=p.default;break;case cc.Sprite.Type.FILLED:e=t._fillType===cc.Sprite.FillType.RADIAL?c.default:s.default}return e}}),cc._RF.pop()},{"../../../util/EditorTool":"EditorTool","./MultiTextureIdx":"MultiTextureIdx","./MultiTextureManager":"MultiTextureManager","./assemble/MultiAssembleBarFilled":"MultiAssembleBarFilled","./assemble/MultiAssembleRadialFilled":"MultiAssembleRadialFilled","./assemble/MultiAssembleSimple":"MultiAssembleSimple","./assemble/MultiAssembleSliced":"MultiAssembleSliced","./assemble/MultiAssembleTiled":"MultiAssembleTiled"}],MultiTextureIdx:[function(t,e,n){"use strict";cc._RF.push(e,"46c9aT+vftMEJqWINApHQZC","MultiTextureIdx");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./MultiSprite"),s=t("./MultiTextureManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=(c.requireComponent,c.menu,c.inspector,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textureIdx=0,e._multiSprite=null,e}return i(e,t),Object.defineProperty(e.prototype,"textureIdx",{get:function(){return this._textureIdx},set:function(t){this._textureIdx=cc.misc.clampf(t,0,s.MultiTextureManager.MAX_TEXTURE_NUM-1),this.multiSprite.setVertsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multiSprite",{get:function(){return this._multiSprite||(this._multiSprite=this.getComponent(a.default)),this._multiSprite},enumerable:!1,configurable:!0}),r([u],e.prototype,"_textureIdx",void 0),r([u({type:cc.Integer,range:[0,s.MultiTextureManager.MAX_TEXTURE_NUM-1]})],e.prototype,"textureIdx",null),r([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./MultiSprite":"MultiSprite","./MultiTextureManager":"MultiTextureManager"}],MultiTextureManager:[function(t,e,n){"use strict";cc._RF.push(e,"4fc9cgEvWxKZK0hYF2jjQq7","MultiTextureManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.MultiTextureManager=void 0;var o=function(){function t(){}return t.init=function(t){this._init||!(t instanceof cc.Material)||t instanceof cc.MaterialVariant||(this._init=!0,this._mat=t,this._mat.addRef())},t.addSprite=function(t){this._sprites.add(t)},t.removeSprite=function(t){this._sprites.delete(t)},t.setTexture=function(e,n){var o=this;if(this._init)if(n instanceof cc.Texture2D){e=cc.misc.clampf(e,0,t.MAX_TEXTURE_NUM-1);var i=this._texMap.get(e);i!==n&&(i&&i.decRef(),n.addRef(),this._texMap.set(e,n),this._mat.setProperty("texture"+e,n),this._sprites.forEach(function(e){for(var n=e.getMaterial(0),i=0;i<t.MAX_TEXTURE_NUM;i++){var r=o._texMap.get(i);if(r){var a=r.getImpl();n.getProperty("texture"+i,0)!==a&&n.setProperty("texture"+i,r)}}n._effect._dirty=!0,e.updateTextuerIdx()}))}else cc.error("[MultiSpriteManager.setTexture] \u53c2\u6570\u7c7b\u578b\u9519\u8bef");else cc.error("[MultiSpriteManager.setTexture] \u672a\u521d\u59cb\u5316MultiSpriteManager")},t.getTexture=function(e){return e=cc.misc.clampf(e,0,t.MAX_TEXTURE_NUM-1),this._texMap.get(e)},t.getIdx=function(e){for(var n=0;n<t.MAX_TEXTURE_NUM;n++)if(this._texMap.get(n)===e)return n;return-1},t.MAX_TEXTURE_NUM=8,t._init=!1,t._mat=null,t._texMap=new Map,t._sprites=new Set,t}();n.MultiTextureManager=o,cc._RF.pop()},{}],Random:[function(t,e,n){"use strict";cc._RF.push(e,"67025YgSQdGQ6vst9yFrddx","Random"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Tool"),i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=function(){function t(){}return t.hashCode=function(t,e){void 0===e&&(e=0);var n=e;if(!t)return n;for(var o=0;o<t.length;o++)n=(131*n+t.charCodeAt(o))%19260817;return n},t.getSeed=function(t){void 0===t&&(t=8);for(var e="",n=0;n<t;n++)e+=o.default.arrayRand(i);return e},t.random=function(t){return(9301*("string"==typeof t?this.hashCode(t):t)+49297)%233280/233280},t.int=function(t,e,n){return void 0===n&&(n=void 0),void 0===n&&(n=e,e=0),e=Math.ceil(e),n=Math.floor(n),Math.floor(this.random(t)*(n-e))+e},t.float=function(t,e,n){return void 0===n&&(n=void 0),void 0===n&&(n=e,e=0),this.random(t)*(n-e)+e},t.randWeightIdx=function(t,e){for(var n=0,o=0;o<e.length;o++)n+=e[o];var i=this.float(t,0,n),r=0;for(o=0;o<e.length;o++)if(i<(r+=e[o]))return o;return e.length-1},t.shuffle=function(t,e){for(var n,o=e.length-1;o>=0;o--){var i=Math.floor(this.random(t)*(o+1));n=[e[o],e[i]],e[i]=n[0],e[o]=n[1]}return e},t.arrayRand=function(t,e){return e.length<=0?null:e[this.int(t,0,e.length)]},t}();n.default=r,cc._RF.pop()},{"./Tool":"Tool"}],RecyclePool:[function(t,e,n){"use strict";cc._RF.push(e,"a65467UylROdo6A5J2HqlLb","RecyclePool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.size=function(t){var e="string"==typeof t?this._urlMap.get(t):this._cmptMap.get(t);return void 0===e?0:e.length},t.clear=function(t){if("string"==typeof t){if(void 0===(o=this._urlMap.get(t)))return;for(var e=o.length,n=0;n<e;++n)o[n].destroy();o.length=0,this._urlMap.delete(t)}else{var o;if(void 0===(o=this._cmptMap.get(t)))return;for(e=o.length,n=0;n<e;++n)o[n].destroy();o.length=0,this._cmptMap.delete(t)}},t.clearAll=function(){this._urlMap.forEach(function(t){for(var e=t.length,n=0;n<e;++n)t[n].destroy()}),this._urlMap.clear(),this._cmptMap.forEach(function(t){for(var e=t.length,n=0;n<e;++n)t[n].destroy()}),this._cmptMap.clear()},t.get=function(t){if("string"==typeof t){if(void 0===(n=this._urlMap.get(t))||n.length<=0)return null;var e=n[o=n.length-1];return n.length=o,e}var n,o;if(void 0===(n=this._cmptMap.get(t))||n.length<=0)return null;e=n[o=n.length-1],n.length=o;var i=e.getComponent(t);return i&&i.reuse&&i.reuse(),e},t.put=function(e,n){if(n)if("string"==typeof e){if(void 0===(o=this._urlMap.get(e)))o=[],this._urlMap.set(e,o);else{if(-1!==o.indexOf(n))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(o.length>=t.limit)return n.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}n.removeFromParent(!1),o.push(n)}else{var o;if(void 0===(o=this._cmptMap.get(e)))o=[],this._cmptMap.set(e,o);else{if(-1!==o.indexOf(n))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(o.length>=t.limit)return n.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}n.removeFromParent(!1);var i=n.getComponent(e);i&&i.unuse&&i.unuse(),o.push(n)}else cc.error("[RecyclePool.put] error: \u4f20\u5165\u8282\u70b9\u4e3a\u7a7a")},t._urlMap=new Map,t._cmptMap=new Map,t.limit=512,t}();n.default=o,cc._RF.pop()},{}],ResSpine:[function(t,e,n){"use strict";cc._RF.push(e,"14fadlt4gBHJ47mZbSl1iSm","ResSpine");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../util/Res"),l=cc._decorator,u=l.ccclass,p=l.menu,h=l.disallowMultiple,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._asset=null,e._spine=null,e}return i(e,t),Object.defineProperty(e.prototype,"spine",{get:function(){return this._spine||(this._spine=this.getComponent(sp.Skeleton)),this._spine},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){var t;null===(t=this._asset)||void 0===t||t.decRef()},e.prototype.setSkeletonData=function(t){var e;return a(this,void 0,Promise,function(){var n,o;return s(this,function(i){switch(i.label){case 0:return(o=c.default.get(t,sp.SkeletonData))?[3,2]:[4,c.default.load(t,sp.SkeletonData)];case 1:o=i.sent(),i.label=2;case 2:return(n=o)instanceof sp.SkeletonData&&(n.addRef(),null===(e=this._asset)||void 0===e||e.decRef(),this._asset=n,this.spine.skeletonData=n),[2]}})})},r([u,h,f(sp.Skeleton),p("Framework/UI\u7ec4\u4ef6/ResSpine")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],ResSprite:[function(t,e,n){"use strict";cc._RF.push(e,"1e608kcfHNDl6sxF57wMNFE","ResSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../util/Res"),l=cc._decorator,u=l.ccclass,p=l.menu,h=l.disallowMultiple,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._asset=null,e._sprite=null,e}return i(e,t),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._sprite||(this._sprite=this.getComponent(cc.Sprite)),this._sprite},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteFrame",{get:function(){return this.sprite.spriteFrame},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){var t;null===(t=this._asset)||void 0===t||t.decRef()},e.prototype.setSpriteFrame=function(t,e){var n;return void 0===e&&(e=""),a(this,void 0,Promise,function(){var o,i,r;return s(this,function(a){switch(a.label){case 0:return o=e?cc.SpriteAtlas:cc.SpriteFrame,(r=c.default.get(t,o))?[3,2]:[4,c.default.load(t,o)];case 1:r=a.sent(),a.label=2;case 2:return(i=r)instanceof o&&(i.addRef(),null===(n=this._asset)||void 0===n||n.decRef(),this._asset=i,this.sprite.spriteFrame=i instanceof cc.SpriteAtlas?i.getSpriteFrame(e):i),[2]}})})},r([u,h,f(cc.Sprite),p("Framework/UI\u7ec4\u4ef6/ResSprite")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"e6bb4ug0+BII76RLebcZhXt","Res");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function s(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getCachePrefabUrl=function(t){var e="";if(t instanceof cc.Prefab)e=t._resCacheUrl||"";else if(t instanceof cc.Node)for(var n=t;n&&!(n._prefab&&n._prefab.root&&(e=this._nodePath.get(n._prefab.root)||""));)n=n.parent;return e},t.cacheAsset=function(t,e,n){void 0===n&&(n=!0);var o=function(o){if(!o.has(t)){e.addRef(),e instanceof cc.Prefab&&(e._resCacheUrl=t);var i={asset:e,release:n,lastLoadTime:Date.now()/1e3};o.set(t,i)}};if(e instanceof cc.Prefab)o(this._prefabCache);else if(e instanceof cc.SpriteFrame)o(this._spriteFrameCache);else if(e instanceof cc.SpriteAtlas)o(this._spriteAtlasCache);else if(e instanceof sp.SkeletonData)o(this._skeletonDataCache);else{if(this._otherCache.has(t))return;e.addRef(),this._otherCache.set(t,e)}},t.get=function(t,e){var n=null,o=function(e){var o=e.get(t);o&&(n=o.asset,o.lastLoadTime=Date.now()/1e3)};return e===cc.Prefab?o(this._prefabCache):e===cc.SpriteFrame?o(this._spriteFrameCache):e===cc.SpriteAtlas?o(this._spriteAtlasCache):e===sp.SkeletonData?o(this._skeletonDataCache):n=this._otherCache.get(t),n},t.load=function(t,e,n){return void 0===n&&(n=!0),o(this,void 0,Promise,function(){var o;return i(this,function(i){switch(i.label){case 0:return(o=this.get(t,e))?[2,o]:[4,new Promise(function(n){cc.resources.load(t,e,function(t,e){t?(cc.error("[Res.load] error: "+t),n(null)):n(e)})})];case 1:return o=i.sent(),this.cacheAsset(t,o,n),[2,o]}})})},t.loadDir=function(t,e,n){var o=this;return void 0===n&&(n=!0),new Promise(function(i){cc.resources.loadDir(t,e,function(r,a){if(r)cc.error("[Res.loadDir] error: "+r),i([]);else{var s=cc.resources.getDirWithPath(t,e);a.forEach(function(t,e){o.cacheAsset(s[e].path,t,n)}),i(a)}})})},t.instantiate=function(t,e){if(!t)return cc.error("[Res.instantiate] original is null"),null;var n=cc.instantiate(t),o=null,i=this.getCachePrefabUrl(e)||this.getCachePrefabUrl(t);return i&&(o=this._prefabCache.get(i))&&o.release&&(Array.isArray(o.nodes)||(o.nodes=[]),o.nodes.push(n),this._nodePath.set(n,i)),n},t.releaseAll=function(){var t=this,e=Date.now()/1e3;this._prefabCache.forEach(function(n,o){if(n.release&&!(e-n.lastLoadTime<t.releaseSec)){if(Array.isArray(n.nodes)){for(var i=n.nodes.length-1;i>=0;i--){var r=n.nodes[i];r.isValid||(t._nodePath.delete(r),n.nodes.splice(i,1))}0===n.nodes.length&&delete n.nodes}Array.isArray(n.nodes)||(n.asset.decRef(),t._prefabCache.delete(o))}}),[this._spriteFrameCache,this._spriteAtlasCache,this._skeletonDataCache].forEach(function(n){n.forEach(function(o,i){!o.release||e-o.lastLoadTime<t.releaseSec||(o.asset.decRef(),n.delete(i))})})},t._nodePath=new Map,t._prefabCache=new Map,t._spriteFrameCache=new Map,t._spriteAtlasCache=new Map,t._skeletonDataCache=new Map,t._otherCache=new Map,t.releaseSec=0,t}();n.default=r,cc._RF.pop()},{}],ShaderFill:[function(t,e,n){"use strict";cc._RF.push(e,"63dfaBxVipD7bEv99K+9+0u","ShaderFill");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillColor=new cc.Color,e.fillPhase=0,e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("fillColor",this.fillColor),this.mat.setProperty("fillPhase",this.fillPhase)},r([c({tooltip:!1})],e.prototype,"fillColor",void 0),r([c({tooltip:!1,range:[0,1]})],e.prototype,"fillPhase",void 0),r([s,u,p,l("Framework/Shader/ShaderFill")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],ShaderOutline:[function(t,e,n){"use strict";cc._RF.push(e,"d2a0bLIldJHoqHhJxTVBs5H","ShaderOutline");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.disallowMultiple,h=s.executeInEditMode;(function(t){t[t.NONE=0]="NONE",t[t.OUT=1]="OUT",t[t.INNER=2]="INNER"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outlineColor=new cc.Color,e.outLineWidth=0,e.outlineType=a.NONE,e.textureSize=new cc.Size(1,1),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("outlineColor",this.outlineColor),this.mat.setProperty("outlineInfo",new cc.Vec4(this.textureSize.width,this.textureSize.height,this.outLineWidth,this.outlineType))},r([l({tooltip:!1})],e.prototype,"outlineColor",void 0),r([l({tooltip:!1})],e.prototype,"outLineWidth",void 0),r([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"outlineType",void 0),r([l({tooltip:!1})],e.prototype,"textureSize",void 0),r([c,p,h,u("Framework/Shader/ShaderOutline")],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],ShaderShining:[function(t,e,n){"use strict";cc._RF.push(e,"10bd9Ws1BRG/ZPICDgLNLvK","ShaderShining");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../base/Timer"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.disallowMultiple,h=s.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e.slope=1,e.len=.25,e.strength=2,e.interval=1,e.timeScale=!1,e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){this.updateShader()},e.prototype.updateShader=function(){this.mat.setProperty("shiningData",new cc.Vec4(this.speed,this.slope,this.len,this.interval)),this.mat.setProperty("extra",new cc.Vec4(this.timeScale?a.default.scaleGameSec:a.default.gameSec,this.strength))},r([l({tooltip:!1})],e.prototype,"speed",void 0),r([l({tooltip:!1})],e.prototype,"slope",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"len",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"strength",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"interval",void 0),r([l({tooltip:!1})],e.prototype,"timeScale",void 0),r([c,p,h,u("Framework/Shader/ShaderShining")],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../base/Timer":"Timer"}],ShaderTile:[function(t,e,n){"use strict";cc._RF.push(e,"e6e3agdOnJF/o7rgEOg4Iq+","ShaderTile");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.menu,u=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scale=new cc.Vec2(1,1),e.offset=new cc.Vec2(0,0),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("tile",new cc.Vec4(this.scale.x,this.scale.y,this.offset.x,this.offset.y))},r([c({tooltip:!1})],e.prototype,"scale",void 0),r([c({tooltip:!1})],e.prototype,"offset",void 0),r([s,u,p,l("Framework/Shader/ShaderTile")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],ShakeNode:[function(t,e,n){"use strict";cc._RF.push(e,"936e8flAq9L248TlLh5Hzd0","ShakeNode");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../util/Tween"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=s.disallowMultiple,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shakePower=5,e.shakeTime=.16,e.timeScale=!1,e._tween=null,e}return i(e,t),e.prototype.shake=function(t){if(void 0===t&&(t=5),!(this._tween&&this._tween.isPlaying()||t<=0||this.shakePower<=0||this.shakeTime<=0)){var e=cc.v2(0,this.shakePower);this.node.setPosition(e);for(var n=[],o=[],i=1;i<=8;i++){var r=e.rotate(Math.PI/4*3*i);n.push(r.x),o.push(r.y)}this._tween=this.timeScale?new a.Tween(this.node,a.SCALE_TWEEN):new a.Tween(this.node),this._tween.to({x:n,y:o},1e3*this.shakeTime).repeat(t).start()}},r([l({tooltip:!1})],e.prototype,"shakePower",void 0),r([l({tooltip:!1})],e.prototype,"shakeTime",void 0),r([l({tooltip:!1})],e.prototype,"timeScale",void 0),r([c,p,u("Framework/UI\u7ec4\u4ef6/ShakeNode")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../util/Tween":"Tween"}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"435944whQBN4o91RvmJFpuA","Timer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),s=t("../../util/Events"),c=t("../../util/Tween"),l=cc._decorator,u=l.ccclass,p=l.executionOrder,h=l.menu,f=l.disallowMultiple,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,Object.defineProperty(e,"timeScale",{get:function(){return this._timeScale},set:function(t){t===this._timeScale||t<0||(this._timeScale=t,s.default.emit(a.EventName.TIME_SCALE))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"realDt",{get:function(){return this._realDt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleDt",{get:function(){return this._realDt*this._timeScale},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameSec",{get:function(){return this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameMs",{get:function(){return 1e3*this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameSec",{get:function(){return this._scaleGameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameMs",{get:function(){return 1e3*this._scaleGameSec},enumerable:!1,configurable:!0}),e.reset=function(){this._puaseCount=0,this._timeScale=1,this._lastTimeScale=1},e.gamePause=function(){this._puaseCount++,this._puaseCount>1||(this._lastTimeScale=this._timeScale,this._timeScale=0,s.default.emit(a.EventName.GAME_PAUSE))},e.gameResume=function(){this._puaseCount<=0||(this._puaseCount--,this._puaseCount<=0&&(this._timeScale=this._lastTimeScale,s.default.emit(a.EventName.GAME_RESUME)))},e.getFormatTime=function(t){var e=Math.floor(t),n=Math.floor(e/60),o=Math.floor(e/3600),i=n%60<10?"0"+n%60:""+n%60,r=e%60<10?"0"+e%60:""+e%60;return o>0?(o<10?"0"+o:""+o)+":"+i+":"+r:i+":"+r},e.prototype.onDestroy=function(){c.TWEEN.removeAll(),c.SCALE_TWEEN.removeAll()},e.prototype.update=function(t){n._realDt=t,n._gameSec+=t,n._scaleGameSec+=n.scaleDt,c.TWEEN.update(n.gameMs),n.scaleDt>0&&c.SCALE_TWEEN.update(n.scaleGameMs)},e._puaseCount=0,e._lastTimeScale=1,e._timeScale=1,e._realDt=0,e._gameSec=0,e._scaleGameSec=0,n=r([u,f,p(-1e3),h("Framework/\u57fa\u7840\u7ec4\u4ef6/Timer")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events","../../util/Tween":"Tween"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"86d61wcIsZPSrb29FvmFJRL","Tip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.disallowMultiple,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layout=null,e.textLab=null,e}return i(e,t),e.prototype.init=function(t){this.textLab.string=t,this.textLab._forceUpdateRenderData(),this.layout.updateLayout()},r([c(cc.Layout)],e.prototype,"layout",void 0),r([c(cc.Label)],e.prototype,"textLab",void 0),r([s,l,u("Framework/\u57fa\u7840\u7ec4\u4ef6/Tip")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],Tool:[function(t,e,n){"use strict";cc._RF.push(e,"8f0aaDZc6xBdrsOcvbGZFVC","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Tween"),i=function(){function t(){}return t.deepCopy=function(t){if("object"!=typeof t||null===t||t instanceof RegExp)return t;var e=null;if(Array.isArray(t)){e=[];for(var n=0,o=t;n<o.length;n++){var i=o[n];e.push(this.deepCopy(i))}}else for(var r in e={},t)e[r]=this.deepCopy(t[r]);return e},t.wait=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},t.waitCmpt=function(t,e){return new Promise(function(n){t.scheduleOnce(function(){n()},e)})},t.waitTween=function(t,e,n){return void 0===n&&(n=o.TWEEN),new Promise(function(i){new o.Tween({k:0},n).to({k:1},1e3*e).onComplete(function(){i()}).start().bindCCObject(t)})},t.lerp=function(t,e,n,o){void 0===o&&(o=0),o=Math.abs(o);var i=e-t,r=i*n;return r=r<0?Math.min(r,-o):Math.max(r,o),Math.abs(r)>Math.abs(i)&&(r=i),t+r},t.calcTwoPointForm=function(t,e,n){return t.x===e.x?t.y:(e.y-t.y)*(n-t.x)/(e.x-t.x)+t.y},t.overlapRect=function(t,e){var n=Math.max(t.xMin,e.xMin),o=Math.min(t.xMax,e.xMax),i=Math.max(t.yMin,e.yMin),r=Math.min(t.yMax,e.yMax);return n>o||i>r?null:cc.rect(n,i,o-n,r-i)},t.inRange=function(t,e,n,o){return void 0===o&&(o=!0),o?n>=t&&n<=e:n>t&&n<e},t.randInt=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.randFloat=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),Math.random()*(e-t)+t},t.randWeightIdx=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];var o=this.randFloat(0,e),i=0;for(n=0;n<t.length;n++)if(o<(i+=t[n]))return n;return t.length-1},t.shuffleString=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e=this.shuffle(e),t="",e.forEach(function(e){t+=e}),t},t.shuffle=function(t){for(var e,n=t.length-1;n>=0;n--){var o=Math.floor(Math.random()*(n+1));e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}return t},t.arrayRand=function(t){return t.length<=0?null:t[this.randInt(0,t.length)]},t.arrayHas=function(t,e){return("function"!=typeof e?t.findIndex(function(t){return t===e}):t.findIndex(e))>=0},t.arraySwap=function(t,e,n){var o;e!==n&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,n)&&(o=[t[n],t[e]],t[e]=o[0],t[n]=o[1])},t.arrayMove=function(t,e,n){if(e!==n&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,n)){var o=t.splice(e,1);t.splice(n,0,o[0])}},t.arrayAdd=function(t,e,n){return void 0===n&&(n=!1),!(!n&&this.arrayHas(t,e)||(t.push(e),0))},t.arrayDelete=function(t,e){var n=t.findIndex(function(t){return t===e});return n>=0&&(t.splice(n,1),!0)},t.nodeRecursive=function(t,e,n){var o=this;void 0===n&&(n=void 0),t instanceof cc.Node?(e.call(n,t),t.children.forEach(function(t){o.nodeRecursive(t,e,n)})):Array.isArray(t)&&t.forEach(function(t){o.nodeRecursive(t,e,n)})},t.clearChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){t.destroyAllChildren(),t.removeAllChildren()})},t}();n.default=i,cc._RF.pop()},{"./Tween":"Tween"}],Tween:[function(t,e,n){"use strict";cc._RF.push(e,"c1812TWgDxL9rRQRBc+TfTK","Tween"),Object.defineProperty(n,"__esModule",{value:!0}),n.SCALE_TWEEN=n.TWEEN=n.VERSION=n.Tween=n.Sequence=n.Interpolation=n.Group=n.Easing=void 0;var o=t("../cmpt/base/Timer");n.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Easing.Bounce.In(2*t):.5*n.Easing.Bounce.Out(2*t-1)+.5}}};var i,r="undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=r()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(var o=0;o<n.length;o++)(i=this._tweens[n[o]])&&!i.isCCObjectValid()&&i.stop();if(0===(n=Object.keys(this._tweens)).length)return!1;for(;n.length>0;){for(this._tweensAddedDuringUpdate={},o=0;o<n.length;o++){var i,a=!e;(i=this._tweens[n[o]])&&!1===i.update(t,a)&&!e&&delete this._tweens[n[o]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}();n.Group=a,n.Interpolation={Linear:function(t,e){var o=t.length-1,i=o*e,r=Math.floor(i),a=n.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[o],t[o-1],o-i):a(t[r],t[r+1>o?o:r+1],i-r)},Bezier:function(t,e){for(var o=0,i=t.length-1,r=Math.pow,a=n.Interpolation.Utils.Bernstein,s=0;s<=i;s++)o+=r(1-e,i-s)*r(e,s)*t[s]*a(i,s);return o},CatmullRom:function(t,e){var o=t.length-1,i=o*e,r=Math.floor(i),a=n.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(e<0&&(r=Math.floor(i=o*(1+e))),a(t[(r-1+o)%o],t[r],t[(r+1)%o],t[(r+2)%o],i-r)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[o]-(a(t[o],t[o],t[o-1],t[o-1],i-o)-t[o]):a(t[r?r-1:0],t[r],t[o<r+1?o:r+1],t[o<r+2?o:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var o=n.Interpolation.Utils.Factorial;return o(t)/o(e)/o(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var n=t;n>1;n--)e*=n;return i[t]=e,e}),CatmullRom:function(t,e,n,o,i){var r=.5*(n-t),a=.5*(o-e),s=i*i;return(2*e-2*n+r+a)*i*s+(-3*e+3*n-2*r-a)*s+r*i+e}}};var s=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}();n.Sequence=s;var c=new a,l=new a,u=function(){function t(t,e){void 0===e&&(e=c),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Easing.Linear.None,this._interpolationFunction=n.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=s.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.bindCCObject=function(t){this._ccObject=t},t.prototype.isCCObjectValid=function(){return!(this._object instanceof cc.Object&&!this._object.isValid||this._ccObject instanceof cc.Object&&!this._ccObject.isValid)},t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(void 0===t&&(this._group===c?t=o.default.gameMs:this._group===l&&(t=o.default.scaleGameMs)),this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?r()+parseFloat(t):t:r(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,o){for(var i in n){var r=t[i],a=Array.isArray(r),s=a?"array":typeof r,c=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(c){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,r)),n[i]=[r].concat(l)}if("object"!==s&&!a||!r||c)void 0===e[i]&&(e[i]=r),a||(e[i]*=1),o[i]=c?n[i].slice().reverse():e[i]||0;else{for(var u in e[i]=a?[]:{},r)e[i][u]=r[u];o[i]=a?[]:{},this._setupProperties(r,e[i],n[i],o[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=r()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},t.prototype.resume=function(t){return void 0===t&&(t=r()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=[];for(var n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=r()),void 0===e&&(e=!0),this._isPaused)return!0;var n,o,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(t-this._startTime)/this._duration,o=0===this._duration||o>1?1:o;var a=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),1===o){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,c=this._chainedTweens.length;s<c;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,o){for(var i in n)if(void 0!==e[i]){var r=e[i]||0,a=n[i],s=Array.isArray(t[i]),c=Array.isArray(a);!s&&c?t[i]=this._interpolationFunction(a,o):"object"==typeof a&&a?this._updateProperties(t[i],r,a,o):"number"==typeof(a=this._handleRelativeValue(r,a))&&(t[i]=r+(a-r)*o)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}();n.Tween=u,n.VERSION="18.6.4",s.nextId,n.TWEEN=c,n.SCALE_TWEEN=l,cc._RF.pop()},{"../cmpt/base/Timer":"Timer"}],Url:[function(t,e,n){"use strict";cc._RF.push(e,"a8f33QbcWNMTZ0PfOQy5Uvh","Url"),Object.defineProperty(n,"__esModule",{value:!0}),n.DirUrl=n.ResUrl=void 0,n.ResUrl={PREFAB:{TIP:"prefab/tip/Tip",HOME:"prefab/home/Home",GAME:"prefab/game/Game"},ATLAS:{EN:"textures/localizedImage/en/AutoAtlas",ZH:"textures/localizedImage/zh/AutoAtlas"},AUDIO:{BGM1:"audio/bgm1",BGM2:"audio/bgm2",SFX1:"audio/sfx1",SFX2:"audio/sfx2",SFX_UI:"audio/sfxUi"}},n.DirUrl={PREFAB:"prefab/",PREFAB_DIALOG:"prefab/dialog/",ATLAS:"atlas/",TEXTURE:"textures/",AUDIO:"audio/"},cc._RF.pop()},{}],VirtualItem:[function(t,e,n){"use strict";cc._RF.push(e,"37390yL2g9Gx56ICLo3MK1K","VirtualItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.disallowMultiple,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataIdx=0,e.args=null,e.others=[],e}return i(e,t),e.prototype.onRefresh=function(){},e.prototype.onRefreshOthers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onReset=function(){},e.prototype.getRealSize=function(){return this.node.getContentSize()},r([s,c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],VirtualLayout:[function(t,e,n){"use strict";cc._RF.push(e,"23c51D+ML1JI7Nz58WdBOmf","VirtualLayout");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s,c,l,u=t("../../util/Res"),p=t("../../util/Tool"),h=t("./VirtualItem"),f=t("./VirtualList"),d=cc._decorator,_=d.ccclass,y=d.property,m=d.disallowMultiple;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"})(a||(a={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(s||(s={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(c||(c={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(l||(l={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.VERTICAL,e.startAxis=s.HORIZONTAL,e.left=0,e.right=0,e.top=0,e.bottom=0,e.spacingX=0,e.spacingY=0,e.verticalDirection=c.TOP_TO_BOTTOM,e.horizontalDirection=l.LEFT_TO_RIGHT,e._list=null,e._view=null,e._viewEdge=null,e._fixedSize=null,e._sizeDirty=!1,e._viewDirty=!1,e._items=[],e._itemPool=[],e._otherItemsArr=[],e._otherItemPoolArr=[],e}return i(e,t),e.prototype.onInit=function(t){var e=this;this._list=t,this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this._list.others.forEach(function(){e._otherItemsArr.push([]),e._otherItemPoolArr.push([])}),this._list.isFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getContentSize()),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.lateUpdate=function(){this.updateSize(),this.updateView()},e.prototype.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this._list.isFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},e.prototype.updateSizeFixed=function(){if(this.type===a.VERTICAL){if(this._list.argsArr.length<=0)return void(this.node.height=0);this.node.height=this.top+this.bottom+(this._list.argsArr.length-1)*this.spacingY+this._fixedSize.height*this._list.argsArr.length}else if(this.type===a.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.width=0);this.node.width=this.left+this.right+(this._list.argsArr.length-1)*this.spacingX+this._fixedSize.width*this._list.argsArr.length}else if(this.startAxis===s.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.height=0);var t=Math.floor((this.node.width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));t=Math.max(t,1);var e=Math.ceil(this._list.argsArr.length/t);this.node.height=this.top+this.bottom+(e-1)*this.spacingY+this._fixedSize.height*e}else{if(this._list.argsArr.length<=0)return void(this.node.width=0);t=Math.floor((this.node.height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY)),t=Math.max(t,1);var n=Math.ceil(this._list.argsArr.length/t);this.node.width=this.left+this.right+(n-1)*this.spacingX+this._fixedSize.width*n}},e.prototype.updateSizeUnfixed=function(){},e.prototype.updateView=function(){!this._viewDirty||this._list.argsArr.length<=0||(this._viewDirty=!1,this._list.isFixedSize?this.updateViewFixed():this.updateViewUnfixed())},e.prototype.updateViewFixed=function(){var t,e,n,o,i=this,r=this.checkViewItem(),u=r.inView,p=r.outView,f=this.getNodeEdgeRect(this.node);if(this.type===a.VERTICAL)for(var d=function(t){if(_.verticalDirection===c.TOP_TO_BOTTOM){if(n=f.yMax-(_.top+t*_.spacingY+_._fixedSize.height*t),o=n-_._fixedSize.height,n+_.node.y<_._viewEdge.yMin)return{value:void 0};if(o+_.node.y>_._viewEdge.yMax)return"continue"}else{if(o=f.yMin+_.bottom+t*_.spacingY+_._fixedSize.height*t,n=o+_._fixedSize.height,o+_.node.y>_._viewEdge.yMax)return{value:void 0};if(n+_.node.y<_._viewEdge.yMin)return"continue"}if(-1!==u.findIndex(function(e){return i._items[e].getComponent(h.default).dataIdx===t}))return"continue";var e=0===p.length?_.addItemNode():p.shift(),r=_._items[e];_.setItem(cc.v3(0,o+r.anchorY*r.height),t,e)},_=this,y=0;y<this._list.argsArr.length;y++){var m=d(y);if("object"==typeof m)return m.value}else if(this.type===a.HORIZONTAL){var g=function(n){if(v.horizontalDirection===l.RIGHT_TO_LEFT){if(t=f.xMax-(v.right+n*v.spacingX+v._fixedSize.width*n),e=t-v._fixedSize.width,t+v.node.x<v._viewEdge.xMin)return{value:void 0};if(e+v.node.x>v._viewEdge.xMax)return"continue"}else{if(e=f.xMin+v.left+n*v.spacingX+v._fixedSize.width*n,t=e+v._fixedSize.width,e+v.node.x>v._viewEdge.xMax)return{value:void 0};if(t+v.node.x<v._viewEdge.xMin)return"continue"}if(-1!==u.findIndex(function(t){return i._items[t].getComponent(h.default).dataIdx===n}))return"continue";var o=0===p.length?v.addItemNode():p.shift(),r=v._items[o];v.setItem(cc.v3(e+r.anchorX*r.width,0),n,o)},v=this;for(y=0;y<this._list.argsArr.length;y++){var b=g(y);if("object"==typeof b)return b.value}}else{var O=function(r){var a=0,d=0;if(w.startAxis===s.HORIZONTAL){var _=Math.floor((w.node.width-w.left-w.right+w.spacingX)/(w._fixedSize.width+w.spacingX));if(_=Math.max(_,1),a=Math.floor(r/_),d=r%_,w.verticalDirection===c.TOP_TO_BOTTOM){if(n=f.yMax-(w.top+a*w.spacingY+w._fixedSize.height*a),o=n-w._fixedSize.height,n+w.node.y<w._viewEdge.yMin)return{value:void 0};if(o+w.node.y>w._viewEdge.yMax)return"continue"}else{if(o=f.yMin+w.bottom+a*w.spacingY+w._fixedSize.height*a,n=o+w._fixedSize.height,o+w.node.y>w._viewEdge.yMax)return{value:void 0};if(n+w.node.y<w._viewEdge.yMin)return"continue"}if(w.horizontalDirection===l.RIGHT_TO_LEFT?(t=f.xMax-(w.right+d*w.spacingX+w._fixedSize.width*d),e=t-w._fixedSize.width):(e=f.xMin+w.left+d*w.spacingX+w._fixedSize.width*d,t=e+w._fixedSize.width),t+w.node.x<w._viewEdge.xMin||e+w.node.x>w._viewEdge.xMax)return"continue"}else{if(_=Math.floor((w.node.height-w.top-w.bottom+w.spacingY)/(w._fixedSize.height+w.spacingY)),_=Math.max(_,1),a=r%_,d=Math.floor(r/_),w.horizontalDirection===l.RIGHT_TO_LEFT){if(t=f.xMax-(w.right+d*w.spacingX+w._fixedSize.width*d),e=t-w._fixedSize.width,t+w.node.x<w._viewEdge.xMin)return{value:void 0};if(e+w.node.x>w._viewEdge.xMax)return"continue"}else{if(e=f.xMin+w.left+d*w.spacingX+w._fixedSize.width*d,t=e+w._fixedSize.width,e+w.node.x>w._viewEdge.xMax)return{value:void 0};if(t+w.node.x<w._viewEdge.xMin)return"continue"}if(w.verticalDirection===c.TOP_TO_BOTTOM?(n=f.yMax-(w.top+a*w.spacingY+w._fixedSize.height*a),o=n-w._fixedSize.height):(o=f.yMin+w.bottom+a*w.spacingY+w._fixedSize.height*a,n=o+w._fixedSize.height),n+w.node.y<w._viewEdge.yMin||o+w.node.y>w._viewEdge.yMax)return"continue"}if(-1!==u.findIndex(function(t){return i._items[t].getComponent(h.default).dataIdx===r}))return"continue";var y=0===p.length?w.addItemNode():p.shift(),m=w._items[y];w.setItem(cc.v3(e+m.anchorX*m.width,o+m.anchorY*m.height),r,y)},w=this;for(y=0;y<this._list.argsArr.length;y++){var A=O(y);if("object"==typeof A)return A.value}}},e.prototype.updateViewUnfixed=function(){},e.prototype.checkViewItem=function(){return this._list.isFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()},e.prototype.checkViewItemFixed=function(){var t=[],e=[];if(this.type===a.VERTICAL)for(var n=0;n<this._items.length;n++)(o=this._items[n].getBoundingBox()).yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(n):e.push(n);else if(this.type===a.HORIZONTAL)for(n=0;n<this._items.length;n++)(o=this._items[n].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin?t.push(n):e.push(n);else for(n=0;n<this._items.length;n++){var o;(o=this._items[n].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin&&o.yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(n):e.push(n)}return{inView:t,outView:e}},e.prototype.checkViewItemUnfixed=function(){return{inView:[],outView:[]}},e.prototype.setItem=function(t,e,n){var o=this._items[n];o.position=t;var i=o.getComponent(h.default);if(i.dataIdx=e,i.args=this._list.argsArr[e],i.onRefresh(i.args),this._list.others.length>0){var r=[];this._otherItemsArr.forEach(function(e){e[n].position=t,r.push(e[n])}),i.others=r,i.onRefreshOthers.apply(i,i.others)}},e.prototype.addItemNode=function(t){var e=this;void 0===t&&(t=!0);var n=null;if(this._itemPool.length>0)(n=this._itemPool.pop()).opacity=255,this._items.push(n),this._otherItemPoolArr.forEach(function(t,n){var o=t.pop();o.opacity=255,e._otherItemsArr[n].push(o)});else{var o=this._list.main.templateType===f.MainTemplateType.PREFAB?this._list.main.templatePrefab:this._list.main.templateNode;(n=u.default.instantiate(o,this.node)).getComponent(h.default)||n.addComponent(h.default),this.node.addChild(n),t?(n.opacity=255,this._items.push(n)):this.putItemNode(n);var i=n.children.slice(0);this._list.others.forEach(function(n,o){var r=null;switch(n.templateType){case f.OtherTemplateType.NODE:r=u.default.instantiate(n.templateNode,e.node);break;case f.OtherTemplateType.PREFAB:r=u.default.instantiate(n.templatePrefab,e.node);break;case f.OtherTemplateType.MAIN_ITEM_CHILD:if(!p.default.inRange(0,i.length-1,n.templateChild))return void cc.error("[VirtualLayout.addItemNode] error e.templateChild: "+n.templateChild);(r=i[n.templateChild]).removeFromParent();break;default:return void cc.error("[VirtualLayout.addItemNode] error e.templateType: "+n.templateType)}n.content.addChild(r),t?(r.opacity=255,e._otherItemsArr[o].push(r)):e.putItemNode(r,!0,o)})}return this._items.length-1},e.prototype.putItemNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0),t.opacity=0,t.setPosition(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e?this._otherItemPoolArr[n].push(t):(t.getComponent(h.default).onReset(),this._itemPool.push(t))},e.prototype.convertToParentPos=function(t,e){return t.add(e.position)},e.prototype.convertToChildPos=function(t,e){return t.sub(e.position)},e.prototype.getNodeEdgeRect=function(t){return cc.rect(-t.width*t.anchorX,-t.height*t.anchorY,t.width,t.height)},e.prototype.onPositionChanged=function(){var t=this;this._list.scrollView._outOfBoundaryAmountDirty=!0,this._viewDirty=!0,this._list.others.forEach(function(e){e.content.position=t.node.position})},e.prototype.getScrollOffset=function(t,e,n){return t=Math.min(t,this._list.argsArr.length-1),this._list.isFixedSize?this.getScrollOffsetFixed(t,e,n):this.getScrollOffsetUnfixed(t,e,n)},e.prototype.getScrollOffsetFixed=function(t,e,n){var o,i,r=this.getNodeEdgeRect(this.node);if(this.type===a.VERTICAL){this.verticalDirection===c.TOP_TO_BOTTOM?i=r.yMax-(this.top+t*this.spacingY+this._fixedSize.height*t)-this._fixedSize.height:(i=r.yMin+this.bottom+t*this.spacingY+this._fixedSize.height*t,this._fixedSize.height);var u=this._viewEdge.xMin-(r.xMin+this.node.x),p=r.yMax-(this._fixedSize.height*e.y+i)-(1-n.y)*this._viewEdge.height;return cc.v2(u,p)}if(this.type===a.HORIZONTAL)return this.horizontalDirection===l.RIGHT_TO_LEFT?o=r.xMax-(this.right+t*this.spacingX+this._fixedSize.width*t)-this._fixedSize.width:(o=r.xMin+this.left+t*this.spacingX+this._fixedSize.width*t,this._fixedSize.width),u=this._fixedSize.width*e.x+o-r.xMin-n.x*this._viewEdge.width,p=r.yMax-(this._viewEdge.yMax-this.node.y),cc.v2(u,p);var h=0,f=0;if(this.startAxis===s.HORIZONTAL){var d=Math.floor((this.node.width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));d=Math.max(d,1),h=Math.floor(t/d),f=t%d}else d=Math.floor((this.node.height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY)),h=t%(d=Math.max(d,1)),f=Math.floor(t/d);return this.verticalDirection===c.TOP_TO_BOTTOM?i=r.yMax-(this.top+h*this.spacingY+this._fixedSize.height*h)-this._fixedSize.height:(i=r.yMin+this.bottom+h*this.spacingY+this._fixedSize.height*h,this._fixedSize.height),this.horizontalDirection===l.RIGHT_TO_LEFT?o=r.xMax-(this.right+f*this.spacingX+this._fixedSize.width*f)-this._fixedSize.width:(o=r.xMin+this.left+f*this.spacingX+this._fixedSize.width*f,this._fixedSize.width),u=this._fixedSize.width*e.x+o-r.xMin-n.x*this._viewEdge.width,p=r.yMax-(this._fixedSize.height*e.y+i)-(1-n.y)*this._viewEdge.height,cc.v2(u,p)},e.prototype.getScrollOffsetUnfixed=function(){return null},e.prototype.rearrange=function(t){var e=this;void 0===t&&(t=!0),this._sizeDirty=!0,this._viewDirty=!0,t&&(this._items.forEach(function(t,n){e.putItemNode(t),e._otherItemsArr.forEach(function(t,o){e.putItemNode(t[n],!0,o)})}),this._items.length=0,this._otherItemsArr.forEach(function(t){t.length=0}))},e.prototype.refreshAllItems=function(){var t=this;this._items.forEach(function(e){var n=e.getComponent(h.default);n.onRefresh(n.args),t._list.others.length>0&&n.onRefreshOthers.apply(n,n.others)})},r([y({type:cc.Enum(a),tooltip:!1})],e.prototype,"type",void 0),r([y({type:cc.Enum(s),tooltip:!1,visible:function(){return this.type===a.GRID}})],e.prototype,"startAxis",void 0),r([y({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"left",void 0),r([y({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"right",void 0),r([y({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"top",void 0),r([y({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"bottom",void 0),r([y({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"spacingX",void 0),r([y({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"spacingY",void 0),r([y({type:cc.Enum(c),visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"verticalDirection",void 0),r([y({type:cc.Enum(l),visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"horizontalDirection",void 0),r([_,m],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../util/Res":"Res","../../util/Tool":"Tool","./VirtualItem":"VirtualItem","./VirtualList":"VirtualList"}],VirtualList:[function(t,e,n){"use strict";cc._RF.push(e,"8815fg/3FJEjohj/PrC9n21","VirtualList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.OtherLayoutData=n.MainLayoutData=n.OtherTemplateType=n.MainTemplateType=void 0;var s,c,l=t("../../util/Tool"),u=t("./VirtualLayout"),p=cc._decorator,h=p.ccclass,f=p.property,d=p.requireComponent,_=p.executeInEditMode,y=p.disallowMultiple,m=p.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(s=n.MainTemplateType||(n.MainTemplateType={})),function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t[t.MAIN_ITEM_CHILD=2]="MAIN_ITEM_CHILD"}(c=n.OtherTemplateType||(n.OtherTemplateType={}));var g=function(){function t(){this.content=null,this._templateType=s.PREFAB,this._templatePrefab=null,this._templateNode=null,this.editorCall=null}return Object.defineProperty(t.prototype,"templateType",{get:function(){return this._templateType},set:function(t){this._templateType!==t&&(this._templateType=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templatePrefab",{get:function(){return this._templatePrefab},set:function(t){this._templatePrefab!==t&&(this._templatePrefab=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateNode",{get:function(){return this._templateNode},set:function(t){this._templateNode!==t&&(this._templateNode=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),t.prototype.resetMainItemChild=function(t){void 0===t&&(t=!1)},r([f({type:cc.Node,tooltip:!1,visible:function(){return!1}})],t.prototype,"content",void 0),r([f({type:cc.Enum(s)})],t.prototype,"_templateType",void 0),r([f({type:cc.Enum(s),tooltip:!1})],t.prototype,"templateType",null),r([f(cc.Prefab)],t.prototype,"_templatePrefab",void 0),r([f({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===s.PREFAB}})],t.prototype,"templatePrefab",null),r([f(cc.Node)],t.prototype,"_templateNode",void 0),r([f({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===s.NODE}})],t.prototype,"templateNode",null),r([h("MainLayoutData")],t)}();n.MainLayoutData=g;var v=function(){function t(){this.content=null,this.templateType=c.PREFAB,this.templatePrefab=null,this.templateNode=null,this.templateChild=-1}return r([f({type:cc.Node,tooltip:!1})],t.prototype,"content",void 0),r([f({type:cc.Enum(c),tooltip:!1})],t.prototype,"templateType",void 0),r([f({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===c.PREFAB}})],t.prototype,"templatePrefab",void 0),r([f({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===c.NODE}})],t.prototype,"templateNode",void 0),r([f({type:cc.Enum({}),tooltip:!1,visible:function(){return this.templateType===c.MAIN_ITEM_CHILD}})],t.prototype,"templateChild",void 0),r([h("OtherLayoutData")],t)}();n.OtherLayoutData=v;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=new g,e.others=[],e.isFixedSize=!0,e._scrollView=null,e._layout=null,e._argsArr=[],e}return i(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView||(this._scrollView=this.getComponent(cc.ScrollView)),this._scrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout||(this._layout=this.scrollView.content.getComponent(u.default)),this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"argsArr",{get:function(){return this._argsArr},set:function(t){this._argsArr=t,this.layout.rearrange()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.layout&&this.layout.onInit(this)},e.prototype.resetInEditor=function(){this.runEditor()},e.prototype.onFocusInEditor=function(){this.main.resetMainItemChild()},e.prototype.runEditor=function(){},e.prototype.scrollItemToView=function(t,e,n,o,i){void 0===e&&(e=cc.v2()),void 0===n&&(n=cc.v2()),void 0===o&&(o=0),void 0===i&&(i=!0),this.scrollView.scrollToOffset(this.layout.getScrollOffset(t,e,n),o,i)},e.prototype.refreshAllItems=function(){this.layout.refreshAllItems()},e.prototype.reset=function(t,e){l.default.inRange(0,this._argsArr.length-1,t)&&(this._argsArr[t]=e,this.layout.rearrange())},e.prototype.push=function(t){var e=this._argsArr.push(t);return this.layout.rearrange(!1),e},e.prototype.pop=function(){var t=this._argsArr.pop();return this.layout.rearrange(),t},e.prototype.unshift=function(t){var e=this._argsArr.unshift(t);return this.layout.rearrange(),e},e.prototype.shift=function(){var t=this._argsArr.shift();return this.layout.rearrange(),t},e.prototype.splice=function(t,e){for(var n,o,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return o=void 0===e?this._argsArr.splice(t):void 0===i||0===i.length?this._argsArr.splice(t,e):(n=this._argsArr).splice.apply(n,a([t,e],i)),this.layout.rearrange(),o},e.prototype.sort=function(t){var e=this._argsArr.sort(t);return this.layout.rearrange(),e},e.prototype.filter=function(t){return this._argsArr=this._argsArr.filter(t),this.layout.rearrange(),this._argsArr},r([f({type:g,tooltip:!1})],e.prototype,"main",void 0),r([f({type:v,tooltip:!1})],e.prototype,"others",void 0),r([f({visible:!1,tooltip:!1})],e.prototype,"isFixedSize",void 0),r([h,y,_,d(cc.ScrollView),m("Framework/UI\u7ec4\u4ef6/VirtualList")],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../../util/Tool":"Tool","./VirtualLayout":"VirtualLayout"}],Zh:[function(t,e,n){"use strict";cc._RF.push(e,"5cb62aDaJtA4pHlrSAKjTY2","Zh"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={lang:"\u4e2d\u6587",text1:"\u6570\u5b57\uff1a%{num}",text2:"\u53c2\u65701: %{arg1}, \u53c2\u65702: %{arg2}"},cc._RF.pop()},{}]},{},["AnimatorAnimation","AnimatorCustomization","AnimatorDragonBones","AnimatorSpine","AnimatorSpineSecondary","AnimatorBase","AnimatorCondition","AnimatorController","AnimatorParams","AnimatorState","AnimatorStateLogic","AnimatorTransition","DialogBase","Layer","Timer","Tip","ShaderFill","ShaderOutline","ShaderShining","ShaderTile","AdaptCanvas","AdaptSize","AnimValue","AnimValueLabel","AnimValueProgress","AnimValueProgressHP","ButtonChildGray","ButtonChildPos","ButtonSingle","CircleList","MultiSprite","MultiTextureIdx","MultiTextureManager","MultiAssemble","MultiAssembleBarFilled","MultiAssembleRadialFilled","MultiAssembleSimple","MultiAssembleSliced","MultiAssembleTiled","ResSpine","ResSprite","ShakeNode","VirtualItem","VirtualLayout","VirtualList","EventName","Url","ButtonHack","AudioManager","Decorator","EditorTool","Events","Random","RecyclePool","Res","Tool","Tween","I18n","LocalizedLabel","LocalizedSprite","En","Zh","DlgAnimValue","DlgAudio","DlgCircleList","DlgEvents","DlgI18N","DlgLayer","DlgMultiTexture","DlgShader","DlgShake","DlgTimer","DlgVirtualList","ListItem","Game","Home","Main"]);