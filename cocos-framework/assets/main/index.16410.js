window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AdaptCanvas:[function(t,e,n){"use strict";cc._RF.push(e,"2174f+PKGlGH7csvm0koWVs","AdaptCanvas");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=cc._decorator,u=s.ccclass,l=(s.property,s.menu),p=s.disallowMultiple;cc.view.setResizeCallback(function(){c.default.emit(a.EventName.RESIZE)});var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){var t=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;cc.winSize.width/cc.winSize.height>t?(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0)},r([c.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([u,c.eventsOnLoad(),p,l("Framework/UI\u7ec4\u4ef6/AdaptCanvas")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AdaptSize:[function(t,e,n){"use strict";cc._RF.push(e,"6c391dfrNBD95q+Uj9I1ejA","AdaptSize");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=cc._decorator,u=s.ccclass,l=(s.property,s.menu),p=s.executeInEditMode,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},r([c.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([u,c.eventsOnLoad(),p,l("Framework/UI\u7ec4\u4ef6/AdaptSize")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AnimValueLabel:[function(t,e,n){"use strict";cc._RF.push(e,"93188RmKh1GHJhJYMxNsu+u","AnimValueLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValue"),c=cc._decorator,s=c.ccclass,u=(c.property,c.menu),l=c.requireComponent,p=c.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.getComponent(cc.Label)),this._label},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.label.string=""+Math.round(this.curValue)},e.prototype.setValueImmediately=function(e){t.prototype.setValueImmediately.call(this,e),this.label.string=""+Math.round(this.curValue)},r([s,p,l(cc.Label),u("Framework/UI\u7ec4\u4ef6/AnimValueLabel")],e)}(a.default);n.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValueProgressHP:[function(t,e,n){"use strict";cc._RF.push(e,"c3afeSdbzBJDJZejppXH98u","AnimValueProgressHP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValueProgress"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.menu,p=c.requireComponent,h=c.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BarShadow=null,e}return i(e,t),e.prototype.setBarShadow=function(t){switch(this.progressBar.mode){case cc.ProgressBar.Mode.HORIZONTAL:this.BarShadow.node.width=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.VERTICAL:this.BarShadow.node.height=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.FILLED:this.BarShadow.fillRange=t}},e.prototype.onAnimStart=function(){this.isAdd||(this.progressBar.progress=this.endValue)},e.prototype.onAnimUpdate=function(){this.isAdd?(this.setBarShadow(this.curValue),this.progressBar.progress=this.curValue):this.setBarShadow(this.curValue)},e.prototype.setValueImmediately=function(e){t.prototype.setValueImmediately.call(this,e),this.setBarShadow(this.curValue)},r([u({type:cc.Sprite,tooltip:!1})],e.prototype,"BarShadow",void 0),r([s,h,p(cc.ProgressBar),l("Framework/UI\u7ec4\u4ef6/AnimValueProgressHP")],e)}(a.default);n.default=f,cc._RF.pop()},{"./AnimValueProgress":"AnimValueProgress"}],AnimValueProgress:[function(t,e,n){"use strict";cc._RF.push(e,"7f95cXxJPhAJaQaqRBZkHaC","AnimValueProgress");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimValue"),c=cc._decorator,s=c.ccclass,u=(c.property,c.menu),l=c.requireComponent,p=c.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._progressBar=null,e}return i(e,t),Object.defineProperty(e.prototype,"progressBar",{get:function(){return this._progressBar||(this._progressBar=this.getComponent(cc.ProgressBar)),this._progressBar},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.progressBar.progress=this.curValue},e.prototype.setValueImmediately=function(e){t.prototype.setValueImmediately.call(this,e),this.progressBar.progress=this.curValue},r([s,p,l(cc.ProgressBar),u("Framework/UI\u7ec4\u4ef6/AnimValueProgress")],e)}(a.default);n.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValue:[function(t,e,n){"use strict";cc._RF.push(e,"cfe49J1R7JHxIqVge927Yqj","AnimValue");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s,u,l=t("../../util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=p.menu,_=p.requireComponent,y=p.executeInEditMode;(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.IN=1]="IN",t[t.OUT=2]="OUT",t[t.IN_OUT=3]="IN_OUT"}(u||(u={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._endValue=0,e._curValue=0,e.AnimType=s.SPEED,e.Speed=1,e.Duration=1,e.EasingType=u.NONE,e.TimeScale=!1,e._tween=null,e._isAdd=!1,e}return i(e,t),Object.defineProperty(e.prototype,"InitValue",{get:function(){return this._endValue},set:function(t){this._curValue=t,this._endValue=t,this.setValueImmediately(this._endValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdd",{get:function(){return this._isAdd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this._endValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curValue",{get:function(){return this._curValue},enumerable:!1,configurable:!0}),e.prototype.onAnimStart=function(){},e.prototype.onAnimUpdate=function(){},e.prototype.onAnimComplete=function(){this._tween=null},e.prototype.setValueImmediately=function(t){this._animResolve&&(this._animResolve(),this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null),this._endValue=t,this._curValue=t},e.prototype.setValue=function(t,e){return void 0===e&&(e=!0),a(this,void 0,Promise,function(){var n=this;return c(this,function(){return e?[2,new Promise(function(e){var o;n._animResolve=e,n._endValue=t,n._isAdd=n._endValue-n._curValue>0,null===(o=n._tween)||void 0===o||o.stop(),n._tween=n.TimeScale?new l.Tween(n,l.SCALE_TWEEN):new l.Tween(n);var i=n.AnimType===s.DURATION?n.Duration:Math.abs(n._endValue-n._curValue)/n.Speed;switch(n.EasingType){case u.IN:n._tween.easing(l.Easing.Quadratic.In);break;case u.OUT:n._tween.easing(l.Easing.Quadratic.Out);break;case u.IN_OUT:n._tween.easing(l.Easing.Quadratic.InOut)}n._tween.to({_curValue:n._endValue},1e3*i).onStart(function(){n.onAnimStart()}).onUpdate(function(){n.onAnimUpdate()}).onComplete(function(){n.onAnimComplete(),n._animResolve&&(n._animResolve(),n._animResolve=null)}).start()})]:(this.setValueImmediately(t),[2])})})},e.prototype.stop=function(){this._animResolve&&(this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},r([f],e.prototype,"_endValue",void 0),r([f],e.prototype,"_curValue",void 0),r([f({tooltip:!1})],e.prototype,"InitValue",null),r([f({type:cc.Enum(s),tooltip:!1})],e.prototype,"AnimType",void 0),r([f({tooltip:!1,visible:function(){return this.AnimType===s.SPEED}})],e.prototype,"Speed",void 0),r([f({tooltip:!1,visible:function(){return this.AnimType===s.DURATION}})],e.prototype,"Duration",void 0),r([f({type:cc.Enum(u),tooltip:!1})],e.prototype,"EasingType",void 0),r([f({tooltip:!1})],e.prototype,"TimeScale",void 0),r([h,y,_(cc.Label),d("Framework/UI\u7ec4\u4ef6/AnimValue")],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../util/Tween":"Tween"}],AnimatorAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"ddcbcHQdPFOfY+mAxuSRJ7E","AnimatorAnimation");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,u=(c.property,c.requireComponent),l=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._animation=null,e._animState=null,e._wrapModeMap=new Map,e}return i(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&(this._animState=this._animation.play(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=e?cc.WrapMode.Loop:this._wrapModeMap.get(this._animState)))},e.prototype.scaleTime=function(t){this._animState&&(this._animState.speed=t)},r([s,l,u(cc.Animation),p("Framework/Animator/AnimatorAnimation")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorBase:[function(t,e,n){"use strict";cc._RF.push(e,"33dabcEWT5IlqYLTD/ozvjl","AnimatorBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimatorController"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AssetRawUrl=null,e.PlayOnStart=!0,e.AutoUpdate=!0,e._hasInit=!1,e._ac=null,e._stateLogicMap=null,e._onStateChangeCall=null,e._animationPlayer=null,e._extraMulti=1,e}return i(e,t),Object.defineProperty(e.prototype,"extraMulti",{get:function(){return this._extraMulti},set:function(t){this._extraMulti!==t&&(this._extraMulti=t,this.updatePlaySpeed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateName",{get:function(){return this._ac.curState.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateMotion",{get:function(){return this._ac.curState.motion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animComplete",{get:function(){return this._ac.animComplete},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.initArgs=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){e&&("function"==typeof e?t._onStateChangeCall=e:"object"==typeof e&&(e instanceof Map?t._stateLogicMap=e:(t._animationPlayer=e,t._animationPlayer.setFinishedCallback(t.onAnimFinished,t))))})},e.prototype.updatePlaySpeed=function(){var t=this._ac.curState.speed*this.extraMulti;this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t)},e.prototype.updateAnimator=function(){if(this.updatePlaySpeed(),this._stateLogicMap){var t=this._stateLogicMap.get(this._ac.curState.name);t&&t.onUpdate()}this._ac.updateAnimator()},e.prototype.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},e.prototype.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},e.prototype.initJson=function(t){this._ac=new a.default(this,t),this._ac.changeState(t.defaultState)},e.prototype.onAnimFinished=function(){this._ac.onAnimationComplete()},e.prototype.playAnimation=function(){},e.prototype.scaleTime=function(){},e.prototype.onStateChange=function(t,e){this.playAnimation(e.motion,e.loop);var n=t?t.name:"";if(this._stateLogicMap){var o=this._stateLogicMap.get(n);o&&o.onExit();var i=this._stateLogicMap.get(e.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,e.name)},e.prototype.setBool=function(t,e){this._ac.params.setBool(t,e)},e.prototype.getBool=function(t){return 0!==this._ac.params.getBool(t)},e.prototype.setNumber=function(t,e){this._ac.params.setNumber(t,e)},e.prototype.getNumber=function(t){return this._ac.params.getNumber(t)},e.prototype.setTrigger=function(t){this._ac.params.setTrigger(t)},e.prototype.resetTrigger=function(t){this._ac.params.resetTrigger(t)},e.prototype.autoTrigger=function(t){this._ac.params.autoTrigger(t)},e.prototype.play=function(t){this._hasInit&&this._ac.play(t)},r([u({type:cc.JsonAsset,tooltip:!1})],e.prototype,"AssetRawUrl",void 0),r([u({tooltip:!1})],e.prototype,"PlayOnStart",void 0),r([u({tooltip:!1})],e.prototype,"AutoUpdate",void 0),r([s,l(-1e3)],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./AnimatorController":"AnimatorController"}],AnimatorCondition:[function(t,e,n){"use strict";var o,i;cc._RF.push(e,"dee7b/HNztHyqFZucFEjW8S","AnimatorCondition"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicType=n.ParamType=void 0,function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(o=n.ParamType||(n.ParamType={})),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(i=n.LogicType||(n.LogicType={}));var r=function(){function t(t,e){this._ac=null,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=e,this._param=t.param,this._value=t.value,this._logic=t.logic}return t.prototype.getParamName=function(){return this._param},t.prototype.getParamType=function(){return this._ac.params.getParamType(this._param)},t.prototype.check=function(){var t=this.getParamType();if(t===o.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==o.NUMBER)return t===o.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===o.TRIGGER?0!==this._ac.params.getTrigger(this._param):(cc.error("[AnimatorCondition.check] \u9519\u8bef\u7684type: "+t),!1);var e=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return e===this._value;case i.NOTEQUAL:return e!==this._value;case i.GREATER:return e>this._value;case i.LESS:return e<this._value;case i.GREATER_EQUAL:return e>=this._value;case i.LESS_EQUAL:return e<=this._value;default:return!1}},t}();n.default=r,cc._RF.pop()},{}],AnimatorController:[function(t,e,n){"use strict";cc._RF.push(e,"de785Aa4lpFH59CMCV1Eb74","AnimatorController"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorParams"),i=t("./AnimatorState"),r=function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new o.default(e.parameters),this.init(e)}return Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.states.length<=0)cc.error("[AnimatorController.init] \u72b6\u6001\u673ajson\u9519\u8bef");else{this._anyState=new i.default(t.anyState,this);for(var e=0;e<t.states.length;e++){var n=new i.default(t.states[e],this);this._states.set(n.name,n)}}},t.prototype.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},t.prototype.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},t.prototype.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},t.prototype.play=function(t){if(this._states.has(t)){this.animComplete=!1;var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t.prototype.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)cc.error("[AnimatorController.changeState] error: \u72b6\u6001\u5207\u6362\u9012\u5f52\u8c03\u7528\u8d85\u8fc71000\u6b21\uff0ctransition\u8bbe\u7f6e\u53ef\u80fd\u51fa\u9519!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)cc.error("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t}();n.default=r,cc._RF.pop()},{"./AnimatorParams":"AnimatorParams","./AnimatorState":"AnimatorState"}],AnimatorCustomization:[function(t,e,n){"use strict";cc._RF.push(e,"32e01QIrwtP4buKMSAxTJmr","AnimatorCustomization");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,u=c.property,l=(c.requireComponent,c.disallowMultiple),p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PlayOnStart=!1,e}return i(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,e)},e.prototype.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},r([u({override:!0,visible:!1})],e.prototype,"PlayOnStart",void 0),r([s,l,p("Framework/Animator/AnimatorCustomization")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorDragonBones:[function(t,e,n){"use strict";cc._RF.push(e,"0592f2y1olA0bK1DdnYDaoE","AnimatorDragonBones");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,u=(c.property,c.requireComponent),l=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dragonBones=null,e}return i(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&this._dragonBones.playAnimation(t,e?0:-1)},e.prototype.scaleTime=function(t){this._dragonBones.timeScale=t},r([s,l,u(dragonBones.ArmatureDisplay),p("Framework/Animator/AnimatorDragonBones")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorParams:[function(t,e,n){"use strict";cc._RF.push(e,"47250iiE8tKUZF6tjFUlfMo","AnimatorParams"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),i=function(){function t(t){var e=this;this._paramMap=new Map,t.forEach(function(t){var n={type:t.type,value:t.init};e._paramMap.set(t.param,n)})}return t.prototype.getParamType=function(t){var e=this._paramMap.get(t);return e?e.type:null},t.prototype.setNumber=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.NUMBER&&(n.value=e)},t.prototype.setBool=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.BOOLEAN&&(n.value=e?1:0)},t.prototype.setTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=1)},t.prototype.resetTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=0)},t.prototype.autoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=1)},t.prototype.resetAutoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=0)},t.prototype.resetAllAutoTrigger=function(){this._paramMap.forEach(function(t){t.type===o.ParamType.AUTO_TRIGGER&&(t.value=0)})},t.prototype.getNumber=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.NUMBER?e.value:0},t.prototype.getBool=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.BOOLEAN?e.value:0},t.prototype.getTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.TRIGGER?e.value:0},t.prototype.getAutoTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.AUTO_TRIGGER?e.value:0},t}();n.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AnimatorSpineSecondary:[function(t,e,n){"use strict";cc._RF.push(e,"2488934/SlBPY9ngsu8UqWo","AnimatorSpineSecondary");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./AnimatorSpine"),c=t("./core/AnimatorBase"),s=cc._decorator,u=s.ccclass,l=s.property,p=s.requireComponent,h=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TrackIndex=1,e._main=null,e._spine=null,e}return i(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(this.TrackIndex,t,e):this._spine.clearTrack(this.TrackIndex)},r([l({tooltip:!1})],e.prototype,"TrackIndex",void 0),r([u,p(sp.Skeleton),h("Framework/Animator/AnimatorSpineSecondary")],e)}(c.default);n.default=f,cc._RF.pop()},{"./AnimatorSpine":"AnimatorSpine","./core/AnimatorBase":"AnimatorBase"}],AnimatorSpine:[function(t,e,n){"use strict";cc._RF.push(e,"8f224eiAodM8YIcjrZ0B9zN","AnimatorSpine");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,u=(c.property,c.requireComponent),l=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}return i(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach(function(e,n){e?n.call(e,t):n(t)}),this._secondaryListenerMap.forEach(function(e,n){t.trackIndex===e.TrackIndex&&n.call(e,t)})},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(0,t,e):this._spine.clearTrack(0)},e.prototype.scaleTime=function(t){this._spine.timeScale=t},e.prototype.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},e.prototype.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},e.prototype.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},e.prototype.clearCompleteListener=function(){this._completeListenerMap.clear},r([s,l,u(sp.Skeleton),p("Framework/Animator/AnimatorSpine")],e)}(a.default);n.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorStateLogic:[function(t,e,n){"use strict";cc._RF.push(e,"67f80RtpchPbbZr6OYBU8NI","AnimatorStateLogic"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.onEntry=function(){},t.prototype.onUpdate=function(){},t.prototype.onExit=function(){},t}();n.default=o,cc._RF.pop()},{}],AnimatorState:[function(t,e,n){"use strict";cc._RF.push(e,"c1d25xIgn5M3ZaxWIV1n5ii","AnimatorState"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorTransition"),i=function(){function t(t,e){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=e;for(var n=0;n<t.transitions.length;n++){var i=new o.default(t.transitions[n],e);i.isValid()&&this._transitions.push(i)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motion",{get:function(){return this._motion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},enumerable:!1,configurable:!0}),t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var e=this._transitions[t];if(e&&e.check())return void e.doTrans()}},t}();n.default=i,cc._RF.pop()},{"./AnimatorTransition":"AnimatorTransition"}],AnimatorTransition:[function(t,e,n){"use strict";cc._RF.push(e,"34b08BDtkZDiLlsqDHQh7XT","AnimatorTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),i=function(){function t(t,e){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=e;for(var n=0;n<t.conditions.length;n++){var i=new o.default(t.conditions[n],e);this._conditions.push(i)}}return t.prototype.isValid=function(){return this._hasExitTime||this._conditions.length>0},t.prototype.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},t.prototype.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var e=this._conditions[t].getParamType(),n=this._conditions[t].getParamName();e===o.ParamType.TRIGGER?this._ac.params.resetTrigger(n):e===o.ParamType.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(n)}this._ac.changeState(this._toStateName)},t}();n.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"ed9cbEOGDVGSIJOKhzlTwEi","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.SfxType=void 0;var o,i=t("./Tween");(function(t){t[t.NORMAL=0]="NORMAL",t[t.UI=1]="UI"})(o=n.SfxType||(n.SfxType={}));var r=function(){function t(){}return Object.defineProperty(t,"bgmVolume",{get:function(){return this._bgmVolume},set:function(t){var e=this;this._bgmVolume!==t&&(this._bgmVolume=cc.misc.clampf(t,0,1),this._bgmMap.forEach(function(t){cc.audioEngine.setVolume(t.id,e._bgmVolume*t.volume)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxVolume",{get:function(){return this._sfxVolume},set:function(t){var e=this;this._sfxVolume!==t&&(this._sfxVolume=cc.misc.clampf(t,0,1),this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmOff",{get:function(){return this._bgmOff},set:function(t){var e=this;this._bgmOff!==t&&(this._bgmOff=t,this._bgmOff&&(this._bgmMap.forEach(function(t){e.stop(t)}),this._bgmMap.clear()))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxOff",{get:function(){return this._sfxOff},set:function(t){var e=this;this._sfxOff!==t&&(this._sfxOff=t,this._sfxOff&&(this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0})))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmPause",{get:function(){return this._bgmPause},set:function(t){var e=this;this.bgmOff||this._bgmPause===t||(this._bgmPause=t,this._bgmMap.forEach(function(t){var n,o;e._bgmPause?(null===(n=t.tween)||void 0===n||n.pause(),cc.audioEngine.pause(t.id)):(null===(o=t.tween)||void 0===o||o.resume(),cc.audioEngine.resume(t.id))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxPause",{get:function(){return this._sfxPause},set:function(t){this.sfxOff||this._sfxPause===t||(this._sfxPause=t,this._sfxPause?this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.pause(),cc.audioEngine.pause(t.id)})}):this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.resume(),cc.audioEngine.resume(t.id)})}))},enumerable:!1,configurable:!0}),t.volumeFade=function(t,e,n,o,r){var a,c=this;null===(a=t.tween)||void 0===a||a.stop(),t.volume=n,cc.audioEngine.setVolume(t.id,t.volume*this.bgmVolume),t.tween=new i.Tween(t).to({volume:o},1e3*e).onUpdate(function(){cc.audioEngine.setVolume(t.id,t.volume*c.bgmVolume)}).onComplete(function(){t.tween=null,r&&r()}).start()},t.stop=function(t){t.tween&&(t.tween.stop(),t.tween=null),cc.audioEngine.stop(t.id)},t.play=function(t,e,n){void 0===n&&(n=null);var o=t instanceof cc.AudioClip?{clip:t}:t;return o.hasOwnProperty("loop")||(o.loop=!1),o.hasOwnProperty("fadeDuration")||(o.fadeDuration=0),o.hasOwnProperty("finishCall")||(o.finishCall=null),n?(n.id=cc.audioEngine.play(o.clip,o.loop,e),n.volume=1,n.tween&&(n.tween.stop(),n.tween=null)):n={id:cc.audioEngine.play(o.clip,o.loop,e),volume:1,tween:null},o.finishCall&&cc.audioEngine.setFinishCallback(n.id,o.finishCall),o.fadeDuration>0&&this.volumeFade(n,o.fadeDuration,0,1),n},t.playBgm=function(t){var e=t instanceof cc.AudioClip?t:t.clip;if(!this.bgmOff&&e){var n=this._bgmMap.get(e);void 0===n?(n=this.play(t,this.bgmVolume),this._bgmMap.set(e,n)):(this.stop(n),this.play(t,this.bgmVolume,n))}},t.playSfx=function(t,e){void 0===e&&(e=o.NORMAL);var n=t instanceof cc.AudioClip?t:t.clip;if(!this.sfxOff&&n){var i=e===o.NORMAL?this._normalSfxMap.get(n):this._uiSfxMap.get(n),r=null;if(void 0===i)i=this.setSfxData(n,e),r=this.play(t,this.sfxVolume),i.audioList.push(r);else{for(;i.audioList.length>0&&cc.audioEngine.getState(i.audioList[0].id)!==cc.audioEngine.AudioState.PLAYING;)this.stop(i.audioList.shift());for(;i.overStop&&i.audioList.length>=i.maxNum;)this.stop(i.audioList.shift());i.audioList.length<i.maxNum&&(r=this.play(t,this.sfxVolume),i.audioList.push(r))}}},t.setSfxData=function(t,e,n,i){if(void 0===e&&(e=o.NORMAL),void 0===n&&(n=8),void 0===i&&(i=!1),t){n=Math.max(n,1);var r=e===o.NORMAL?this._normalSfxMap:this._uiSfxMap,a=r.get(t);return void 0===a?(a={audioList:[],maxNum:n,overStop:i},r.set(t,a)):(a.maxNum=n,a.overStop=i),a}},t.stopBgm=function(t,e){var n=this;if(void 0===t&&(t=null),void 0===e&&(e=0),!this.bgmOff)if(t){var o=this._bgmMap.get(t);if(void 0===o)return;e<=0?(this.stop(o),this._bgmMap.delete(t)):this.volumeFade(o,e,1,0,function(){n.stop(o),n._bgmMap.delete(t)})}else e<=0?(this._bgmMap.forEach(function(t){n.stop(t)}),this._bgmMap.clear()):this._bgmMap.forEach(function(t,o){n.volumeFade(t,e,1,0,function(){n.stop(t),n._bgmMap.delete(o)})})},t.stopSfx=function(t,e){var n=this;if(void 0===t&&(t=null),void 0===e&&(e=o.NORMAL),!this.sfxOff)if(t){var i=e===o.NORMAL?this._normalSfxMap.get(t):this._uiSfxMap.get(t);if(void 0===i||i.audioList.length<=0)return;i.audioList.forEach(function(t){n.stop(t)}),i.audioList.length=0}else this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){n.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){n.stop(t)}),t.audioList.length=0})},t.stopAll=function(){this.stopBgm(),this.stopSfx()},t.pauseAll=function(){this.bgmPause=!0,this.sfxPause=!0},t.resumeAll=function(){this.bgmPause=!1,this.sfxPause=!1},t.uncacheAll=function(){this.stopAll(),this._bgmMap.clear(),this._normalSfxMap.clear(),this._uiSfxMap.clear(),cc.audioEngine.uncacheAll()},t._bgmMap=new Map,t._normalSfxMap=new Map,t._uiSfxMap=new Map,t._bgmVolume=1,t._sfxVolume=1,t._bgmOff=!1,t._sfxOff=!1,t._bgmPause=!1,t._sfxPause=!1,t}();n.default=r,cc._RF.pop()},{"./Tween":"Tween"}],ButtonChildGray:[function(t,e,n){"use strict";cc._RF.push(e,"19687AwHRhAjoLcsGZTr1YH","ButtonChildGray");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),c=t("../../util/Tool"),s=cc._decorator,u=s.ccclass,l=s.property,p=s.menu,h=s.requireComponent,f=s.executeInEditMode,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.RelatedNodes=[],e.NormalMaterial=null,e.GrayMaterial=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=this;if(t===a.ButtonState.DISABLED){this.GrayMaterial||(this.GrayMaterial=cc.Material.getBuiltinMaterial("2d-gray-sprite"));var n=function(t){var n=t.getComponent(cc.RenderComponent);n&&(n instanceof cc.Sprite||n instanceof cc.Label)&&n.setMaterial(0,e.GrayMaterial)};c.default.nodeRecursive(this.node.children,n),c.default.nodeRecursive(this.RelatedNodes,n)}else this.NormalMaterial||(this.NormalMaterial=cc.Material.getBuiltinMaterial("2d-sprite")),n=function(t){var n=t.getComponent(cc.RenderComponent);n&&(n instanceof cc.Sprite||n instanceof cc.Label)&&n.setMaterial(0,e.NormalMaterial)},c.default.nodeRecursive(this.node.children,n),c.default.nodeRecursive(this.RelatedNodes,n)},r([l({type:cc.Node,tooltip:!1})],e.prototype,"RelatedNodes",void 0),r([l(cc.Material)],e.prototype,"NormalMaterial",void 0),r([l(cc.Material)],e.prototype,"GrayMaterial",void 0),r([u,f,h(cc.Button),p("Framework/UI\u7ec4\u4ef6/ButtonChildGray")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack","../../util/Tool":"Tool"}],ButtonChildPos:[function(t,e,n){"use strict";cc._RF.push(e,"1c34dZFfsxBlZKPpElUos3w","ButtonChildPos");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.menu,p=c.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Normal=cc.v2(0,0),e.Pressed=cc.v2(0,0),e.Hover=cc.v2(0,0),e.Disabled=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=cc.v2(0,0);switch(t){case a.ButtonState.NORMAL:e=this.Normal;break;case a.ButtonState.PRESSED:e=this.Pressed;break;case a.ButtonState.HOVER:e=this.Hover;break;case a.ButtonState.DISABLED:e=this.Disabled}this.node.children.forEach(function(t){t.setPosition(e)})},r([u({tooltip:!1})],e.prototype,"Normal",void 0),r([u({tooltip:!1})],e.prototype,"Pressed",void 0),r([u({tooltip:!1})],e.prototype,"Hover",void 0),r([u({tooltip:!1})],e.prototype,"Disabled",void 0),r([s,p(cc.Button),l("Framework/UI\u7ec4\u4ef6/ButtonChildPos")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack"}],ButtonHack:[function(t,e,n){"use strict";var o;cc._RF.push(e,"2aaa36JkjVLWItbzIIr6kKk","ButtonHack"),Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonState=n.ButtonHackEvent=void 0,function(t){t.STATE_CHANGE="ButtonHackEvent-STATE_CHANGE"}(o=n.ButtonHackEvent||(n.ButtonHackEvent={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.HOVER=1]="HOVER",t[t.PRESSED=2]="PRESSED",t[t.DISABLED=3]="DISABLED"}(n.ButtonState||(n.ButtonState={})),cc.Button.prototype._applyTransition=function(t){var e=this.transition;e===cc.Button.Transition.COLOR?this._updateColorTransition(t):e===cc.Button.Transition.SPRITE?this._updateSpriteTransition(t):e===cc.Button.Transition.SCALE&&this._updateScaleTransition(t),this.node.emit(o.STATE_CHANGE,t)},cc._RF.pop()},{}],ButtonSingle:[function(t,e,n){"use strict";cc._RF.push(e,"0dd4fIEsu5H8YHrLixEwxNu","ButtonSingle");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,c=cc._decorator,s=c.ccclass,u=c.property,l=c.menu,p=c.requireComponent;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.GROUP1=1]="GROUP1",t[t.GROUP2=2]="GROUP2"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonGroup=a.DEFAULT,e._button=null,e}var n;return i(e,t),n=e,Object.defineProperty(e,"groupMap",{get:function(){return null===this._groupMap&&(this._groupMap=new Map),this._groupMap},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._button=this.getComponent(cc.Button);var t=n.groupMap.get(this.ButtonGroup);void 0===t&&(t={lock:!1,buttonSet:new Set},n.groupMap.set(this.ButtonGroup,t)),t.buttonSet.add(this._button),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onDestroy=function(){var t=n.groupMap.get(this.ButtonGroup);void 0!==t?(t.buttonSet.delete(this._button),this.unlock(t)):cc.error("[ButtonSingle.onDestroy] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.ButtonGroup)},e.prototype.onTouchStart=function(){var t=this,e=n.groupMap.get(this.ButtonGroup);void 0!==e?e.lock||(e.lock=!0,e.buttonSet.forEach(function(e){e.enabled=e===t._button})):cc.error("[ButtonSingle.onTouchStart] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.ButtonGroup)},e.prototype.onTouchEnd=function(){var t=n.groupMap.get(this.ButtonGroup);void 0!==t?this.unlock(t):cc.error("[ButtonSingle.onTouchEnd] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.ButtonGroup)},e.prototype.unlock=function(t){t.lock&&this._button.enabled&&(t.lock=!1,t.buttonSet.forEach(function(t){t.enabled=!0}))},e._groupMap=null,r([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"ButtonGroup",void 0),n=r([s,p(cc.Button),l("Framework/UI\u7ec4\u4ef6/ButtonSingle")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],DialogBase:[function(t,e,n){"use strict";cc._RF.push(e,"9b83e2KZopKTb+TLQZNTspz","DialogBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../util/Tool"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DlgAnim=null,e.OpenClip=null,e.CloseClip=null,e._resolveList=[],e._prefabUrl="",e}return i(e,t),Object.defineProperty(e.prototype,"prefabUrl",{get:function(){return this._prefabUrl},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.DlgAnim&&(this.OpenClip&&this.DlgAnim.addClip(this.OpenClip),this.CloseClip&&this.DlgAnim.addClip(this.CloseClip),this.DlgAnim.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this))},e.prototype.onAnimFinished=function(){this.DlgAnim.currentClip===this.CloseClip&&this.close()},e.prototype.playOpen=function(){this.DlgAnim&&this.OpenClip&&this.DlgAnim.play(this.OpenClip.name)},e.prototype.playClose=function(){if(this.DlgAnim&&this.CloseClip){if(this.DlgAnim.getAnimationState(this.CloseClip.name).isPlaying)return;this.DlgAnim.play(this.CloseClip.name)}else this.close()},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){this._resolveList.forEach(function(t){t()}),this.node.removeFromParent(),this.node.destroy()},e.prototype.onClickClose=function(){this.playClose()},e.prototype.addResolve=function(t){a.default.arrayAdd(this._resolveList,t)},e.pUrl="",r([u(cc.Animation)],e.prototype,"DlgAnim",void 0),r([u({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.DlgAnim}})],e.prototype,"OpenClip",void 0),r([u({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.DlgAnim}})],e.prototype,"CloseClip",void 0),r([s,l,p("Framework/\u57fa\u7840\u7ec4\u4ef6/DialogBase")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../util/Tool":"Tool"}],DlgAnimValue:[function(t,e,n){"use strict";cc._RF.push(e,"f8bbd20CvBM+YVVlrbCIugX","DlgAnimValue");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/AnimValueLabel"),s=t("../../common/cmpt/ui/AnimValueProgress"),u=t("../../common/cmpt/ui/AnimValueProgressHP"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AnimLab=null,e.AnimProgress=null,e.AnimHP=null,e}return i(e,t),e.prototype.onClickLabAdd=function(){this.AnimLab.setValue(this.AnimLab.endValue+10)},e.prototype.onClickLabSub=function(){this.AnimLab.setValue(this.AnimLab.endValue-10)},e.prototype.onClickProgressAdd=function(){this.AnimProgress.setValue(Math.min(1,this.AnimProgress.endValue+.2))},e.prototype.onClickProgressSub=function(){this.AnimProgress.setValue(Math.max(0,this.AnimProgress.endValue-.2))},e.prototype.onClickHPAdd=function(){this.AnimHP.setValue(Math.min(1,this.AnimHP.endValue+.2))},e.prototype.onClickHPSub=function(){this.AnimHP.setValue(Math.max(0,this.AnimHP.endValue-.2))},e.pUrl="DlgAnimValue",r([h(c.default)],e.prototype,"AnimLab",void 0),r([h(s.default)],e.prototype,"AnimProgress",void 0),r([h(u.default)],e.prototype,"AnimHP",void 0),r([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/AnimValueLabel":"AnimValueLabel","../../common/cmpt/ui/AnimValueProgress":"AnimValueProgress","../../common/cmpt/ui/AnimValueProgressHP":"AnimValueProgressHP"}],DlgAudio:[function(t,e,n){"use strict";cc._RF.push(e,"58e95qc0K1MS5+q6wLEV5xB","DlgAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/const/Url"),s=t("../../common/util/AudioManager"),u=t("../../common/util/Res"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.VolumeSlider=null,e}return i(e,t),e.prototype.onDestroy=function(){s.default.stopAll()},e.prototype.open=function(){this.onSlide()},e.prototype.onSlide=function(){s.default.bgmVolume=this.VolumeSlider.progress,s.default.sfxVolume=this.VolumeSlider.progress},e.prototype.onClickBgm1FadeIn=function(){s.default.playBgm({clip:u.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgm1OutBgm2In=function(){s.default.stopBgm(u.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),5),s.default.playBgm({clip:u.default.get(c.ResUrl.AUDIO.BGM2,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgmFadeOut=function(){s.default.stopBgm(u.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),5),s.default.stopBgm(u.default.get(c.ResUrl.AUDIO.BGM2,cc.AudioClip),5)},e.prototype.onClickSfx1=function(){s.default.setSfxData(u.default.get(c.ResUrl.AUDIO.SFX1,cc.AudioClip),s.SfxType.NORMAL,1,!1),s.default.playSfx(u.default.get(c.ResUrl.AUDIO.SFX1,cc.AudioClip),s.SfxType.NORMAL)},e.prototype.onClickSfx2=function(){s.default.setSfxData(u.default.get(c.ResUrl.AUDIO.SFX2,cc.AudioClip),s.SfxType.NORMAL,5,!1),s.default.playSfx(u.default.get(c.ResUrl.AUDIO.SFX2,cc.AudioClip),s.SfxType.NORMAL)},e.pUrl="DlgAudio",r([h(cc.Slider)],e.prototype,"VolumeSlider",void 0),r([p],e)}(a.default);n.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/Url":"Url","../../common/util/AudioManager":"AudioManager","../../common/util/Res":"Res"}],DlgEvents:[function(t,e,n){"use strict";cc._RF.push(e,"e89a2frv1FFnIYqxWPPQ4aK","DlgEvents");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/cmpt/base/DialogBase"),u=t("../../common/const/EventName"),l=t("../../common/util/Events"),p=t("../../common/util/Tool"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Lab1=null,e}return i(e,t),e.prototype.onClickEmit=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,l.default.emitAsync(u.EventName.EVENT_TEST1,"\u89e6\u53d1\u4e86\u4e8b\u4ef61\uff0c\u8bf7\u7b49\u5f85\u4e8b\u4ef62")];case 1:return t.sent(),l.default.emit(u.EventName.EVENT_TEST2,"\u89e6\u53d1\u4e86\u4e8b\u4ef62"),[2]}})})},e.prototype.eventTest1=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.Lab1.string=t,[4,p.default.waitCmpt(this,1)];case 1:return e.sent(),[2]}})})},e.prototype.eventTest2=function(t){this.Lab1.string=t},e.pUrl="DlgEvents",r([d(cc.Label)],e.prototype,"Lab1",void 0),r([l.preloadEvent(u.EventName.EVENT_TEST1)],e.prototype,"eventTest1",null),r([l.preloadEvent(u.EventName.EVENT_TEST2)],e.prototype,"eventTest2",null),r([f,l.eventsOnEnable()],e)}(s.default);n.default=_,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tool":"Tool"}],DlgI18N:[function(t,e,n){"use strict";cc._RF.push(e,"a9171RouStMtpX2jd36HPxf","DlgI18N");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../i18n/I18n"),s=t("../../i18n/LocalizedLabel"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Text1=null,e.Text2=null,e}return i(e,t),e.prototype.open=function(){this.Text1.setOption({num:10}),this.Text2.setOption(10,"---")},e.prototype.onClickZh=function(){c.default.switch(c.LangType.ZH)},e.prototype.onClickEn=function(){c.default.switch(c.LangType.EN)},e.pUrl="DlgI18N",r([p(s.default)],e.prototype,"Text1",void 0),r([p(s.default)],e.prototype,"Text2",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../i18n/I18n":"I18n","../../i18n/LocalizedLabel":"LocalizedLabel"}],DlgLayer:[function(t,e,n){"use strict";cc._RF.push(e,"4ec76yKbilLcJyDdXnzkwAH","DlgLayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/cmpt/base/DialogBase"),u=t("../../common/cmpt/base/Layer"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.open=function(){},e.prototype.onClockAwait=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,u.default.inst.openUniDialogAsync("layer/DlgLayer2")];case 1:return t.sent(),[4,u.default.inst.waitCloseDialog("layer/DlgLayer2")];case 2:return t.sent(),[4,u.default.inst.openUniDialogAsync("layer/DlgLayer3")];case 3:return t.sent(),[2]}})})},e.prototype.onClickTipUnique=function(){u.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u552f\u4e00\u63d0\u793a",unique:!0,end:cc.v2(0,100)})},e.prototype.onClickTip=function(){u.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u666e\u901a\u63d0\u793a",end:cc.v2(0,100),duration:0})},e.pUrl="layer/DlgLayer",r([p],e)}(s.default));n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Layer":"Layer"}],DlgShader:[function(t,e,n){"use strict";cc._RF.push(e,"21c0dRZWaBCla5UnByvFBHD","DlgShader");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/base/Timer"),s=t("../../common/cmpt/shader/ShaderFill"),u=t("../../common/cmpt/shader/ShaderTile"),l=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Tile=null,e.Fill=null,e._tween=null,e._sx=2,e}return i(e,t),e.prototype.open=function(){var t=this;this._tween=new l.Tween(this.Fill,l.SCALE_TWEEN).to({FillPhase:[1,0]},1e3).repeat(1e3).easing(l.Easing.Quadratic.In).onUpdate(function(){t.Fill.updateShader()}).start()},e.prototype.update=function(){this.Tile.Scale.x+=c.default.scaleDt*this._sx,this.Tile.Scale.x>=10?this._sx=-2:this.Tile.Scale.x<=1&&(this._sx=2),this.Tile.Offset.x-=5*c.default.scaleDt,this.Tile.updateShader()},e.pUrl="DlgShader",r([f(u.default)],e.prototype,"Tile",void 0),r([f(s.default)],e.prototype,"Fill",void 0),r([h],e)}(a.default);n.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/cmpt/shader/ShaderFill":"ShaderFill","../../common/cmpt/shader/ShaderTile":"ShaderTile","../../common/util/Tween":"Tween"}],DlgShake:[function(t,e,n){"use strict";cc._RF.push(e,"bd6c4Iq8qRDJKuuv1WVfEB5","DlgShake");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/ShakeNode"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Shake=null,e}return i(e,t),e.prototype.onClickShake=function(){this.Shake.shake(1)},e.pUrl="DlgShake",r([l(c.default)],e.prototype,"Shake",void 0),r([u],e)}(a.default);n.default=p,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/ShakeNode":"ShakeNode"}],DlgTimer:[function(t,e,n){"use strict";cc._RF.push(e,"9b543Kex11AiqArfFrv2+Ru","DlgTimer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/base/Timer"),s=t("../../common/const/EventName"),u=t("../../common/util/Events"),l=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Slider=null,e.Move1=null,e.Move2=null,e.Move3=null,e._dir=1,e._tween=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),u.default.targetOn(this)},e.prototype.onDestroy=function(){var t;null===(t=this._tween)||void 0===t||t.stop(),u.default.targetOff(this)},e.prototype.update=function(){this.Move2.x+=300*c.default.scaleDt*this._dir,this._dir>0&&this.Move2.x>500?this._dir=-1:this._dir<0&&this.Move2.x<-500&&(this._dir=1)},e.prototype.open=function(){this.Slider.progress=c.default.timeScale,this.Slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.Slider.progress)/100,this.eventTimeScale(),this._tween=new l.Tween(this.Move3,l.SCALE_TWEEN).to({x:[300,-300],y:[300,-300]},2e3).repeat(1e3).start()},e.prototype.onSlide=function(){this.Slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.Slider.progress)/100,c.default.timeScale=this.Slider.progress},e.prototype.eventTimeScale=function(){this.Move1.getComponent(cc.Animation).getAnimationState("move").speed=c.default.timeScale},e.pUrl="DlgTimer",r([f(cc.Slider)],e.prototype,"Slider",void 0),r([f(cc.Node)],e.prototype,"Move1",void 0),r([f(cc.Node)],e.prototype,"Move2",void 0),r([f(cc.Node)],e.prototype,"Move3",void 0),r([u.preloadEvent(s.EventName.TIME_SCALE)],e.prototype,"eventTimeScale",null),r([h],e)}(a.default);n.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tween":"Tween"}],DlgVirtualList:[function(t,e,n){"use strict";cc._RF.push(e,"eb01cTRb7xNToN1S9Cs/qlr","DlgVirtualList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/VirtualList"),s=t("../../common/util/Tool"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.List=null,e.RndLab=null,e._rnd=0,e}return i(e,t),e.prototype.open=function(){for(var t=0;t<50;t++)this.List.push(null);this._rnd=s.default.randInt(0,this.List.getDataArr().length),this.RndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.prototype.onClickAdd=function(){this.List.push(null)},e.prototype.onClickDelete=function(){this.List.splice(0,1)},e.prototype.onClickScroll=function(){this.List.scrollItemToView(this._rnd,cc.v2(0,1),cc.v2(0,1),.5,!0),this._rnd=s.default.randInt(0,this.List.getDataArr().length),this.RndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.pUrl="DlgVirtualList",r([p(c.default)],e.prototype,"List",void 0),r([p(cc.Label)],e.prototype,"RndLab",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/VirtualList":"VirtualList","../../common/util/Tool":"Tool"}],En:[function(t,e,n){"use strict";cc._RF.push(e,"e1a79yRjpZFiZ8ShC5YIRcu","En"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={lang:"English",text1:"number: %{num}",text2:"param1: %{arg1}, param2: %{arg2}"},cc._RF.pop()},{}],EventName:[function(t,e,n){"use strict";cc._RF.push(e,"52bf65jN2xMY6Ig2aroKkQw","EventName"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventName=void 0,function(t){t[t.RESIZE=0]="RESIZE",t[t.UPDATE_LOCALIZED_CMPT=1]="UPDATE_LOCALIZED_CMPT",t[t.GAME_PAUSE=2]="GAME_PAUSE",t[t.GAME_RESUME=3]="GAME_RESUME",t[t.TIME_SCALE=4]="TIME_SCALE",t[t.CAMERA_MOVE=5]="CAMERA_MOVE",t[t.EVENT_TEST1=6]="EVENT_TEST1",t[t.EVENT_TEST2=7]="EVENT_TEST2"}(n.EventName||(n.EventName={})),cc._RF.pop()},{}],Events:[function(t,e,n){"use strict";cc._RF.push(e,"aae4cQnarlFE4m+zeU7vd7m","Events");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.preloadEvent=n.eventsOnEnable=n.eventsOnLoad=void 0;var r=t("../const/EventName");function a(t,e,n,o){void 0===o&&(o=!0);var i=t.prototype[e],r=t.prototype[n];t.prototype[e]=function(){c.targetOn(this,o),i&&i.call(this)},t.prototype[n]=function(){c.targetOff(this),r&&r.call(this)}}n.eventsOnLoad=function(t){return void 0===t&&(t=!0),function(e){a(e,"onLoad","onDestroy",t)}},n.eventsOnEnable=function(t){return void 0===t&&(t=!0),function(e){a(e,"onEnable","onDisable",t)}},n.preloadEvent=function(t,e){return void 0===e&&(e=!1),function(n,o){var i=c.classMap.get(n.constructor);if(void 0===i)i=[],c.classMap.set(n.constructor,i);else if(i.find(function(e){return e.event===t&&e.funcName===o}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u8f7d\u5165");i.push({event:t,funcName:o,once:e})}};var c=function(){function t(){}return t.targetOn=function(t,e){var n=this;if(void 0===e&&(e=!0),e)this.classMap.forEach(function(e,o){if(t instanceof o)for(var i=0;i<e.length;i++){var r=e[i];n.on(r.event,t[r.funcName],t,r.once)}});else{var o=this.classMap.get(t.constructor);if(o)for(var i=0;i<o.length;i++){var r=o[i];this.on(r.event,t[r.funcName],t,r.once)}}},t.on=function(t,e,n,o){if(void 0===o&&(o=!1),e&&n){var i=this._eventsMap.get(t),a=[];if(void 0===i)(i=new Map).set(n,a),this._eventsMap.set(t,i);else if(void 0===(a=i.get(n)))a=[],i.set(n,a);else if(a.find(function(t){return t.cb===e}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u6ce8\u518c");var c={cb:e,once:o};a.push(c)}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.once=function(t,e,n){this.on(t,e,n,!0)},t.off=function(t,e,n){if(e&&n){var o=this._eventsMap.get(t);if(void 0!==o){var i=o.get(n);if(void 0!==i){var a=i.findIndex(function(t){return t.cb===e});a<0?cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u4ee5\u8be5listener\u6ce8\u518c\u8be5\u4e8b\u4ef6"):(i.splice(a,1),i.length<=0&&(o.delete(n),o.size<=0&&this._eventsMap.delete(t)))}else cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.targetOff=function(t){var e=this;t?this._eventsMap.forEach(function(n,o){n.delete(t),n.size<=0&&e._eventsMap.delete(o)}):cc.error("event: "+t+" target\u4e0d\u80fd\u4e3a\u7a7a")},t.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this._eventsMap.get(t);if(void 0!==o){var i,a=[],c=[];for(o.forEach(function(t,e){for(i=0;i<t.length;i++){var n=t[i];a.push({cb:n.cb,target:e}),n.once&&c.push({cb:n.cb,target:e})}}),i=0;i<c.length;i++){var s=c[i];this.off(t,s.cb,s.target)}for(i=0;i<a.length;i++)(s=a[i]).cb.apply(s.target,e)}else cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")},t.emitAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this,void 0,void 0,function(){var n,o,a,c,s,u;return i(this,function(i){switch(i.label){case 0:if(void 0===(n=this._eventsMap.get(t)))return cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6"),[2];for(a=[],c=[],n.forEach(function(t,e){for(o=0;o<t.length;o++){var n=t[o];a.push({cb:n.cb,target:e}),n.once&&c.push({cb:n.cb,target:e})}}),o=0;o<c.length;o++)u=c[o],this.off(t,u.cb,u.target);for(s=[],o=0;o<a.length;o++)u=a[o],s.push(u.cb.apply(u.target,e));return[4,Promise.all(s)];case 1:return i.sent(),[2]}})})},t.classMap=new Map,t._eventsMap=new Map,t}();n.default=c,cc._RF.pop()},{"../const/EventName":"EventName"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"1ee18MAKgRPz4Ig/89N8gDX","Game");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../common/cmpt/base/Layer"),u=t("../../common/const/Url"),l=t("../../common/util/Events"),p=t("../../common/util/Res"),h=t("../dialog/DlgAnimValue"),f=t("../dialog/DlgAudio"),d=t("../dialog/DlgEvents"),_=t("../dialog/DlgI18N"),y=t("../dialog/DlgLayer"),m=t("../dialog/DlgShader"),g=t("../dialog/DlgShake"),v=t("../dialog/DlgTimer"),b=t("../dialog/DlgVirtualList"),O=cc._decorator,A=O.ccclass,w=(O.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickHome=function(){s.default.inst.enterHome()},e.prototype.onClickTimer=function(){s.default.inst.openUniDialogAsync(v.default.pUrl)},e.prototype.onClickLayer=function(){s.default.inst.openUniDialogAsync(y.default.pUrl)},e.prototype.onClickShader=function(){s.default.inst.openUniDialogAsync(m.default.pUrl)},e.prototype.onClickAnimValue=function(){s.default.inst.openUniDialogAsync(h.default.pUrl)},e.prototype.onClickButton=function(){s.default.inst.openUniDialogAsync("DlgButton")},e.prototype.onClickShake=function(){s.default.inst.openUniDialogAsync(g.default.pUrl)},e.prototype.onClickList=function(){s.default.inst.openUniDialogAsync(b.default.pUrl)},e.prototype.onClickAudio=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return s.default.inst.openUniDialogAsync(f.default.pUrl),s.default.inst.showLoading(),[4,p.default.loadDir(u.DirUrl.AUDIO,cc.AudioClip)];case 1:return t.sent(),s.default.inst.hideLoading(),[2]}})})},e.prototype.onClickI18N=function(){s.default.inst.openUniDialogAsync(_.default.pUrl)},e.prototype.onClickEvent=function(){s.default.inst.openUniDialogAsync(d.default.pUrl)},r([A,l.eventsOnLoad()],e)}(cc.Component));n.default=w,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer","../../common/const/Url":"Url","../../common/util/Events":"Events","../../common/util/Res":"Res","../dialog/DlgAnimValue":"DlgAnimValue","../dialog/DlgAudio":"DlgAudio","../dialog/DlgEvents":"DlgEvents","../dialog/DlgI18N":"DlgI18N","../dialog/DlgLayer":"DlgLayer","../dialog/DlgShader":"DlgShader","../dialog/DlgShake":"DlgShake","../dialog/DlgTimer":"DlgTimer","../dialog/DlgVirtualList":"DlgVirtualList"}],Home:[function(t,e,n){"use strict";cc._RF.push(e,"1d227cGCflICZGjBQkLC7vS","Home");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickGame=function(){a.default.inst.enterGame()},r([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer"}],I18n:[function(t,e,n){"use strict";cc._RF.push(e,"a24383d1j1FRbXaBkcPctfn","I18n"),Object.defineProperty(n,"__esModule",{value:!0}),n.LangType=void 0;var o,i=t("../common/const/EventName"),r=t("../common/util/Events"),a=t("./config/En"),c=t("./config/Zh");(function(t){t.NONE="",t.ZH="zh",t.EN="en"})(o=n.LangType||(n.LangType={}));var s=function(){function t(){}return Object.defineProperty(t,"curLang",{get:function(){return this._curLang},enumerable:!1,configurable:!0}),t.init=function(t){if(void 0===t&&(t=o.NONE),!this._init){this._init=!0;var e=t||cc.sys.language;this.switch(e)}},t.switch=function(t){if(this._curLang!==t){switch(this._curLang=t,t){case o.ZH:this._phrases=c.default;break;case o.EN:this._phrases=a.default;break;default:this._curLang=o.EN,this._phrases=a.default}this.updateLocalizedCmpt()}},t.updateLocalizedCmpt=function(){r.default.emit(i.EventName.UPDATE_LOCALIZED_CMPT)},t.getKeyByValue=function(t){if(!this._phrases)return cc.error("[I18n.getKeyByValue] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";for(var e in this._phrases)if(this._phrases[e]===t)return e;return""},t.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._phrases)return cc.error("[I18n.getText] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";if(!t)return"";var o=this._phrases.hasOwnProperty(t)?this._phrases[t]:t;if(1===e.length&&"[object Object]"===Object.prototype.toString.call(e[0])){for(var i in e[0])if(e[0].hasOwnProperty(i)){var r=new RegExp("%{"+i+"}","g");o=o.replace(r,""+e[0][i])}}else e.forEach(function(t){o=o.replace(/%\{.*?\}/,""+t)});return o},t._init=!1,t._phrases=null,t._curLang=o.NONE,t}();n.default=s,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./config/En":"En","./config/Zh":"Zh"}],Layer:[function(t,e,n){"use strict";cc._RF.push(e,"a6e48AvPltFQqwiI4zAsMqx","Layer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../../const/Url"),l=t("../../util/Res"),p=t("../../util/Tool"),h=t("./DialogBase"),f=t("./Tip"),d=cc._decorator,_=d.ccclass,y=d.property,m=d.disallowMultiple,g=d.menu,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MainLayer=null,e.DialogLayer=null,e.LoadingLayer=null,e.TipLayer=null,e._loadingCount=0,e._tipPool=[],e._tipTexts=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.inst=this,this.hideLoading()},e.prototype.onDestroy=function(){n.inst=null},e.prototype.getNameByUrl=function(t){return t.substring(t.lastIndexOf("/")+1,t.length)},e.prototype.enterHome=function(){return a(this,void 0,Promise,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return this.showLoading(),[4,l.default.load(u.ResUrl.PREFAB.HOME,cc.Prefab)];case 1:return t=n.sent(),this.hideLoading(),t?(this.MainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=cc.instantiate(t)).setPosition(0,0),this.MainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterHome] can not find home prefab: "+u.ResUrl.PREFAB.HOME),[2])}})})},e.prototype.enterGame=function(){return a(this,void 0,Promise,function(){var t,e;return c(this,function(n){switch(n.label){case 0:return this.showLoading(),[4,l.default.load(u.ResUrl.PREFAB.GAME,cc.Prefab)];case 1:return t=n.sent(),this.hideLoading(),t?(this.MainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=cc.instantiate(t)).setPosition(0,0),this.MainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterGame] can not find game prefab: "+u.ResUrl.PREFAB.GAME),[2])}})})},e.prototype.getDialog=function(t){for(var e=0;e<this.DialogLayer.childrenCount;e++){var n=this.DialogLayer.children[e].getComponent(h.default);if(n&&n.prefabUrl===t)return n}return null},e.prototype.openDialog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=l.default.get(u.DirUrl.PREFAB_DIALOG+t,cc.Prefab);if(o){var i=cc.instantiate(o);this.DialogLayer.addChild(i),i.setPosition(0,0);var r=i.getComponent(h.default);r&&(r._prefabUrl=t,r.playOpen(),r.open.apply(r,e))}else cc.error("[Layer.openDialog] can not find dialog prefab: "+(u.DirUrl.PREFAB_DIALOG+t))},e.prototype.openUniDialog=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.getDialog(t)||this.openDialog.apply(this,s([t],e))},e.prototype.openDialogAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){var n,o,i;return c(this,function(r){switch(r.label){case 0:return this.showLoading(),[4,l.default.load(u.DirUrl.PREFAB_DIALOG+t,cc.Prefab)];case 1:return n=r.sent(),this.hideLoading(),n?(o=cc.instantiate(n),this.DialogLayer.addChild(o),o.setPosition(0,0),(i=o.getComponent(h.default))&&(i._prefabUrl=t,i.playOpen(),i.open.apply(i,e)),[2]):(cc.error("[Layer.openDialogAsync] can not find dialog prefab: "+(u.DirUrl.PREFAB_DIALOG+t)),[2])}})})},e.prototype.openUniDialogAsync=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return this.getDialog(t)?[2]:[4,this.openDialogAsync.apply(this,s([t],e))];case 1:return n.sent(),[2]}})})},e.prototype.closeDialog=function(t,e){void 0===e&&(e=!1);var n=this.getDialog(t);n&&(e?n.playClose():n.close())},e.prototype.closeDialogs=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);for(var n=this.DialogLayer.childrenCount-1;n>=0;n--){var o=this.DialogLayer.children[n].getComponent(h.default);o&&(t&&o.prefabUrl!==t||(e?o.playClose():o.close()))}},e.prototype.waitCloseDialog=function(t){return a(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return(e=this.getDialog(t))?[4,new Promise(function(t){e.addResolve(t)})]:[2];case 1:return[2,n.sent()]}})})},e.prototype.waitCloseDialogs=function(t){return a(this,void 0,void 0,function(){var e,n,o,i;return c(this,function(r){switch(r.label){case 0:for(e=[],n=function(n){var i=o.DialogLayer.children[n].getComponent(h.default);if(!i)return"continue";i.prefabUrl===t&&e.push(new Promise(function(t){i.addResolve(t)}))},o=this,i=0;i<this.DialogLayer.childrenCount;i++)n(i);return[4,Promise.all(e)];case 1:return[2,r.sent()]}})})},e.prototype.showTip=function(t){var e;return a(this,void 0,void 0,function(){var n,o,i,r,a,s,h,d=this;return c(this,function(c){switch(c.label){case 0:return n=null,(n="string"==typeof t?{text:t}:t).hasOwnProperty("unique")||(n.unique=!1),n.hasOwnProperty("duration")||(n.duration=1),n.hasOwnProperty("fade")||(n.fade=.5),n.hasOwnProperty("start")||(n.start=cc.v2(0,0)),n.hasOwnProperty("end")||(n.end=cc.v2(0,0)),n.unique&&p.default.arrayHas(this._tipTexts,n.text)?[2]:(this._tipTexts.push(n.text),o=null,this._tipPool.length>0?(o=this._tipPool.shift(),[3,3]):[3,1]);case 1:return[4,l.default.load(u.ResUrl.PREFAB.TIP,cc.Prefab)];case 2:if(!(i=c.sent()))return cc.error("[Layer.showTip] can not load prefab: "+u.ResUrl.PREFAB.TIP),[2];o=cc.instantiate(i),this.TipLayer.addChild(o),c.label=3;case 3:return r=cc.delayTime(n.duration),a=cc.fadeOut(n.fade),s=cc.moveTo(n.fade,n.end),h=cc.callFunc(function(){o.active=!1,d._tipPool.push(o),p.default.arrayDelete(d._tipTexts,n.text)}),o.active=!0,o.opacity=255,o.setPosition(n.start),o.setSiblingIndex(this.TipLayer.childrenCount-1),o.runAction(cc.sequence(r,cc.spawn(a,s),h)),null===(e=o.getComponent(f.default))||void 0===e||e.init(n.text),[2]}})})},e.prototype.clearTips=function(){this._tipPool.length=0,this._tipTexts.length=0,this.TipLayer.destroyAllChildren()},e.prototype.showLoading=function(){if(this._loadingCount++,!this.LoadingLayer.active){this.LoadingLayer.active=!0;var t=this.LoadingLayer.getChildByName("content");t&&(t.active=!1,this.unscheduleAllCallbacks(),p.default.waitCmpt(this,.5).then(function(){t.active=!0}))}},e.prototype.hideLoading=function(){this._loadingCount--,this._loadingCount<=0&&(this._loadingCount=0,this.LoadingLayer.active=!1,this.unscheduleAllCallbacks())},e.inst=null,r([y(cc.Node)],e.prototype,"MainLayer",void 0),r([y(cc.Node)],e.prototype,"DialogLayer",void 0),r([y(cc.Node)],e.prototype,"LoadingLayer",void 0),r([y(cc.Node)],e.prototype,"TipLayer",void 0),n=r([_,m,g("Framework/\u57fa\u7840\u7ec4\u4ef6/Layer")],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../const/Url":"Url","../../util/Res":"Res","../../util/Tool":"Tool","./DialogBase":"DialogBase","./Tip":"Tip"}],ListItem:[function(t,e,n){"use strict";cc._RF.push(e,"ca68f5rj5BCUbm7bNFCItUo","ListItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/ui/VirtualItem"),c=cc._decorator,s=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onInit=function(){},e.prototype.setOtherNode=function(t){t.getComponent(cc.Label).string="idx: "+this.DataIdx},r([s],e)}(a.default));n.default=u,cc._RF.pop()},{"../../common/cmpt/ui/VirtualItem":"VirtualItem"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"102e7zRjoBIIaR3Sun9XFVJ","LocalizedLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../common/const/EventName"),s=t("../common/util/Events"),u=t("./I18n"),l=cc._decorator,p=l.ccclass,h=l.property,f=l.executeInEditMode,d=l.menu,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textKey="",e._option=[],e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"TextKey",{get:function(){return this._textKey},set:function(t){this._textKey=t,this.updateLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.node.getComponent(cc.Label)||this.node.getComponent(cc.RichText),this._label)?this._label:(cc.error("Failed to update localized label, label component is invalid!"),null)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{u.default.init(),this.updateLabel()}catch(t){cc.error(t)}},e.prototype.update=function(){},e.prototype.updateLabel=function(){var t=this._option instanceof Array?u.default.getText.apply(u.default,a([this._textKey],this._option)):u.default.getText(this._textKey,this._option);t&&(this.label.string=t)},e.prototype.setTextKeyAndOption=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._textKey=t,this.setOption.apply(this,e)},e.prototype.setOption=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1===t.length&&"[object Object]"===Object.prototype.toString.call(t[0])?this._option=t[0]:this._option=t,this.updateLabel()},e.prototype.clear=function(){this.label.string="",this.TextKey=""},r([h(cc.String)],e.prototype,"_textKey",void 0),r([h({type:cc.String,tooltip:"i18n key"})],e.prototype,"TextKey",null),r([s.preloadEvent(c.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateLabel",null),r([p,s.eventsOnLoad(),f,d("Framework/I18N/LocalizedLabel")],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./I18n":"I18n"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"80273mEm6FKI6l1JI2ok2rH","LocalizedSprite");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../common/const/EventName"),u=t("../common/util/Events"),l=t("../common/util/Res"),p=t("./I18n"),h=cc._decorator,f=h.ccclass,d=(h.property,h.executeInEditMode),_=h.menu,y=h.requireComponent,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sprite=null,e._imageKey="",e}return i(e,t),Object.defineProperty(e.prototype,"imageKey",{get:function(){return this._imageKey},set:function(t){this._imageKey!==t&&(this._imageKey=t,this.updateSprite())},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{p.default.init(),this._sprite=this.getComponent(cc.Sprite),this._sprite.spriteFrame&&(this.imageKey=this._sprite.spriteFrame.name)}catch(t){cc.error(t)}},e.prototype.updateSprite=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:switch(t="",p.default.curLang){case p.LangType.ZH:t="textures/localizedImage/zh/";break;case p.LangType.EN:t="textures/localizedImage/en/";break;default:return[2]}return t+=this.imageKey,[3,1];case 1:return[4,l.default.load(t,cc.SpriteFrame)];case 2:(e=n.sent())&&(this._sprite.spriteFrame=e),n.label=3;case 3:return[2]}})})},r([u.preloadEvent(s.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateSprite",null),r([f,u.eventsOnLoad(),d,y(cc.Sprite),_("Framework/I18N/LocalizedSprite")],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","../common/util/Res":"Res","./I18n":"I18n"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"eef8c5qJslOQ71iswi/FuxY","Main");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DcLab=null,e}return i(e,t),e.prototype.start=function(){a.default.inst.enterHome()},e.prototype.lateUpdate=function(){this.DcLab.string="DrawCall: "+cc.renderer.drawCalls},r([u(cc.Label)],e.prototype,"DcLab",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer"}],Random:[function(t,e,n){"use strict";cc._RF.push(e,"67025YgSQdGQ6vst9yFrddx","Random"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Tool"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=function(){function t(){}return t.hashCode=function(t,e){void 0===e&&(e=0);var n=e;if(!t)return n;for(var o=0;o<t.length;o++)n=31*n+t.charCodeAt(o),n%=233280;return n},t.getSeed=function(t){void 0===t&&(t=8);for(var e="",n=0;n<t;n++)e+=o.default.arrayRand(i);return e},t.random=function(t){return(9301*("string"==typeof t?this.hashCode(t):t)+49297)%233280/233280},t.int=function(t,e,n){return void 0===n&&(n=void 0),void 0===n&&(n=e,e=0),e=Math.ceil(e),n=Math.floor(n),Math.floor(this.random(t)*(n-e))+e},t.float=function(t,e,n){return void 0===n&&(n=void 0),void 0===n&&(n=e,e=0),this.random(t)*(n-e)+e},t}();n.default=r,cc._RF.pop()},{"./Tool":"Tool"}],RecyclePool:[function(t,e,n){"use strict";cc._RF.push(e,"a65467UylROdo6A5J2HqlLb","RecyclePool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.size=function(t){var e="string"==typeof t?this._urlMap.get(t):this._cmptMap.get(t);return void 0===e?0:e.length},t.clear=function(t){if("string"==typeof t){if(void 0===(o=this._urlMap.get(t)))return;for(var e=o.length,n=0;n<e;++n)o[n].destroy();o.length=0,this._urlMap.delete(t)}else{var o;if(void 0===(o=this._cmptMap.get(t)))return;for(e=o.length,n=0;n<e;++n)o[n].destroy();o.length=0,this._cmptMap.delete(t)}},t.clearAll=function(){this._urlMap.forEach(function(t){for(var e=t.length,n=0;n<e;++n)t[n].destroy()}),this._urlMap.clear(),this._cmptMap.forEach(function(t){for(var e=t.length,n=0;n<e;++n)t[n].destroy()}),this._cmptMap.clear()},t.get=function(t){if("string"==typeof t){if(void 0===(n=this._urlMap.get(t))||n.length<=0)return null;var e=n[o=n.length-1];return n.length=o,e}var n,o;if(void 0===(n=this._cmptMap.get(t))||n.length<=0)return null;e=n[o=n.length-1],n.length=o;var i=e.getComponent(t);return i&&i.reuse&&i.reuse(),e},t.put=function(e,n){if(n)if("string"==typeof e){if(void 0===(o=this._urlMap.get(e)))o=[],this._urlMap.set(e,o);else{if(-1!==o.indexOf(n))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(o.length>=t.limit)return n.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}n.removeFromParent(!1),o.push(n)}else{var o;if(void 0===(o=this._cmptMap.get(e)))o=[],this._cmptMap.set(e,o);else{if(-1!==o.indexOf(n))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(o.length>=t.limit)return n.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}n.removeFromParent(!1);var i=n.getComponent(e);i&&i.unuse&&i.unuse(),o.push(n)}else cc.error("[RecyclePool.put] error: \u4f20\u5165\u8282\u70b9\u4e3a\u7a7a")},t._urlMap=new Map,t._cmptMap=new Map,t.limit=512,t}();n.default=o,cc._RF.pop()},{}],"Res copy":[function(t,e,n){"use strict";cc._RF.push(e,"2e0b5bC6HVI27ePNVp5gU5+","Res copy");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.get=function(t,e){var n=null;if(e===cc.Prefab){var o=this._prefabCache.get(t);if(!o)return cc.error("[Res.get] error: \u8d44\u6e90\u672a\u52a0\u8f7d url: "+t),null;n=o.prefab}return n},t.load=function(t,e,n){return void 0===n&&(n=!0),o(this,void 0,Promise,function(){var o;return i(this,function(i){switch(i.label){case 0:return(o=this.get(t,e))?[2,o]:[4,new Promise(function(n){cc.resources.load(t,e,function(t,e){t?(cc.error("[Res.load] error: "+t),n(null)):n(e)})})];case 1:return o=i.sent(),this.cacheAsset(t,o,n),[2,o]}})})},t.loadDir=function(t,e,n){var o=this;return void 0===n&&(n=!0),new Promise(function(i){cc.resources.loadDir(t,e,function(e,r){e?(cc.error("[Res.loadDir] error: "+e),i([])):(r.forEach(function(e){o.cacheAsset(t,e,n)}),i(r))})})},t.cacheAsset=function(t,e,n){if(void 0===n&&(n=!0),e instanceof cc.Prefab){if(this._prefabCache.has(t))return;e.addRef(),e._cacheUrl=t;var o={prefab:e,release:n};this._prefabCache.set(t,o)}},t.instantiate=function(t){var e=cc.instantiate(t);return t._cacheUrl&&this._prefabCache.get(t._cacheUrl).nodes.push(e),e},t.releaseAll=function(){var t=this;this._prefabCache.forEach(function(e,n){if(e.release){if(e.hasOwnProperty("nodes")){for(var o=e.nodes.length-1;o>=0;o--)e.nodes[o].isValid||e.nodes.splice(o,1);0===e.nodes.length&&delete e.nodes}e.hasOwnProperty("nodes")||(e.prefab.decRef(),t._prefabCache.delete(n))}})},t.clear=function(){cc.resources.releaseAll()},t._prefabCache=new Map,t}();n.default=r,cc._RF.pop()},{}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"e6bb4ug0+BII76RLebcZhXt","Res");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.get=function(t,e){return cc.resources.get(t,e)||(cc.error("[Res.get] error: \u8d44\u6e90\u672a\u52a0\u8f7d url: "+t),null)},t.load=function(t,e){return o(this,void 0,Promise,function(){var n;return i(this,function(o){switch(o.label){case 0:return(n=cc.resources.get(t,e))?[2,n]:[4,new Promise(function(n){cc.resources.load(t,e,function(t,e){t?(cc.error("[Res.load] error: "+t),n(null)):n(e)})})];case 1:return[2,n=o.sent()]}})})},t.loadDir=function(t,e){return new Promise(function(n){cc.resources.loadDir(t,e,function(t,e){t?(cc.error("[Res.loadDir] error: "+t),n([])):n(e)})})},t.clear=function(){cc.resources.releaseAll()},t}();n.default=r,cc._RF.pop()},{}],ShaderFill:[function(t,e,n){"use strict";cc._RF.push(e,"63dfaBxVipD7bEv99K+9+0u","ShaderFill");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=a.menu,l=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FillColor=new cc.Color,e.FillPhase=0,e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("fillColor",this.FillColor),this.mat.setProperty("fillPhase",this.FillPhase)},r([s({tooltip:!1})],e.prototype,"FillColor",void 0),r([s({tooltip:!1,range:[0,1]})],e.prototype,"FillPhase",void 0),r([c,l,p,u("Framework/Shader/ShaderFill")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],ShaderOutline:[function(t,e,n){"use strict";cc._RF.push(e,"d2a0bLIldJHoqHhJxTVBs5H","ShaderOutline");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,c=cc._decorator,s=c.ccclass,u=c.property,l=c.menu,p=c.disallowMultiple,h=c.executeInEditMode;(function(t){t[t.NONE=0]="NONE",t[t.OUT=1]="OUT",t[t.INNER=2]="INNER"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OutlineColor=new cc.Color,e.OutLineWidth=0,e.OutlineType=a.NONE,e.TextureSize=new cc.Size(1,1),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("outlineColor",this.OutlineColor),this.mat.setProperty("outlineInfo",new cc.Vec4(this.TextureSize.width,this.TextureSize.height,this.OutLineWidth,this.OutlineType))},r([u({tooltip:!1})],e.prototype,"OutlineColor",void 0),r([u({tooltip:!1})],e.prototype,"OutLineWidth",void 0),r([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"OutlineType",void 0),r([u({tooltip:!1})],e.prototype,"TextureSize",void 0),r([s,p,h,l("Framework/Shader/ShaderOutline")],e)}(cc.Component);n.default=f,cc._RF.pop()},{}],ShaderTile:[function(t,e,n){"use strict";cc._RF.push(e,"e6e3agdOnJF/o7rgEOg4Iq+","ShaderTile");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=a.menu,l=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Scale=new cc.Vec2(1,1),e.Offset=new cc.Vec2(0,0),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("tile",new cc.Vec4(this.Scale.x,this.Scale.y,this.Offset.x,this.Offset.y))},r([s({tooltip:!1})],e.prototype,"Scale",void 0),r([s({tooltip:!1})],e.prototype,"Offset",void 0),r([c,l,p,u("Framework/Shader/ShaderTile")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],ShakeNode:[function(t,e,n){"use strict";cc._RF.push(e,"936e8flAq9L248TlLh5Hzd0","ShakeNode");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../util/Tween"),c=cc._decorator,s=c.ccclass,u=c.property,l=c.menu,p=c.disallowMultiple,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ShakePower=5,e.ShakeTime=.16,e.TimeScale=!1,e._tween=null,e}return i(e,t),e.prototype.shake=function(t){if(void 0===t&&(t=5),!(this._tween&&this._tween.isPlaying()||t<=0||this.ShakePower<=0||this.ShakeTime<=0)){var e=cc.v2(0,this.ShakePower);this.node.setPosition(e);for(var n=[],o=[],i=1;i<=8;i++){var r=e.rotate(Math.PI/4*3*i);n.push(r.x),o.push(r.y)}this._tween=this.TimeScale?new a.Tween(this.node,a.SCALE_TWEEN):new a.Tween(this.node),this._tween.to({x:n,y:o},1e3*this.ShakeTime).repeat(t).start()}},r([u({tooltip:!1})],e.prototype,"ShakePower",void 0),r([u({tooltip:!1})],e.prototype,"ShakeTime",void 0),r([u({tooltip:!1})],e.prototype,"TimeScale",void 0),r([s,p,l("Framework/UI\u7ec4\u4ef6/ShakeNode")],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../util/Tween":"Tween"}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"435944whQBN4o91RvmJFpuA","Timer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=t("../../util/Tween"),u=cc._decorator,l=u.ccclass,p=(u.property,u.executionOrder),h=u.menu,f=u.disallowMultiple,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,Object.defineProperty(e,"timeScale",{get:function(){return this._timeScale},set:function(t){t===this._timeScale||t<0||(this._timeScale=t,c.default.emit(a.EventName.TIME_SCALE))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"realDt",{get:function(){return this._realDt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleDt",{get:function(){return this._realDt*this._timeScale},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameSec",{get:function(){return this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameMs",{get:function(){return 1e3*this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameSec",{get:function(){return this._scaleGameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameMs",{get:function(){return 1e3*this._scaleGameSec},enumerable:!1,configurable:!0}),e.reset=function(){this._puaseCount=0,this._timeScale=1,this._lastTimeScale=1},e.gamePause=function(){this._puaseCount++,this._puaseCount>1||(this._lastTimeScale=this._timeScale,this._timeScale=0,c.default.emit(a.EventName.GAME_PAUSE))},e.gameResume=function(){this._puaseCount<=0||(this._puaseCount--,this._puaseCount<=0&&(this._timeScale=this._lastTimeScale,c.default.emit(a.EventName.GAME_RESUME)))},e.getFormatTime=function(t){var e=Math.floor(t),n=Math.floor(e/60),o=Math.floor(e/3600),i=n%60<10?"0"+n%60:""+n%60,r=e%60<10?"0"+e%60:""+e%60;return o>0?(o<10?"0"+o:""+o)+":"+i+":"+r:i+":"+r},e.prototype.onDestroy=function(){s.TWEEN.removeAll(),s.SCALE_TWEEN.removeAll()},e.prototype.update=function(t){n._realDt=t,n._gameSec+=t,n._scaleGameSec+=n.scaleDt,s.TWEEN.update(n.gameMs),n.scaleDt>0&&s.SCALE_TWEEN.update(n.scaleGameMs)},e._puaseCount=0,e._lastTimeScale=1,e._timeScale=1,e._realDt=0,e._gameSec=0,e._scaleGameSec=0,n=r([l,f,p(-1e3),h("Framework/\u57fa\u7840\u7ec4\u4ef6/Timer")],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events","../../util/Tween":"Tween"}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"86d61wcIsZPSrb29FvmFJRL","Tip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=a.disallowMultiple,l=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Layout=null,e.TextLab=null,e}return i(e,t),e.prototype.init=function(t){this.TextLab.string=t,this.TextLab._forceUpdateRenderData(),this.Layout.updateLayout()},r([s(cc.Layout)],e.prototype,"Layout",void 0),r([s(cc.Label)],e.prototype,"TextLab",void 0),r([c,u,l("Framework/\u57fa\u7840\u7ec4\u4ef6/Tip")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],Tool:[function(t,e,n){"use strict";cc._RF.push(e,"8f0aaDZc6xBdrsOcvbGZFVC","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.deepCopy=function(t){if("object"!=typeof t||null===t||t instanceof RegExp)return t;var e=null;if(Array.isArray(t)){e=[];for(var n=0,o=t;n<o.length;n++){var i=o[n];e.push(this.deepCopy(i))}}else for(var r in e={},t)e[r]=this.deepCopy(t[r]);return e},t.wait=function(t){return new Promise(function(e){setTimeout(function(){e(null)},1e3*t)})},t.waitCmpt=function(t,e){return new Promise(function(n){t.scheduleOnce(function(){n()},e)})},t.lerp=function(t,e,n,o){void 0===o&&(o=0),o=Math.abs(o);var i=e-t,r=i*n;return r=r<0?Math.min(r,-o):Math.max(r,o),Math.abs(r)>Math.abs(i)&&(r=i),t+r},t.calcTwoPointForm=function(t,e,n){return t.x===e.x?t.y:(e.y-t.y)*(n-t.x)/(e.x-t.x)+t.y},t.overlapRect=function(t,e){var n=Math.max(t.xMin,e.xMin),o=Math.min(t.xMax,e.xMax),i=Math.max(t.yMin,e.yMin),r=Math.min(t.yMax,e.yMax);return n>o||i>r?null:cc.rect(n,i,o-n,r-i)},t.inRange=function(t,e,n,o){return void 0===o&&(o=!0),o?n>=t&&n<=e:n>t&&n<e},t.randInt=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.randFloat=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),Math.random()*(e-t)+t},t.shuffleString=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e=this.shuffle(e),t="",e.forEach(function(e){t+=e}),t},t.shuffle=function(t){for(var e,n=t.length-1;n>=0;n--){var o=Math.floor(Math.random()*(n+1));e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}return t},t.arrayRand=function(t){return t.length<=0?null:t[this.randInt(0,t.length)]},t.arrayHas=function(t,e){return("function"!=typeof e?t.findIndex(function(t){return t===e}):t.findIndex(e))>=0},t.arraySwap=function(t,e,n){var o;e!==n&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,n)&&(o=[t[n],t[e]],t[e]=o[0],t[n]=o[1])},t.arrayMove=function(t,e,n){if(e!==n&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,n)){var o=t.splice(e,1);t.splice(n,0,o[0])}},t.arrayAdd=function(t,e,n){return void 0===n&&(n=!1),!(!n&&this.arrayHas(t,e)||(t.push(e),0))},t.arrayDelete=function(t,e){var n=t.findIndex(function(t){return t===e});return n>=0&&(t.splice(n,1),!0)},t.nodeRecursive=function(t,e,n){var o=this;void 0===n&&(n=void 0),t instanceof cc.Node?(e.call(n,t),t.children.forEach(function(t){o.nodeRecursive(t,e,n)})):Array.isArray(t)&&t.forEach(function(t){o.nodeRecursive(t,e,n)})},t.clearChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){t.destroyAllChildren(),t.removeAllChildren()})},t}();n.default=o,cc._RF.pop()},{}],Tween:[function(t,e,n){"use strict";cc._RF.push(e,"c1812TWgDxL9rRQRBc+TfTK","Tween"),Object.defineProperty(n,"__esModule",{value:!0}),n.SCALE_TWEEN=n.TWEEN=n.VERSION=n.Tween=n.Sequence=n.Interpolation=n.Group=n.Easing=void 0;var o=t("../cmpt/base/Timer");n.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Easing.Bounce.In(2*t):.5*n.Easing.Bounce.Out(2*t-1)+.5}}};var i,r="undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=r()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(var o=0;o<n.length;o++)(i=this._tweens[n[o]])&&!i.isCCObjectValid()&&i.stop();if(0===(n=Object.keys(this._tweens)).length)return!1;for(;n.length>0;){for(this._tweensAddedDuringUpdate={},o=0;o<n.length;o++){var i,a=!e;(i=this._tweens[n[o]])&&!1===i.update(t,a)&&!e&&delete this._tweens[n[o]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}();n.Group=a,n.Interpolation={Linear:function(t,e){var o=t.length-1,i=o*e,r=Math.floor(i),a=n.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[o],t[o-1],o-i):a(t[r],t[r+1>o?o:r+1],i-r)},Bezier:function(t,e){for(var o=0,i=t.length-1,r=Math.pow,a=n.Interpolation.Utils.Bernstein,c=0;c<=i;c++)o+=r(1-e,i-c)*r(e,c)*t[c]*a(i,c);return o},CatmullRom:function(t,e){var o=t.length-1,i=o*e,r=Math.floor(i),a=n.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(e<0&&(r=Math.floor(i=o*(1+e))),a(t[(r-1+o)%o],t[r],t[(r+1)%o],t[(r+2)%o],i-r)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[o]-(a(t[o],t[o],t[o-1],t[o-1],i-o)-t[o]):a(t[r?r-1:0],t[r],t[o<r+1?o:r+1],t[o<r+2?o:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var o=n.Interpolation.Utils.Factorial;return o(t)/o(e)/o(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var n=t;n>1;n--)e*=n;return i[t]=e,e}),CatmullRom:function(t,e,n,o,i){var r=.5*(n-t),a=.5*(o-e),c=i*i;return(2*e-2*n+r+a)*i*c+(-3*e+3*n-2*r-a)*c+r*i+e}}};var c=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}();n.Sequence=c;var s=new a,u=new a,l=function(){function t(t,e){void 0===e&&(e=s),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Easing.Linear.None,this._interpolationFunction=n.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=c.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.bindCCObject=function(t){this._ccObject=t},t.prototype.isCCObjectValid=function(){return!(this._object instanceof cc.Object&&!this._object.isValid||this._ccObject instanceof cc.Object&&!this._ccObject.isValid)},t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(void 0===t&&(this._group===s?t=o.default.gameMs:this._group===u&&(t=o.default.scaleGameMs)),this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?r()+parseFloat(t):t:r(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,o){for(var i in n){var r=t[i],a=Array.isArray(r),c=a?"array":typeof r,s=!a&&Array.isArray(n[i]);if("undefined"!==c&&"function"!==c){if(s){var u=n[i];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,r)),n[i]=[r].concat(u)}if("object"!==c&&!a||!r||s)void 0===e[i]&&(e[i]=r),a||(e[i]*=1),o[i]=s?n[i].slice().reverse():e[i]||0;else{for(var l in e[i]=a?[]:{},r)e[i][l]=r[l];o[i]=a?[]:{},this._setupProperties(r,e[i],n[i],o[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=r()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},t.prototype.resume=function(t){return void 0===t&&(t=r()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=[];for(var n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=r()),void 0===e&&(e=!0),this._isPaused)return!0;var n,o,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(t-this._startTime)/this._duration,o=0===this._duration||o>1?1:o;var a=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),1===o){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,s=this._chainedTweens.length;c<s;c++)this._chainedTweens[c].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,o){for(var i in n)if(void 0!==e[i]){var r=e[i]||0,a=n[i],c=Array.isArray(t[i]),s=Array.isArray(a);!c&&s?t[i]=this._interpolationFunction(a,o):"object"==typeof a&&a?this._updateProperties(t[i],r,a,o):"number"==typeof(a=this._handleRelativeValue(r,a))&&(t[i]=r+(a-r)*o)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}();n.Tween=l,n.VERSION="18.6.4",c.nextId,n.TWEEN=s,n.SCALE_TWEEN=u,cc._RF.pop()},{"../cmpt/base/Timer":"Timer"}],Url:[function(t,e,n){"use strict";cc._RF.push(e,"a8f33QbcWNMTZ0PfOQy5Uvh","Url"),Object.defineProperty(n,"__esModule",{value:!0}),n.DirUrl=n.ResUrl=void 0,n.ResUrl={PREFAB:{TIP:"prefab/tip/Tip",HOME:"prefab/home/Home",GAME:"prefab/game/Game"},AUDIO:{BGM1:"audio/bgm1",BGM2:"audio/bgm2",SFX1:"audio/sfx1",SFX2:"audio/sfx2",SFX_UI:"audio/sfxUi"}},n.DirUrl={PREFAB:"prefab/",PREFAB_DIALOG:"prefab/dialog/",ATLAS:"atlas/",TEXTURE:"textures/",AUDIO:"audio/"},cc._RF.pop()},{}],VirtualItem:[function(t,e,n){"use strict";cc._RF.push(e,"37390yL2g9Gx56ICLo3MK1K","VirtualItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,a.disallowMultiple),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DataIdx=0,e}return i(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setOtherNode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onReset=function(){},e.prototype.getRealSize=function(){return this.node.getContentSize()},r([c,s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],VirtualLayout:[function(t,e,n){"use strict";cc._RF.push(e,"23c51D+ML1JI7Nz58WdBOmf","VirtualLayout");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0});var c,s,u,l,p=t("./VirtualItem"),h=t("./VirtualList"),f=cc._decorator,d=f.ccclass,_=f.property,y=f.disallowMultiple;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"})(c||(c={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(s||(s={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(u||(u={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(l||(l={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type=c.VERTICAL,e.StartAxis=s.HORIZONTAL,e.Left=0,e.Right=0,e.Top=0,e.Bottom=0,e.SpacingX=0,e.SpacingY=0,e.VerticalDirection=l.TOP_TO_BOTTOM,e.HorizontalDirection=u.LEFT_TO_RIGHT,e._view=null,e._viewEdge=null,e._fixedSize=null,e._sizeDirty=!1,e._viewDirty=!1,e._items=[],e._itemPool=[],e._otherItemsArr=[],e._otherItemPoolArr=[],e.list=null,e.dataArr=[],e}return i(e,t),e.prototype.onInit=function(){var t=this;this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this.list.Others.forEach(function(){t._otherItemsArr.push([]),t._otherItemPoolArr.push([])}),this.list.IsFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getContentSize()),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.lateUpdate=function(){this.updateSize(),this.updateView()},e.prototype.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this.list.IsFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},e.prototype.updateSizeFixed=function(){if(this.Type===c.VERTICAL){if(this.dataArr.length<=0)return void(this.node.height=0);this.node.height=this.Top+this.Bottom+(this.dataArr.length-1)*this.SpacingY+this._fixedSize.height*this.dataArr.length}else if(this.Type===c.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.width=0);this.node.width=this.Left+this.Right+(this.dataArr.length-1)*this.SpacingX+this._fixedSize.width*this.dataArr.length}else if(this.StartAxis===s.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.height=0);var t=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));t=Math.max(t,1);var e=Math.ceil(this.dataArr.length/t);this.node.height=this.Top+this.Bottom+(e-1)*this.SpacingY+this._fixedSize.height*e}else{if(this.dataArr.length<=0)return void(this.node.width=0);t=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY)),t=Math.max(t,1);var n=Math.ceil(this.dataArr.length/t);this.node.width=this.Left+this.Right+(n-1)*this.SpacingX+this._fixedSize.width*n}},e.prototype.updateSizeUnfixed=function(){},e.prototype.updateView=function(){!this._viewDirty||this.dataArr.length<=0||(this._viewDirty=!1,this.list.IsFixedSize?this.updateViewFixed():this.updateViewUnfixed())},e.prototype.updateViewFixed=function(){var t,e,n,o,i=this,r=this.checkViewItem(),a=r.inView,h=r.outView,f=this.getNodeEdgeRect(this.node);if(this.Type===c.VERTICAL)for(var d=function(t){if(_.VerticalDirection===l.TOP_TO_BOTTOM){if(n=f.yMax-(_.Top+t*_.SpacingY+_._fixedSize.height*t),o=n-_._fixedSize.height,n+_.node.y<_._viewEdge.yMin)return{value:void 0};if(o+_.node.y>_._viewEdge.yMax)return"continue"}else{if(o=f.yMin+_.Bottom+t*_.SpacingY+_._fixedSize.height*t,n=o+_._fixedSize.height,o+_.node.y>_._viewEdge.yMax)return{value:void 0};if(n+_.node.y<_._viewEdge.yMin)return"continue"}if(-1!==a.findIndex(function(e){return i._items[e].getComponent(p.default).DataIdx===t}))return"continue";var e=0===h.length?_.addItemNode():h.shift(),r=_._items[e];_.setItem(cc.v3(0,o+r.anchorY*r.height),t,e)},_=this,y=0;y<this.dataArr.length;y++){var m=d(y);if("object"==typeof m)return m.value}else if(this.Type===c.HORIZONTAL){var g=function(n){if(v.HorizontalDirection===u.RIGHT_TO_LEFT){if(t=f.xMax-(v.Right+n*v.SpacingX+v._fixedSize.width*n),e=t-v._fixedSize.width,t+v.node.x<v._viewEdge.xMin)return{value:void 0};if(e+v.node.x>v._viewEdge.xMax)return"continue"}else{if(e=f.xMin+v.Left+n*v.SpacingX+v._fixedSize.width*n,t=e+v._fixedSize.width,e+v.node.x>v._viewEdge.xMax)return{value:void 0};if(t+v.node.x<v._viewEdge.xMin)return"continue"}if(-1!==a.findIndex(function(t){return i._items[t].getComponent(p.default).DataIdx===n}))return"continue";var o=0===h.length?v.addItemNode():h.shift(),r=v._items[o];v.setItem(cc.v3(e+r.anchorX*r.width,0),n,o)},v=this;for(y=0;y<this.dataArr.length;y++){var b=g(y);if("object"==typeof b)return b.value}}else{var O=function(r){var c=0,d=0;if(A.StartAxis===s.HORIZONTAL){var _=Math.floor((A.node.width-A.Left-A.Right+A.SpacingX)/(A._fixedSize.width+A.SpacingX));if(_=Math.max(_,1),c=Math.floor(r/_),d=r%_,A.VerticalDirection===l.TOP_TO_BOTTOM){if(n=f.yMax-(A.Top+c*A.SpacingY+A._fixedSize.height*c),o=n-A._fixedSize.height,n+A.node.y<A._viewEdge.yMin)return{value:void 0};if(o+A.node.y>A._viewEdge.yMax)return"continue"}else{if(o=f.yMin+A.Bottom+c*A.SpacingY+A._fixedSize.height*c,n=o+A._fixedSize.height,o+A.node.y>A._viewEdge.yMax)return{value:void 0};if(n+A.node.y<A._viewEdge.yMin)return"continue"}if(A.HorizontalDirection===u.RIGHT_TO_LEFT){if(t=f.xMax-(A.Right+d*A.SpacingX+A._fixedSize.width*d),e=t-A._fixedSize.width,t+A.node.x<A._viewEdge.xMin)return"continue";if(e+A.node.x>A._viewEdge.xMax)return"continue"}else{if(e=f.xMin+A.Left+d*A.SpacingX+A._fixedSize.width*d,t=e+A._fixedSize.width,e+A.node.x>A._viewEdge.xMax)return"continue";if(t+A.node.x<A._viewEdge.xMin)return"continue"}}else{if(_=Math.floor((A.node.height-A.Top-A.Bottom+A.SpacingY)/(A._fixedSize.height+A.SpacingY)),_=Math.max(_,1),c=r%_,d=Math.floor(r/_),A.HorizontalDirection===u.RIGHT_TO_LEFT){if(t=f.xMax-(A.Right+d*A.SpacingX+A._fixedSize.width*d),e=t-A._fixedSize.width,t+A.node.x<A._viewEdge.xMin)return{value:void 0};if(e+A.node.x>A._viewEdge.xMax)return"continue"}else{if(e=f.xMin+A.Left+d*A.SpacingX+A._fixedSize.width*d,t=e+A._fixedSize.width,e+A.node.x>A._viewEdge.xMax)return{value:void 0};if(t+A.node.x<A._viewEdge.xMin)return"continue"}if(A.VerticalDirection===l.TOP_TO_BOTTOM){if(n=f.yMax-(A.Top+c*A.SpacingY+A._fixedSize.height*c),o=n-A._fixedSize.height,n+A.node.y<A._viewEdge.yMin)return"continue";if(o+A.node.y>A._viewEdge.yMax)return"continue"}else{if(o=f.yMin+A.Bottom+c*A.SpacingY+A._fixedSize.height*c,n=o+A._fixedSize.height,o+A.node.y>A._viewEdge.yMax)return"continue";if(n+A.node.y<A._viewEdge.yMin)return"continue"}}if(-1!==a.findIndex(function(t){return i._items[t].getComponent(p.default).DataIdx===r}))return"continue";var y=0===h.length?A.addItemNode():h.shift(),m=A._items[y];A.setItem(cc.v3(e+m.anchorX*m.width,o+m.anchorY*m.height),r,y)},A=this;for(y=0;y<this.dataArr.length;y++){var w=O(y);if("object"==typeof w)return w.value}}},e.prototype.updateViewUnfixed=function(){},e.prototype.checkViewItem=function(){return this.list.IsFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()},e.prototype.checkViewItemFixed=function(){var t=[],e=[];if(this.Type===c.VERTICAL)for(var n=0;n<this._items.length;n++)(o=this._items[n].getBoundingBox()).yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(n):e.push(n);else if(this.Type===c.HORIZONTAL)for(n=0;n<this._items.length;n++)(o=this._items[n].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin?t.push(n):e.push(n);else for(n=0;n<this._items.length;n++){var o;(o=this._items[n].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&o.xMax+this.node.x>=this._viewEdge.xMin&&o.yMin+this.node.y<=this._viewEdge.yMax&&o.yMax+this.node.y>=this._viewEdge.yMin?t.push(n):e.push(n)}return{inView:t,outView:e}},e.prototype.checkViewItemUnfixed=function(){return{inView:[],outView:[]}},e.prototype.setItem=function(t,e,n){var o=this._items[n];o.position=t;var i=o.getComponent(p.default);if(i.DataIdx=e,i.onInit.apply(i,this.dataArr[e]),this.list.Others.length>0){var r=[];this._otherItemsArr.forEach(function(e){e[n].position=t,r.push(e[n])}),i.setOtherNode.apply(i,r)}},e.prototype.addItemNode=function(t){var e=this;void 0===t&&(t=!0);var n=null;if(this._itemPool.length>0)(n=this._itemPool.pop()).active=!0,this._items.push(n),this._otherItemPoolArr.forEach(function(t,n){var o=t.pop();o.active=!0,e._otherItemsArr[n].push(o)});else{var o=this.list.Main.TemplateType===h.TemplateType.PREFAB?this.list.Main.TemplatePrefab:this.list.Main.TemplateNode;(n=cc.instantiate(o)).getComponent(p.default)||n.addComponent(p.default),this.node.addChild(n),t?(n.active=!0,this._items.push(n)):(n.active=!1,this.putItemNode(n)),this.list.Others.forEach(function(n,o){var i=n.TemplateType===h.TemplateType.PREFAB?n.TemplatePrefab:n.TemplateNode,r=cc.instantiate(i);n.Content.addChild(r),t?(r.active=!0,e._otherItemsArr[o].push(r)):(r.active=!1,e.putItemNode(r,!0,o))})}return this._items.length-1},e.prototype.putItemNode=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0),t.active=!1,e?this._otherItemPoolArr[n].push(t):(t.getComponent(p.default).onReset(),this._itemPool.push(t))},e.prototype.convertToParentPos=function(t,e){return t.add(e.position)},e.prototype.convertToChildPos=function(t,e){return t.sub(e.position)},e.prototype.getNodeEdgeRect=function(t){return cc.rect(-t.width*t.anchorX,-t.height*t.anchorY,t.width,t.height)},e.prototype.onPositionChanged=function(){var t=this;this._viewDirty=!0,this.list.Others.forEach(function(e){e.Content.position=t.node.position})},e.prototype.clearAllItem=function(){var t=this;this._items.forEach(function(e,n){t.putItemNode(e),t._otherItemsArr.forEach(function(e,o){t.putItemNode(e[n],!0,o)})}),this._items.length=0,this._otherItemsArr.forEach(function(t){t.length=0})},e.prototype.getScrollOffset=function(t,e,n){return t=Math.min(t,this.dataArr.length-1),this.list.IsFixedSize?this.getScrollOffsetFixed(t,e,n):this.getScrollOffsetUnfixed(t,e,n)},e.prototype.getScrollOffsetFixed=function(t,e,n){var o,i,r=this.getNodeEdgeRect(this.node);if(this.Type===c.VERTICAL){this.VerticalDirection===l.TOP_TO_BOTTOM?i=r.yMax-(this.Top+t*this.SpacingY+this._fixedSize.height*t)-this._fixedSize.height:(i=r.yMin+this.Bottom+t*this.SpacingY+this._fixedSize.height*t,this._fixedSize.height);var a=this._viewEdge.xMin-(r.xMin+this.node.x),p=r.yMax-(this._fixedSize.height*e.y+i)-(1-n.y)*this._viewEdge.height;return cc.v2(a,p)}if(this.Type===c.HORIZONTAL)return this.HorizontalDirection===u.RIGHT_TO_LEFT?o=r.xMax-(this.Right+t*this.SpacingX+this._fixedSize.width*t)-this._fixedSize.width:(o=r.xMin+this.Left+t*this.SpacingX+this._fixedSize.width*t,this._fixedSize.width),a=this._fixedSize.width*e.x+o-r.xMin-n.x*this._viewEdge.width,p=r.yMax-(this._viewEdge.yMax-this.node.y),cc.v2(a,p);var h=0,f=0;if(this.StartAxis===s.HORIZONTAL){var d=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));d=Math.max(d,1),h=Math.floor(t/d),f=t%d}else d=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY)),h=t%(d=Math.max(d,1)),f=Math.floor(t/d);return this.VerticalDirection===l.TOP_TO_BOTTOM?i=r.yMax-(this.Top+h*this.SpacingY+this._fixedSize.height*h)-this._fixedSize.height:(i=r.yMin+this.Bottom+h*this.SpacingY+this._fixedSize.height*h,this._fixedSize.height),this.HorizontalDirection===u.RIGHT_TO_LEFT?o=r.xMax-(this.Right+f*this.SpacingX+this._fixedSize.width*f)-this._fixedSize.width:(o=r.xMin+this.Left+f*this.SpacingX+this._fixedSize.width*f,this._fixedSize.width),a=this._fixedSize.width*e.x+o-r.xMin-n.x*this._viewEdge.width,p=r.yMax-(this._fixedSize.height*e.y+i)-(1-n.y)*this._viewEdge.height,cc.v2(a,p)},e.prototype.getScrollOffsetUnfixed=function(){return null},e.prototype.reset=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t>=0&&t<this.dataArr.length&&(this.dataArr[t]=e,this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataArr.push(t),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.pop=function(){this.dataArr.pop(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataArr.unshift(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.shift=function(){this.dataArr.shift(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.splice=function(t,e){for(var n,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];void 0===e?this.dataArr.splice(t):void 0===o||0===o.length?this.dataArr.splice(t,e):(n=this.dataArr).splice.apply(n,a([t,e],o)),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.sort=function(t){this.dataArr.sort(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},r([_({type:cc.Enum(c),tooltip:!1})],e.prototype,"Type",void 0),r([_({type:cc.Enum(s),tooltip:!1,visible:function(){return this.Type===c.GRID}})],e.prototype,"StartAxis",void 0),r([_({visible:function(){return this.Type===c.HORIZONTAL||this.Type===c.GRID}})],e.prototype,"Left",void 0),r([_({visible:function(){return this.Type===c.HORIZONTAL||this.Type===c.GRID}})],e.prototype,"Right",void 0),r([_({visible:function(){return this.Type===c.VERTICAL||this.Type===c.GRID}})],e.prototype,"Top",void 0),r([_({visible:function(){return this.Type===c.VERTICAL||this.Type===c.GRID}})],e.prototype,"Bottom",void 0),r([_({visible:function(){return this.Type===c.HORIZONTAL||this.Type===c.GRID}})],e.prototype,"SpacingX",void 0),r([_({visible:function(){return this.Type===c.VERTICAL||this.Type===c.GRID}})],e.prototype,"SpacingY",void 0),r([_({type:cc.Enum(l),visible:function(){return this.Type===c.VERTICAL||this.Type===c.GRID}})],e.prototype,"VerticalDirection",void 0),r([_({type:cc.Enum(u),visible:function(){return this.Type===c.HORIZONTAL||this.Type===c.GRID}})],e.prototype,"HorizontalDirection",void 0),r([d,y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"./VirtualItem":"VirtualItem","./VirtualList":"VirtualList"}],VirtualList:[function(t,e,n){"use strict";cc._RF.push(e,"8815fg/3FJEjohj/PrC9n21","VirtualList");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)o[i]=r[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.VirtualLayoutData=n.TemplateType=void 0;var c,s=t("./VirtualLayout"),u=cc._decorator,l=u.ccclass,p=u.property,h=u.requireComponent,f=u.executeInEditMode,d=u.disallowMultiple,_=u.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(c=n.TemplateType||(n.TemplateType={}));var y=function(){function t(){this.Content=null,this.TemplateType=c.PREFAB,this.TemplatePrefab=null,this.TemplateNode=null,this._isMain=!1}return r([p({type:cc.Node,tooltip:!1,visible:function(){return!this._isMain}})],t.prototype,"Content",void 0),r([p({type:cc.Enum(c),tooltip:!1})],t.prototype,"TemplateType",void 0),r([p({type:cc.Prefab,tooltip:!1,visible:function(){return this.TemplateType===c.PREFAB}})],t.prototype,"TemplatePrefab",void 0),r([p({type:cc.Node,tooltip:!1,visible:function(){return this.TemplateType===c.NODE}})],t.prototype,"TemplateNode",void 0),r([p(cc.Boolean)],t.prototype,"_isMain",void 0),r([l("VirtualLayoutData")],t)}();n.VirtualLayoutData=y;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Main=new y,e.Others=[],e.IsFixedSize=!0,e._scrollView=null,e._layout=null,e}return i(e,t),e.prototype.onLoad=function(){this._scrollView=this.getComponent(cc.ScrollView),this._layout=this._scrollView.content.getComponent(s.default),this._layout&&(this._layout.list=this,this._layout.onInit())},e.prototype.resetInEditor=function(){},e.prototype._runEditor=function(){var t=this.getComponent(cc.ScrollView),e=t.content.getComponent(s.default);this.Main.Content||(this.Main.Content=t.content,this.Main._isMain=!0),e||t.content.addComponent(s.default)},e.prototype.scrollItemToView=function(t,e,n,o,i){void 0===e&&(e=cc.v2()),void 0===n&&(n=cc.v2()),void 0===o&&(o=0),void 0===i&&(i=!0),this._scrollView.scrollToOffset(this._layout.getScrollOffset(t,e,n),o,i)},e.prototype.getDataArr=function(){return this._layout.dataArr},e.prototype.reset=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this._layout).reset.apply(e,a([t],n))},e.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this._layout).push.apply(t,e)},e.prototype.pop=function(){this._layout.pop()},e.prototype.unshift=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this._layout).unshift.apply(t,e)},e.prototype.shift=function(){this._layout.shift()},e.prototype.splice=function(t,e){for(var n,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];(n=this._layout).splice.apply(n,a([t,e],o))},e.prototype.sort=function(t){this._layout.sort(t)},r([p({type:y,tooltip:!1})],e.prototype,"Main",void 0),r([p({type:y,tooltip:!1})],e.prototype,"Others",void 0),r([p({visible:!1,tooltip:!1})],e.prototype,"IsFixedSize",void 0),r([l,d,f,h(cc.ScrollView),_("Framework/UI\u7ec4\u4ef6/VirtualList")],e)}(cc.Component);n.default=m,cc._RF.pop()},{"./VirtualLayout":"VirtualLayout"}],Zh:[function(t,e,n){"use strict";cc._RF.push(e,"5cb62aDaJtA4pHlrSAKjTY2","Zh"),Object.defineProperty(n,"__esModule",{value:!0}),n.default={lang:"\u4e2d\u6587",text1:"\u6570\u5b57\uff1a%{num}",text2:"\u53c2\u65701: %{arg1}, \u53c2\u65702: %{arg2}"},cc._RF.pop()},{}]},{},["AnimatorAnimation","AnimatorCustomization","AnimatorDragonBones","AnimatorSpine","AnimatorSpineSecondary","AnimatorBase","AnimatorCondition","AnimatorController","AnimatorParams","AnimatorState","AnimatorStateLogic","AnimatorTransition","DialogBase","Layer","Timer","Tip","ShaderFill","ShaderOutline","ShaderTile","AdaptCanvas","AdaptSize","AnimValue","AnimValueLabel","AnimValueProgress","AnimValueProgressHP","ButtonChildGray","ButtonChildPos","ButtonSingle","ShakeNode","VirtualItem","VirtualLayout","VirtualList","EventName","Url","ButtonHack","AudioManager","Events","Random","RecyclePool","Res copy","Res","Tool","Tween","I18n","LocalizedLabel","LocalizedSprite","En","Zh","DlgAnimValue","DlgAudio","DlgEvents","DlgI18N","DlgLayer","DlgShader","DlgShake","DlgTimer","DlgVirtualList","ListItem","Game","Home","Main"]);